<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EM-ODP: Conversions &amp; extensions</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doc-stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EM-ODP
   &#160;<span id="projectnumber">3.8.0-1</span>
   </div>
   <div id="projectbrief">Event Machine on ODP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d5/d72/group__em__odp__ext.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Conversions &amp; extensions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gade9a3cc70dfb55a188f286907f21c0dc"><td class="memItemLeft" align="right" valign="top">odp_queue_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d72/group__em__odp__ext.html#gade9a3cc70dfb55a188f286907f21c0dc">em_odp_queue_odp</a> (em_queue_t queue)</td></tr>
<tr class="separator:gade9a3cc70dfb55a188f286907f21c0dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73629b7bd54fde861b8294b6993274e4"><td class="memItemLeft" align="right" valign="top">em_queue_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d72/group__em__odp__ext.html#ga73629b7bd54fde861b8294b6993274e4">em_odp_queue_em</a> (odp_queue_t queue)</td></tr>
<tr class="separator:ga73629b7bd54fde861b8294b6993274e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a392c60daa7296ac7b6c83d93654cb6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d72/group__em__odp__ext.html#ga5a392c60daa7296ac7b6c83d93654cb6">em_odp_pktin_event_queues2em</a> (const odp_queue_t odp_pktin_evqueues[], em_queue_t queues[], int num)</td></tr>
<tr class="memdesc:ga5a392c60daa7296ac7b6c83d93654cb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map the given scheduled ODP pktin event queues to new EM queues.  <a href="../../d5/d72/group__em__odp__ext.html#ga5a392c60daa7296ac7b6c83d93654cb6">More...</a><br /></td></tr>
<tr class="separator:ga5a392c60daa7296ac7b6c83d93654cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga965a48f8750e2af43c4a614fa014264a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d72/group__em__odp__ext.html#ga965a48f8750e2af43c4a614fa014264a">em_odp_event_hdr_size</a> (void)</td></tr>
<tr class="separator:ga965a48f8750e2af43c4a614fa014264a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d9a1397890a9b8cebd1094278687f5d"><td class="memItemLeft" align="right" valign="top">odp_event_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d72/group__em__odp__ext.html#ga2d9a1397890a9b8cebd1094278687f5d">em_odp_event2odp</a> (em_event_t event)</td></tr>
<tr class="separator:ga2d9a1397890a9b8cebd1094278687f5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace16a634a62bf3d58eb6963fc9ccb395"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d72/group__em__odp__ext.html#gace16a634a62bf3d58eb6963fc9ccb395">em_odp_events2odp</a> (const em_event_t events[], odp_event_t odp_events[], int num)</td></tr>
<tr class="separator:gace16a634a62bf3d58eb6963fc9ccb395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2d6c2082aee145ef365a565e588ed04"><td class="memItemLeft" align="right" valign="top">em_event_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d72/group__em__odp__ext.html#gaf2d6c2082aee145ef365a565e588ed04">em_odp_event2em</a> (odp_event_t odp_event)</td></tr>
<tr class="separator:gaf2d6c2082aee145ef365a565e588ed04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga811766f4f0d0e5fb029fee07f36c0221"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d72/group__em__odp__ext.html#ga811766f4f0d0e5fb029fee07f36c0221">em_odp_events2em</a> (const odp_event_t odp_events[], em_event_t events[], int num)</td></tr>
<tr class="separator:ga811766f4f0d0e5fb029fee07f36c0221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c02065ab01fe73e2eaf5f0dfd428ace"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d72/group__em__odp__ext.html#ga0c02065ab01fe73e2eaf5f0dfd428ace">em_odp_pool2odp</a> (em_pool_t pool, odp_pool_t odp_pools[], int num)</td></tr>
<tr class="memdesc:ga0c02065ab01fe73e2eaf5f0dfd428ace"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ODP pools used as subpools in a given EM event pool.  <a href="../../d5/d72/group__em__odp__ext.html#ga0c02065ab01fe73e2eaf5f0dfd428ace">More...</a><br /></td></tr>
<tr class="separator:ga0c02065ab01fe73e2eaf5f0dfd428ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga256e4e1efb99bd9bea7e74e990398ed0"><td class="memItemLeft" align="right" valign="top">em_pool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d72/group__em__odp__ext.html#ga256e4e1efb99bd9bea7e74e990398ed0">em_odp_pool2em</a> (odp_pool_t odp_pool)</td></tr>
<tr class="memdesc:ga256e4e1efb99bd9bea7e74e990398ed0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the EM event pool that the given ODP pool belongs to.  <a href="../../d5/d72/group__em__odp__ext.html#ga256e4e1efb99bd9bea7e74e990398ed0">More...</a><br /></td></tr>
<tr class="separator:ga256e4e1efb99bd9bea7e74e990398ed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ad24607dcf526a12988a6153642fecc"><td class="memItemLeft" align="right" valign="top">odp_schedule_group_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d72/group__em__odp__ext.html#ga0ad24607dcf526a12988a6153642fecc">em_odp_qgrp2odp</a> (em_queue_group_t queue_group)</td></tr>
<tr class="memdesc:ga0ad24607dcf526a12988a6153642fecc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ODP schedule group that corresponds to the given EM queue group.  <a href="../../d5/d72/group__em__odp__ext.html#ga0ad24607dcf526a12988a6153642fecc">More...</a><br /></td></tr>
<tr class="separator:ga0ad24607dcf526a12988a6153642fecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01f415bc97ad2a202758fdfb228ed7f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d72/group__em__odp__ext.html#ga01f415bc97ad2a202758fdfb228ed7f0">em_odp_pkt_enqueue</a> (const odp_packet_t pkt_tbl[], int num, em_queue_t queue)</td></tr>
<tr class="separator:ga01f415bc97ad2a202758fdfb228ed7f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga857dfab920eb3ad133ec62d5af8c1ef9"><td class="memItemLeft" align="right" valign="top">odp_timer_pool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d72/group__em__odp__ext.html#ga857dfab920eb3ad133ec62d5af8c1ef9">em_odp_timer2odp</a> (em_timer_t tmr)</td></tr>
<tr class="memdesc:ga857dfab920eb3ad133ec62d5af8c1ef9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the odp timer_pool from EM timer handle.  <a href="../../d5/d72/group__em__odp__ext.html#ga857dfab920eb3ad133ec62d5af8c1ef9">More...</a><br /></td></tr>
<tr class="separator:ga857dfab920eb3ad133ec62d5af8c1ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a2737445d12ef69f5205f83c896a518"><td class="memItemLeft" align="right" valign="top">odp_timer_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d72/group__em__odp__ext.html#ga4a2737445d12ef69f5205f83c896a518">em_odp_tmo2odp</a> (<a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> tmo)</td></tr>
<tr class="memdesc:ga4a2737445d12ef69f5205f83c896a518"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the odp timer from EM timeout handle.  <a href="../../d5/d72/group__em__odp__ext.html#ga4a2737445d12ef69f5205f83c896a518">More...</a><br /></td></tr>
<tr class="separator:ga4a2737445d12ef69f5205f83c896a518"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Event Machine ODP API extensions and conversion functions between EM and ODP </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf2d6c2082aee145ef365a565e588ed04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2d6c2082aee145ef365a565e588ed04">&#9670;&nbsp;</a></span>em_odp_event2em()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_event_t em_odp_event2em </td>
          <td>(</td>
          <td class="paramtype">odp_event_t&#160;</td>
          <td class="paramname"><em>odp_event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert ODP event handle to EM event handle.</p>
<p>The event must have been allocated by EM originally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">odp_event</td><td>ODP-event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EM event handle. </dd></dl>
<p>is_extev</p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/d1d/bench_event_8c-example.html#a64">bench_event.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00251">251</a> of file <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html">event_machine_odp_ext.c</a>.</p>

</div>
</div>
<a id="ga2d9a1397890a9b8cebd1094278687f5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d9a1397890a9b8cebd1094278687f5d">&#9670;&nbsp;</a></span>em_odp_event2odp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">odp_event_t em_odp_event2odp </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert EM event handle to ODP event handle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>EM-event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ODP event handle. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/d1d/bench_event_8c-example.html#a31">bench_event.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00237">237</a> of file <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html">event_machine_odp_ext.c</a>.</p>

</div>
</div>
<a id="ga965a48f8750e2af43c4a614fa014264a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga965a48f8750e2af43c4a614fa014264a">&#9670;&nbsp;</a></span>em_odp_event_hdr_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t em_odp_event_hdr_size </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the EM event header size.</p>
<p>Needed e.g. when configuring a separate ODP packet pool and have pktio allocate events usable by EM from there: </p><div class="fragment"><div class="line">odp_pool_param_t::pkt.uarea_size = <a class="code" href="../../d5/d72/group__em__odp__ext.html#ga965a48f8750e2af43c4a614fa014264a">em_odp_event_hdr_size</a>();</div>
<div class="ttc" id="agroup__em__odp__ext_html_ga965a48f8750e2af43c4a614fa014264a"><div class="ttname"><a href="../../d5/d72/group__em__odp__ext.html#ga965a48f8750e2af43c4a614fa014264a">em_odp_event_hdr_size</a></div><div class="ttdeci">uint32_t em_odp_event_hdr_size(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00232">event_machine_odp_ext.c:232</a></div></div>
</div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd>EM event header size. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00232">232</a> of file <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html">event_machine_odp_ext.c</a>.</p>

</div>
</div>
<a id="ga811766f4f0d0e5fb029fee07f36c0221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga811766f4f0d0e5fb029fee07f36c0221">&#9670;&nbsp;</a></span>em_odp_events2em()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void em_odp_events2em </td>
          <td>(</td>
          <td class="paramtype">const odp_event_t&#160;</td>
          <td class="paramname"><em>odp_events</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>events</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert EM event handles to ODP event handles</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">odp_events</td><td>Array of ODP-events to convert to EM-events. The 'odp_events[]' array must contain 'num' valid ODP-event handles. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">events</td><td>Output array into which the corresponding EM-event handles are written. Array must fit 'num' entries. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">num</td><td>Number of entries in 'odp_events[]' and 'events[]'. </td></tr>
  </table>
  </dd>
</dl>
<p>is_extev</p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/d1d/bench_event_8c-example.html#a34">bench_event.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00258">258</a> of file <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html">event_machine_odp_ext.c</a>.</p>

</div>
</div>
<a id="gace16a634a62bf3d58eb6963fc9ccb395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gace16a634a62bf3d58eb6963fc9ccb395">&#9670;&nbsp;</a></span>em_odp_events2odp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void em_odp_events2odp </td>
          <td>(</td>
          <td class="paramtype">const em_event_t&#160;</td>
          <td class="paramname"><em>events</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">odp_event_t&#160;</td>
          <td class="paramname"><em>odp_events</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert EM event handles to ODP event handles</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">events</td><td>Array of EM-events to convert to ODP-events. The 'events[]' array must contain 'num' valid event handles. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">odp_events</td><td>Output array into which the corresponding ODP-event handles are written. Array must fit 'num' entries. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">num</td><td>Number of entries in 'events[]' and 'odp_events[]'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/d1d/bench_event_8c-example.html#a63">bench_event.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00242">242</a> of file <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html">event_machine_odp_ext.c</a>.</p>

</div>
</div>
<a id="ga01f415bc97ad2a202758fdfb228ed7f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga01f415bc97ad2a202758fdfb228ed7f0">&#9670;&nbsp;</a></span>em_odp_pkt_enqueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int em_odp_pkt_enqueue </td>
          <td>(</td>
          <td class="paramtype">const odp_packet_t&#160;</td>
          <td class="paramname"><em>pkt_tbl</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_queue_t&#160;</td>
          <td class="paramname"><em>queue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enqueue external packets into EM</p>
<p>Enqueue packets from outside of EM into EM queues for processing. This function will initialize the odp packets properly as EM events before enqueueing them into EM. The odp packets might be polled from pktio or some other external source, e.g. the em_conf_t::input.input_poll_fn() function (see <a class="el" href="../../d9/d54/group__init.html#gaba6bc23a21241443d7592b16eb735493">em_init()</a>) can use this API to enqueue polled packets into EM queues. Inside EM, the application must use em_send...() instead to send/enqueue events into EM queues.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pkt_tbl</td><td>Array of external ODP-packets to enqueue into EM as events. The 'pkt_tbl[]' array must contain 'num' valid ODP packet handles. </td></tr>
    <tr><td class="paramname">num</td><td>The number of packets in the 'pkt_tbl[]' array, must be &gt;0. </td></tr>
    <tr><td class="paramname">queue</td><td>EM queue into which to send/enqueue the packets as EM-events.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of ODP packets successfully send/enqueued as EM-events </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00443">443</a> of file <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html">event_machine_odp_ext.c</a>.</p>

</div>
</div>
<a id="ga5a392c60daa7296ac7b6c83d93654cb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a392c60daa7296ac7b6c83d93654cb6">&#9670;&nbsp;</a></span>em_odp_pktin_event_queues2em()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int em_odp_pktin_event_queues2em </td>
          <td>(</td>
          <td class="paramtype">const odp_queue_t&#160;</td>
          <td class="paramname"><em>odp_pktin_evqueues</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_queue_t&#160;</td>
          <td class="paramname"><em>queues</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Map the given scheduled ODP pktin event queues to new EM queues. </p>
<p>Creates new EM queues and maps them to use the given scheduled ODP pktin event queues. Enables direct scheduling of packets as EM events via EM queues. EM queues based on scheduled ODP pktin queues are a bit special in how they are created and how they are deleted:</p><ul>
<li>creation is done via this function by providing the already set up scheduled ODP pktin event queues to use.</li>
<li>deletion of one of the returned EM queues will not delete the underlying ODP pktin event queue. The ODP queues in question are deleted when the ODP pktio is terminated. The scheduled ODP pktin event queues must have been set up with an ODP schedule group that belongs to an existing EM queue group. Also the used priority must mappable to an EM priority.</li>
</ul>
<p>Setup example: </p><div class="fragment"><div class="line"><span class="comment">// Configure ODP pktin queues</span></div>
<div class="line">odp_pktin_queue_param_t pktin_queue_param;</div>
<div class="line">odp_pktin_queue_param_init(&amp;pktin_queue_param);</div>
<div class="line">pktin_queue_param.num_queues = num;</div>
<div class="line">pktin_queue_param.queue_param.type = ODP_QUEUE_TYPE_SCHED;</div>
<div class="line">pktin_queue_param.queue_param.sched.prio = ODP prio mappable to EM prio</div>
<div class="line">pktin_queue_param.queue_param.sched.sync = PARALLEL | ATOMIC | ORDERED;</div>
<div class="line">pktin_queue_param.queue_param.sched.group = <a class="code" href="../../d5/d72/group__em__odp__ext.html#ga0ad24607dcf526a12988a6153642fecc">em_odp_qgrp2odp</a>(EM qgroup);</div>
<div class="line">...</div>
<div class="line">ret = odp_pktin_queue_config(pktio, &amp;pktin_queue_param);</div>
<div class="line"><span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">   error(...);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Obtain ODP pktin event queues used for scheduled packet input</span></div>
<div class="line">odp_queue_t pktin_sched_queues[num];</div>
<div class="line">ret = odp_pktin_event_queue(pktio, pktin_sched_queues[<span class="stringliteral">&#39;out&#39;</span>], num);</div>
<div class="line"><span class="keywordflow">if</span> (ret != num)</div>
<div class="line">   error(...);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create EM queues mapped to the scheduled ODP pktin event queues</span></div>
<div class="line">em_queue_t queues_em[num];</div>
<div class="line">ret = <a class="code" href="../../d5/d72/group__em__odp__ext.html#ga5a392c60daa7296ac7b6c83d93654cb6">em_odp_pktin_event_queues2em</a>(pktin_sched_queues[<span class="stringliteral">&#39;in&#39;</span>],</div>
<div class="line">                              queues_em[<span class="stringliteral">&#39;out&#39;</span>], num);</div>
<div class="line"><span class="keywordflow">if</span> (ret != num)</div>
<div class="line">   error(...);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Add the EM queues to an EM EO and once the EO has been started it</span></div>
<div class="line"><span class="comment">// will receive pktio events directly from the scheduler.</span></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num; i++)</div>
<div class="line">   err = <a class="code" href="../../d8/d5f/group__em__eo.html#gac9b818edd466228b6fb653bd9337da3e">em_eo_add_queue_sync</a>(eo, queues_em);</div>
<div class="ttc" id="agroup__em__eo_html_gac9b818edd466228b6fb653bd9337da3e"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#gac9b818edd466228b6fb653bd9337da3e">em_eo_add_queue_sync</a></div><div class="ttdeci">em_status_t em_eo_add_queue_sync(em_eo_t eo, em_queue_t queue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l00344">event_machine_eo.c:344</a></div></div>
<div class="ttc" id="agroup__em__odp__ext_html_ga0ad24607dcf526a12988a6153642fecc"><div class="ttname"><a href="../../d5/d72/group__em__odp__ext.html#ga0ad24607dcf526a12988a6153642fecc">em_odp_qgrp2odp</a></div><div class="ttdeci">odp_schedule_group_t em_odp_qgrp2odp(em_queue_group_t queue_group)</div><div class="ttdoc">Get the ODP schedule group that corresponds to the given EM queue group.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00475">event_machine_odp_ext.c:475</a></div></div>
<div class="ttc" id="agroup__em__odp__ext_html_ga5a392c60daa7296ac7b6c83d93654cb6"><div class="ttname"><a href="../../d5/d72/group__em__odp__ext.html#ga5a392c60daa7296ac7b6c83d93654cb6">em_odp_pktin_event_queues2em</a></div><div class="ttdeci">int em_odp_pktin_event_queues2em(const odp_queue_t odp_pktin_evqueues[], em_queue_t queues[], int num)</div><div class="ttdoc">Map the given scheduled ODP pktin event queues to new EM queues.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00214">event_machine_odp_ext.c:214</a></div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">odp_pktin_evqueues</td><td>Array of ODP pktin event queues to convert to EM-queues. The array must contain 'num' valid ODP-queue handles (as returned by the odp_pktin_event_queue() function). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">queues</td><td>Output array into which the corresponding EM-queue handles are written. Array must fit 'num' entries. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">num</td><td>Number of entries in 'odp_pktin_evqueues[]' and 'queues[]'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Number of EM queues created that correspond to the given ODP pktin event queues </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;0</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00214">214</a> of file <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html">event_machine_odp_ext.c</a>.</p>

</div>
</div>
<a id="ga256e4e1efb99bd9bea7e74e990398ed0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga256e4e1efb99bd9bea7e74e990398ed0">&#9670;&nbsp;</a></span>em_odp_pool2em()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_pool_t em_odp_pool2em </td>
          <td>(</td>
          <td class="paramtype">odp_pool_t&#160;</td>
          <td class="paramname"><em>odp_pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the EM event pool that the given ODP pool belongs to. </p>
<p>An EM event pool consists of 1 to 'EM_MAX_SUBPOOLS' subpools. Each subpool is an ODP pool. This function returns the EM event pool that contains the given ODP pool as a subpool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">odp_pool</td><td>ODP pool</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The EM event pool that contains the subpool 'odp_pool' or EM_POOL_UNDEF if 'odp_pool' is not part of any EM event pool. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00294">294</a> of file <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html">event_machine_odp_ext.c</a>.</p>

</div>
</div>
<a id="ga0c02065ab01fe73e2eaf5f0dfd428ace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c02065ab01fe73e2eaf5f0dfd428ace">&#9670;&nbsp;</a></span>em_odp_pool2odp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int em_odp_pool2odp </td>
          <td>(</td>
          <td class="paramtype">em_pool_t&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">odp_pool_t&#160;</td>
          <td class="paramname"><em>odp_pools</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ODP pools used as subpools in a given EM event pool. </p>
<p>An EM event pool consists of 1 to 'EM_MAX_SUBPOOLS' subpools. Each subpool is an ODP pool. This function outputs the ODP pool handles of these subpools into a user-provided array and returns the number of handles written.</p>
<p>The obtained ODP pools must not be deleted or alterede outside of EM, e.g. these ODP pools must only be deleted as part of an EM event pool using <a class="el" href="../../d1/d85/group__em__pool.html#ga8021ff58ae3dd773ed68e05e85ee987c">em_pool_delete()</a>.</p>
<p>ODP pool handles obtained through this function can be used to</p><ul>
<li>configure ODP pktio to use an ODP pool created via EM (allows for better ESV tracking)</li>
<li>print ODP-level pool statistics with ODP APIs etc.</li>
</ul>
<p>Note that direct allocations and free:s via ODP APIs will bypass EM checks (e.g. ESV) and might cause errors unless properly handled:</p><ul>
<li>use <a class="el" href="../../d5/d72/group__em__odp__ext.html#gaf2d6c2082aee145ef365a565e588ed04">em_odp_event2em()</a> to initialize as an EM event</li>
<li>use <a class="el" href="../../d5/d33/group__em__event.html#ga3c90361d2e9f681a134e85ef8c4bb90b" title="Mark the event as &quot;free&quot;.">em_event_mark_free()</a> before ODP-free operations (SW- or HW-free)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">pool</td><td>EM event pool handle. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">odp_pools</td><td>Output array to be filled with the ODP pools used as subpools in the given EM event pool. The array must fit 'num' entries. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">num</td><td>Number of entries in the 'odp_pools[]' array. Using 'num=EM_MAX_SUBPOOLS' will always be large enough to fit all subpools in the EM event pool.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of ODP pools filled into 'odp_pools[]' </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/d1d/bench_event_8c-example.html#a33">bench_event.c</a>, and <a class="el" href="../../db/d68/pool_perf_8c-example.html#a34">pool_perf.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00270">270</a> of file <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html">event_machine_odp_ext.c</a>.</p>

</div>
</div>
<a id="ga0ad24607dcf526a12988a6153642fecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ad24607dcf526a12988a6153642fecc">&#9670;&nbsp;</a></span>em_odp_qgrp2odp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">odp_schedule_group_t em_odp_qgrp2odp </td>
          <td>(</td>
          <td class="paramtype">em_queue_group_t&#160;</td>
          <td class="paramname"><em>queue_group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ODP schedule group that corresponds to the given EM queue group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue_group</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ODP schedule group handle </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ODP_SCHED_GROUP_INVALID</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00475">475</a> of file <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html">event_machine_odp_ext.c</a>.</p>

</div>
</div>
<a id="ga73629b7bd54fde861b8294b6993274e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga73629b7bd54fde861b8294b6993274e4">&#9670;&nbsp;</a></span>em_odp_queue_em()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_queue_t em_odp_queue_em </td>
          <td>(</td>
          <td class="paramtype">odp_queue_t&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the associated EM queue.</p>
<p>The associated EM queue must have been created with em_queue_create...() APIs</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>ODP queue</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>em queue if successful, EM_QUEUE_UNDEF on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00053">53</a> of file <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html">event_machine_odp_ext.c</a>.</p>

</div>
</div>
<a id="gade9a3cc70dfb55a188f286907f21c0dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade9a3cc70dfb55a188f286907f21c0dc">&#9670;&nbsp;</a></span>em_odp_queue_odp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">odp_queue_t em_odp_queue_odp </td>
          <td>(</td>
          <td class="paramtype">em_queue_t&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the associated ODP queue.</p>
<p>The given EM queue must have been created with em_queue_create...() APIs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>EM queue</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>odp queue if successful, ODP_QUEUE_INVALID on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00040">40</a> of file <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html">event_machine_odp_ext.c</a>.</p>

</div>
</div>
<a id="ga857dfab920eb3ad133ec62d5af8c1ef9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga857dfab920eb3ad133ec62d5af8c1ef9">&#9670;&nbsp;</a></span>em_odp_timer2odp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">odp_timer_pool_t em_odp_timer2odp </td>
          <td>(</td>
          <td class="paramtype">em_timer_t&#160;</td>
          <td class="paramname"><em>tmr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the odp timer_pool from EM timer handle. </p>
<p>Returns the corresponding odp timer_pool from a valid EM timer handle. This can be used for e.g. debugging.</p>
<p>DO NOT use any odp apis directly to modify the odp timer_pool created by EM.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmr</td><td>em timer handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>odp timer_pool or ODP_TIMER_POOL_INVALID on failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00494">494</a> of file <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html">event_machine_odp_ext.c</a>.</p>

</div>
</div>
<a id="ga4a2737445d12ef69f5205f83c896a518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a2737445d12ef69f5205f83c896a518">&#9670;&nbsp;</a></span>em_odp_tmo2odp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">odp_timer_t em_odp_tmo2odp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a>&#160;</td>
          <td class="paramname"><em>tmo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the odp timer from EM timeout handle. </p>
<p>Returns the corresponding odp timer from a valid EM tmo handle. This can be used for e.g. debugging.</p>
<p>DO NOT use any odp apis directly to modify the odp timer created by EM.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmo</td><td>em timeout handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>odp timer or ODP_TIMER_INVALID on failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html#l00506">506</a> of file <a class="el" href="../../dd/df0/event__machine__odp__ext_8c_source.html">event_machine_odp_ext.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
  <div id="footer" class="tabs">
   <div class="headertitle"> 
     &copy; 2017 Nokia Networks
   </div>
  </div>
 </body>
</html>
