<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EM-ODP: Event timer</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doc-stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EM-ODP
   &#160;<span id="projectnumber">3.8.0-1</span>
   </div>
   <div id="projectbrief">Event Machine on ODP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('de/dc2/group__em__timer.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Event timer</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dfc/structem__fract__u64__t.html">em_fract_u64_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d93/structem__timer__res__param__t.html">em_timer_res_param_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcc/structem__timer__ring__param__t.html">em_timer_ring_param_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dd0/structem__tmo__stats__t.html">em_tmo_stats_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d00/structem__timer__capability__t.html">em_timer_capability_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfd/structem__tmo__args__t.html">em_tmo_args_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga310dc1ee350422b13ee74c86a877accf"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="../../de/dc2/group__em__timer.html#ga3857ab06946e6b4047352d5d84ffff4d">em_tmo_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga310dc1ee350422b13ee74c86a877accf">em_tmo_state_t</a></td></tr>
<tr class="separator:ga310dc1ee350422b13ee74c86a877accf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45e4fe4f512f1742bcddc677e364c007"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="../../de/dc2/group__em__timer.html#gafc12eb3000ea78f2493b1e36b832f63b">em_tmo_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga45e4fe4f512f1742bcddc677e364c007">em_tmo_type_t</a></td></tr>
<tr class="separator:ga45e4fe4f512f1742bcddc677e364c007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe7128676f8f4ad4800fd204a34ac8d3"><td class="memItemLeft" align="right" valign="top">typedef uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a></td></tr>
<tr class="separator:gafe7128676f8f4ad4800fd204a34ac8d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80c8263e443f73ae17b30bfcb29eb3d7"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d6/dfc/structem__fract__u64__t.html">em_fract_u64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga80c8263e443f73ae17b30bfcb29eb3d7">em_fract_u64_t</a></td></tr>
<tr class="separator:ga80c8263e443f73ae17b30bfcb29eb3d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72b94f9badaeafac7ee76893db578589"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d8/d93/structem__timer__res__param__t.html">em_timer_res_param_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga72b94f9badaeafac7ee76893db578589">em_timer_res_param_t</a></td></tr>
<tr class="separator:ga72b94f9badaeafac7ee76893db578589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga235811eff1e3ddf8c883cd2ff1e77d45"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../de/dcc/structem__timer__ring__param__t.html">em_timer_ring_param_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga235811eff1e3ddf8c883cd2ff1e77d45">em_timer_ring_param_t</a></td></tr>
<tr class="separator:ga235811eff1e3ddf8c883cd2ff1e77d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43c169139471a101b1f12133d6018d0c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga43c169139471a101b1f12133d6018d0c">em_timer_attr_t</a></td></tr>
<tr class="separator:ga43c169139471a101b1f12133d6018d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55afad82f34f8565cbb3aca9aead785d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../dc/dd0/structem__tmo__stats__t.html">em_tmo_stats_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga55afad82f34f8565cbb3aca9aead785d">em_tmo_stats_t</a></td></tr>
<tr class="separator:ga55afad82f34f8565cbb3aca9aead785d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c9c0c4e3b47bb78bd668c49d43dc1b4"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../de/d00/structem__timer__capability__t.html">em_timer_capability_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga6c9c0c4e3b47bb78bd668c49d43dc1b4">em_timer_capability_t</a></td></tr>
<tr class="separator:ga6c9c0c4e3b47bb78bd668c49d43dc1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3bb8cfb71ca5c74d391634842eaabe39"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../dc/dfd/structem__tmo__args__t.html">em_tmo_args_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga3bb8cfb71ca5c74d391634842eaabe39">em_tmo_args_t</a></td></tr>
<tr class="separator:ga3bb8cfb71ca5c74d391634842eaabe39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d03edec0f070b22d68088c31483a125"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../dd/d32/structem__timer__timeout__t.html">em_timer_timeout_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a></td></tr>
<tr class="separator:ga4d03edec0f070b22d68088c31483a125"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga3857ab06946e6b4047352d5d84ffff4d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga3857ab06946e6b4047352d5d84ffff4d">em_tmo_state_t</a> { <b>EM_TMO_STATE_UNKNOWN</b> = 0
, <a class="el" href="../../de/dc2/group__em__timer.html#gga3857ab06946e6b4047352d5d84ffff4da71ad2867a19be302ff468db710317f58">EM_TMO_STATE_IDLE</a> = 1
, <a class="el" href="../../de/dc2/group__em__timer.html#gga3857ab06946e6b4047352d5d84ffff4daa54abf62265d1c2beaeeadb6a1ee240f">EM_TMO_STATE_ACTIVE</a> = 2
, <a class="el" href="../../de/dc2/group__em__timer.html#gga3857ab06946e6b4047352d5d84ffff4da49eaac5bf1e148e549517bc92823043c">EM_TMO_STATE_INACTIVE</a> = 3
 }</td></tr>
<tr class="separator:ga3857ab06946e6b4047352d5d84ffff4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc12eb3000ea78f2493b1e36b832f63b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gafc12eb3000ea78f2493b1e36b832f63b">em_tmo_type_t</a> { <a class="el" href="../../de/dc2/group__em__timer.html#ggafc12eb3000ea78f2493b1e36b832f63baa64cf5e01247803fc79892c699a179ac">EM_TMO_TYPE_NONE</a> = 0
, <a class="el" href="../../de/dc2/group__em__timer.html#ggafc12eb3000ea78f2493b1e36b832f63ba6715b90ab9d176b485e9010410cd5fbb">EM_TMO_TYPE_ONESHOT</a> = 1
, <a class="el" href="../../de/dc2/group__em__timer.html#ggafc12eb3000ea78f2493b1e36b832f63badea7e33cc1c34e598f387f0909ca471c">EM_TMO_TYPE_PERIODIC</a> = 2
 }</td></tr>
<tr class="separator:gafc12eb3000ea78f2493b1e36b832f63b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga860d15ba27f7a6270e4914f6590999a9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga860d15ba27f7a6270e4914f6590999a9">em_timer_flag_t</a> { <a class="el" href="../../de/dc2/group__em__timer.html#ga860d15ba27f7a6270e4914f6590999a9a521aafc9a521d5618404c7237ac105dd">EM_TIMER_FLAG_NONE</a> = 0
, <a class="el" href="../../de/dc2/group__em__timer.html#ga860d15ba27f7a6270e4914f6590999a9a00b65ab35bc8e216384fe1130efa65f6">EM_TIMER_FLAG_PRIVATE</a> = 1
, <a class="el" href="../../de/dc2/group__em__timer.html#ga860d15ba27f7a6270e4914f6590999a9a11317615592fd9f54dcb7f33d9d788fd">EM_TIMER_FLAG_RING</a> = 2
 }</td></tr>
<tr class="separator:ga860d15ba27f7a6270e4914f6590999a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaade0f99e694a2f999abe467bc05fde61"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gaade0f99e694a2f999abe467bc05fde61">em_tmo_flag_t</a> { <a class="el" href="../../de/dc2/group__em__timer.html#gaade0f99e694a2f999abe467bc05fde61a8e5343b756922a7d6527d8ddff10ff14">EM_TMO_FLAG_ONESHOT</a> = 1
, <a class="el" href="../../de/dc2/group__em__timer.html#gaade0f99e694a2f999abe467bc05fde61aac8e81389e6feaf233eff357c4ece5f0">EM_TMO_FLAG_PERIODIC</a> = 2
, <a class="el" href="../../de/dc2/group__em__timer.html#gaade0f99e694a2f999abe467bc05fde61a6eb7050f533988c44b9b9ee783903c44">EM_TMO_FLAG_NOSKIP</a> = 4
 }</td></tr>
<tr class="separator:gaade0f99e694a2f999abe467bc05fde61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c3e2d62c82f0a1b165171f8fff1ef81"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga6c3e2d62c82f0a1b165171f8fff1ef81">em_timer_clksrc_t</a> { <br />
&#160;&#160;<b>EM_TIMER_CLKSRC_0</b>
, <b>EM_TIMER_CLKSRC_1</b>
, <b>EM_TIMER_CLKSRC_2</b>
, <b>EM_TIMER_CLKSRC_3</b>
, <br />
&#160;&#160;<b>EM_TIMER_CLKSRC_4</b>
, <b>EM_TIMER_CLKSRC_5</b>
, <b>EM_TIMER_NUM_CLKSRC</b>
<br />
 }</td></tr>
<tr class="separator:ga6c3e2d62c82f0a1b165171f8fff1ef81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad6023dd3c79d0a45221d9245c604c2e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gad6023dd3c79d0a45221d9245c604c2e3">em_timer_attr_init</a> (<a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> *tmr_attr)</td></tr>
<tr class="separator:gad6023dd3c79d0a45221d9245c604c2e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c82d75381d0cd0d5ff81f9180d92699"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga3c82d75381d0cd0d5ff81f9180d92699">em_timer_ring_attr_init</a> (<a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> *ring_attr, <a class="el" href="../../de/dc2/group__em__timer.html#ga6c3e2d62c82f0a1b165171f8fff1ef81">em_timer_clksrc_t</a> clk_src, uint64_t base_hz, uint64_t max_mul, uint64_t res_ns)</td></tr>
<tr class="separator:ga3c82d75381d0cd0d5ff81f9180d92699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga002c51ef0da36f83ce4e28f0e486c7e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga002c51ef0da36f83ce4e28f0e486c7e6">em_timer_capability</a> (<a class="el" href="../../de/d00/structem__timer__capability__t.html">em_timer_capability_t</a> *capa, <a class="el" href="../../de/dc2/group__em__timer.html#ga6c3e2d62c82f0a1b165171f8fff1ef81">em_timer_clksrc_t</a> clk_src)</td></tr>
<tr class="separator:ga002c51ef0da36f83ce4e28f0e486c7e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe76b458292862809030194da9462b4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gafe76b458292862809030194da9462b4c">em_timer_res_capability</a> (<a class="el" href="../../d8/d93/structem__timer__res__param__t.html">em_timer_res_param_t</a> *res, <a class="el" href="../../de/dc2/group__em__timer.html#ga6c3e2d62c82f0a1b165171f8fff1ef81">em_timer_clksrc_t</a> clk_src)</td></tr>
<tr class="separator:gafe76b458292862809030194da9462b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeae3893806e054292ba834cd1b556abc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gaeae3893806e054292ba834cd1b556abc">em_timer_ring_capability</a> (<a class="el" href="../../de/dcc/structem__timer__ring__param__t.html">em_timer_ring_param_t</a> *ring)</td></tr>
<tr class="memdesc:gaeae3893806e054292ba834cd1b556abc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check periodic ring timer capability.  <a href="../../de/dc2/group__em__timer.html#gaeae3893806e054292ba834cd1b556abc">More...</a><br /></td></tr>
<tr class="separator:gaeae3893806e054292ba834cd1b556abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56968bda0ecacf996d6ce623e3e372ab"><td class="memItemLeft" align="right" valign="top">em_timer_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga56968bda0ecacf996d6ce623e3e372ab">em_timer_create</a> (const <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> *tmr_attr)</td></tr>
<tr class="separator:ga56968bda0ecacf996d6ce623e3e372ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85e56489032dd3cf237c28e18b663189"><td class="memItemLeft" align="right" valign="top">em_timer_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga85e56489032dd3cf237c28e18b663189">em_timer_ring_create</a> (const <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> *ring_attr)</td></tr>
<tr class="separator:ga85e56489032dd3cf237c28e18b663189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2bac1530b021bbbd1f0f924414c2485e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga2bac1530b021bbbd1f0f924414c2485e">em_timer_delete</a> (em_timer_t tmr)</td></tr>
<tr class="separator:ga2bac1530b021bbbd1f0f924414c2485e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabb77ed31727a32d041f9d308a0a3886"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gaabb77ed31727a32d041f9d308a0a3886">em_timer_current_tick</a> (em_timer_t tmr)</td></tr>
<tr class="separator:gaabb77ed31727a32d041f9d308a0a3886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4fc3dd338b784ce9b122eeb3fbf4ea07"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga4fc3dd338b784ce9b122eeb3fbf4ea07">em_tmo_create</a> (em_timer_t tmr, <a class="el" href="../../de/dc2/group__em__timer.html#gaade0f99e694a2f999abe467bc05fde61">em_tmo_flag_t</a> flags, em_queue_t queue)</td></tr>
<tr class="separator:ga4fc3dd338b784ce9b122eeb3fbf4ea07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc26f0fd2b18a7400ce4a23a4f6247b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gacc26f0fd2b18a7400ce4a23a4f6247b2">em_tmo_create_arg</a> (em_timer_t tmr, <a class="el" href="../../de/dc2/group__em__timer.html#gaade0f99e694a2f999abe467bc05fde61">em_tmo_flag_t</a> flags, em_queue_t queue, <a class="el" href="../../dc/dfd/structem__tmo__args__t.html">em_tmo_args_t</a> *args)</td></tr>
<tr class="separator:gacc26f0fd2b18a7400ce4a23a4f6247b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67d2db5f72ccdd285649ce05b0a22a92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga67d2db5f72ccdd285649ce05b0a22a92">em_tmo_delete</a> (<a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> tmo)</td></tr>
<tr class="separator:ga67d2db5f72ccdd285649ce05b0a22a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0270ed11757a26046af070264404ecbf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga0270ed11757a26046af070264404ecbf">em_tmo_set_abs</a> (<a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> tmo, <a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a> ticks_abs, em_event_t tmo_ev)</td></tr>
<tr class="separator:ga0270ed11757a26046af070264404ecbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe6b4e51cd71d86d0e60534ba00cbac2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gabe6b4e51cd71d86d0e60534ba00cbac2">em_tmo_set_rel</a> (<a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> tmo, <a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a> ticks_rel, em_event_t tmo_ev)</td></tr>
<tr class="separator:gabe6b4e51cd71d86d0e60534ba00cbac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f1f88a05b9e366f3b31447dead90b5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga8f1f88a05b9e366f3b31447dead90b5e">em_tmo_set_periodic</a> (<a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> tmo, <a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a> start_abs, <a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a> period, em_event_t tmo_ev)</td></tr>
<tr class="separator:ga8f1f88a05b9e366f3b31447dead90b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4225ba6bde991c6419461075d031c3dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga4225ba6bde991c6419461075d031c3dc">em_tmo_set_periodic_ring</a> (<a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> tmo, <a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a> start_abs, uint64_t multiplier, em_event_t tmo_ev)</td></tr>
<tr class="separator:ga4225ba6bde991c6419461075d031c3dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga786f0cc89e9bdfda1c1274165600f0ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga786f0cc89e9bdfda1c1274165600f0ef">em_tmo_cancel</a> (<a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> tmo, em_event_t *cur_event)</td></tr>
<tr class="separator:ga786f0cc89e9bdfda1c1274165600f0ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf65f50c383b579720a31154b04ea610e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack</a> (<a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> tmo, em_event_t next_tmo_ev)</td></tr>
<tr class="separator:gaf65f50c383b579720a31154b04ea610e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25b88dbbb772090d6caa5622c7017889"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga25b88dbbb772090d6caa5622c7017889">em_timer_get_all</a> (em_timer_t *tmr_list, int max)</td></tr>
<tr class="separator:ga25b88dbbb772090d6caa5622c7017889"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01e680281f0ae40bce6c6786fc0bcdc3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga01e680281f0ae40bce6c6786fc0bcdc3">em_timer_get_attr</a> (em_timer_t tmr, <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> *tmr_attr)</td></tr>
<tr class="separator:ga01e680281f0ae40bce6c6786fc0bcdc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae97b08e2b1468de76a7d92342a5860ed"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gae97b08e2b1468de76a7d92342a5860ed">em_timer_get_freq</a> (em_timer_t tmr)</td></tr>
<tr class="separator:gae97b08e2b1468de76a7d92342a5860ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac31bbaea1e7941c512b1bcdfb8e4b905"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gac31bbaea1e7941c512b1bcdfb8e4b905">em_timer_tick_to_ns</a> (em_timer_t tmr, <a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a> ticks)</td></tr>
<tr class="separator:gac31bbaea1e7941c512b1bcdfb8e4b905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga443bd3c10af754ddc03fcee1d52fca05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga443bd3c10af754ddc03fcee1d52fca05">em_timer_ns_to_tick</a> (em_timer_t tmr, uint64_t ns)</td></tr>
<tr class="separator:ga443bd3c10af754ddc03fcee1d52fca05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66476f77546996eea9acebaa471c1b52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dc2/group__em__timer.html#ga3857ab06946e6b4047352d5d84ffff4d">em_tmo_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga66476f77546996eea9acebaa471c1b52">em_tmo_get_state</a> (<a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> tmo)</td></tr>
<tr class="separator:ga66476f77546996eea9acebaa471c1b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa192f52e47f2995d2af1175ae456c19f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gaa192f52e47f2995d2af1175ae456c19f">em_tmo_get_stats</a> (<a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> tmo, <a class="el" href="../../dc/dd0/structem__tmo__stats__t.html">em_tmo_stats_t</a> *stat)</td></tr>
<tr class="separator:gaa192f52e47f2995d2af1175ae456c19f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20a84e2f8b65dbaf916ec45a1ade1ee3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dc2/group__em__timer.html#gafc12eb3000ea78f2493b1e36b832f63b">em_tmo_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga20a84e2f8b65dbaf916ec45a1ade1ee3">em_tmo_get_type</a> (em_event_t event, <a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> *tmo, bool reset)</td></tr>
<tr class="separator:ga20a84e2f8b65dbaf916ec45a1ade1ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf80b501272a9a7d416cf7e2018703973"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gaf80b501272a9a7d416cf7e2018703973">em_tmo_get_userptr</a> (em_event_t event, <a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> *tmo)</td></tr>
<tr class="separator:gaf80b501272a9a7d416cf7e2018703973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga332775339c60af9c50cb0d536a073e33"><td class="memItemLeft" align="right" valign="top">em_timer_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga332775339c60af9c50cb0d536a073e33">em_tmo_get_timer</a> (<a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> tmo)</td></tr>
<tr class="separator:ga332775339c60af9c50cb0d536a073e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacaa6234a1df70162b12bd01ba0044219"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#gacaa6234a1df70162b12bd01ba0044219">em_timer_to_u64</a> (em_timer_t timer)</td></tr>
<tr class="separator:gacaa6234a1df70162b12bd01ba0044219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f1f5edebeb20998d8cdce2dd283b024"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/group__em__timer.html#ga1f1f5edebeb20998d8cdce2dd283b024">em_tmo_to_u64</a> (<a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> tmo)</td></tr>
<tr class="separator:ga1f1f5edebeb20998d8cdce2dd283b024"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Event Machine timer</p>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>Do not use or include this file include/add-ons/event_machine_timer.h anymore. EM timer is moved under EM API. </dd></dl>
<p>Event Machine timer</p>
<p>The timer API can be used to request an event to be sent to a specified queue at a specified time once (one-shot) or at regular intervals (periodic). A timer needs to be created first - it represents a collection of timeouts with certain attributes (e.g. timeout resolution and maximum period). A timer can be mapped to a HW resource on an SoC, thus the number of timers, capabilities and time bases are system specific. Typically only a few timers are supported. The application can specify required capabilities when a timer is created. The creation will fail if the implementation cannot fulfill the required values. Timers are typically created once at system startup.</p>
<p>A timer is a shared resource with proper synchronization for concurrent multi-thread use. It is possible to exclude all multi-thread protections if a timer is used exclusively by a single thread (for potential performance gains). This is done by setting EM_TIMER_FLAG_PRIVATE when creating a timer. Setting this flag means that the application must ensure that only a single thread is using the timer (this also includes the receiver of periodic timeouts due to the ack-functionality). This private-mode is not necessarily implemented on all systems, in which case the flag is ignored as it will not cause any functional difference.</p>
<p>Timeouts (tmo) can be created once a timer exists. Creating a timeout allocates the resources needed to serve the timeout, but does not arm it. This makes it possible to pre-create timeout(s) and set the expiry later at runtime. This can improve performance but also minimizes the possibility that the runtime call setting the expiry would fail, as resources have already been reserved beforehand.</p>
<p>A pending timeout can be cancelled. Note that there is no way to cancel an expired timeout for which the event has already been sent but not yet received by the application. Canceling in this case will return an error to enable the application to detect the situation. For a periodic timer, a cancel will stop further timeouts, but may not be able to prevent the latest event from being received. An active timeout cannot be altered without canceling it first.</p>
<p>A timeout can be reused after the timeout event has been received or when successfully cancelled. Timeouts need to be deleted after use. Deletion frees the resources reserved during creation.</p>
<p>The timeout value is an abstract system and timer dependent tick count. It is assumed that the tick count increases with a static frequency. The frequency can be inquired at runtime for time calculations, e.g. tick frequency divided by 1000 gives ticks for 1ms. The tick frequency is at least equal to the resolution, but can also be higher (implementation can quantize ticks to any underlying implementation). The supported resolution can also be inquired. A clock source can be specified when creating a timer. It defines the time base of the timer for systems with multiple sources implemented (optional). EM_TIMER_CLKSRC_DEFAULT is a portable value that implements a basic monotonic time, that will not wrap back to zero in any reasonable uptime.</p>
<p>Events with major event types EM_EVENT_TYPE_SW, EM_EVENT_TYPE_PACKET and EM_EVENT_TYPE_TIMER can be used as timeout events to indicate expiry. The type EM_EVENT_TYPE_TIMER is an alternative to EM_EVENT_TYPE_SW and works the same way. Additionally, for periodic ring timer only, the type EM_EVENT_TYPE_TIMER_IND is used. This is a special timeout indication event without visible payload.</p>
<p>Regular periodic timeouts: (i.e. NOT periodic ring timer timeouts, see differences further down) A periodic timer requires the application to acknowledge each received timeout event after it has been processed. The acknowledgment activates the next timeout and compensates for the processing delay to keep the original interval. This creates a flow control mechanism and also protects the event handling from races if the same event is reused every time - the next timeout will not be sent before the previous has been acknowledged. The event to be received for each periodic timeout can also be different as the next event is given by the application via the acknowledgment. The target queue cannot be modified after the timeout has been created.</p>
<p>If the acknowledgment of a periodic timeout is done too late (after the next period has already passed), the default action is to skip the missed timeout slot(s) and arm for the next valid slot. If the application never wants to skip a missed timeout it can set the flag EM_TMO_FLAG_NOSKIP when creating a timeout. This causes each acknowledgment to schedule an immediate timeout event until all the missed time slots have been served. This keeps the number of timeouts as expected but may cause an event storm if a long processing delay has occurred.</p>
<p>The timeout handle is needed when acknowledging a periodic timeout event. Because any event can be used for the timeout, the application must itself provide a way to derive the timeout handle from the received timeout event. A typical way is to include the tmo handle within the timeout event. The application also needs to have a mechanism to detect which event is a periodic timeout to be able to acknowledge it via <a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a>.</p>
<p>If the requested timeout tick value for a timeout is in the past or is too close to the current time then the error code EM_ERR_TOONEAR is returned. In this case EM will not call the error handler - instead EM lets the application decide whether to treat the situation as an error or to try again with an updated target time.</p>
<p>Periodic ring timer: There is also an alternative periodic ring timer. It uses a different abstraction and is created and started via separate ring specific APIs. It has three main differences to the regular periodic timeouts:</p><ol type="1">
<li>Only a pre-defined read-only event type can be used and is provided by the timer (EM_EVENT_TYPE_TIMER_IND).</li>
<li>Flow control is not supported. Some implementations may have it, but the specification does not quarantee any so the user needs to be prepared to see the same event enqueued multiple times if handling of the received timeouts is not fast enough.</li>
</ol>
<ol type="1">
<li>A limited set of period times are supported per timer (the base rate or an integer multiple thereof).</li>
</ol>
<p>Ring timers can be thought of as a clock face ticking the pointer forward. One cycle around is the base rate (minimum rate). The same timeout can be inserted into multiple locations evenly spread within the clock face thus multiplying the base rate. The starting offset can be adjusted only up to one timeout period. Depending on platform, this mode may provide better integration with HW and thus have less runtime overhead. However, as it exposes a potential queue overflow and a race hazard (race avoidable by using atomic queue as target), regular periodic timeouts are recommended as a default.</p>
<p>Example usage </p><div class="fragment"><div class="line"><span class="comment">// This would typically be done at application init.</span></div>
<div class="line"><span class="comment">// Accept all defaults but change the name</span></div>
<div class="line"><a class="code" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> attr;</div>
<div class="line"><a class="code" href="../../de/dc2/group__em__timer.html#gad6023dd3c79d0a45221d9245c604c2e3">em_timer_attr_init</a>(&amp;attr);</div>
<div class="line">strncpy(attr.<a class="code" href="../../d4/d00/structem__timer__attr__t.html#a03fc2b0569742931ed610f0bd1af43ad">name</a>, <span class="stringliteral">&quot;myTimer&quot;</span>, EM_TIMER_NAME_LEN);</div>
<div class="line">em_timer_t tmr = <a class="code" href="../../de/dc2/group__em__timer.html#ga56968bda0ecacf996d6ce623e3e372ab">em_timer_create</a>(&amp;attr);</div>
<div class="line"><span class="keywordflow">if</span>(tmr == <a class="code" href="../../d7/d1f/event__machine__timer__hw__specific_8h.html#aa373a94a9084c3bd6c5b23ac6bd6b176">EM_TIMER_UNDEF</a>) {</div>
<div class="line">   <span class="comment">// handle error here or via the error handler</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// At runtime - create a timeout resource.</span></div>
<div class="line"><span class="comment">// Can be done in advance to save time if the target queue is known.</span></div>
<div class="line"><a class="code" href="../../dd/d32/structem__timer__timeout__t.html">em_tmo_t</a> tmo = <a class="code" href="../../de/dc2/group__em__timer.html#ga4fc3dd338b784ce9b122eeb3fbf4ea07">em_tmo_create</a>(tmr, EM_TIMER_FLAG_ONESHOT, target_queue);</div>
<div class="line"><span class="keywordflow">if</span>(tmo == <a class="code" href="../../d7/d1f/event__machine__timer__hw__specific_8h.html#af7917fb5bc546e1339ad6e1135fd8c6d">EM_TMO_UNDEF</a>) {</div>
<div class="line">   <span class="comment">// no such timer or out of resources</span></div>
<div class="line">   <span class="comment">// handle error here or via error handler</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get the timer tick frequency</span></div>
<div class="line">uint64_t hz = <a class="code" href="../../de/dc2/group__em__timer.html#gae97b08e2b1468de76a7d92342a5860ed">em_timer_get_freq</a>(tmr);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Activate a 10ms timeout from now.</span></div>
<div class="line"><span class="comment">// Very unlikely to fail with valid arguments.</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="../../de/dc2/group__em__timer.html#gabe6b4e51cd71d86d0e60534ba00cbac2">em_tmo_set_rel</a>(tmo, hz / 100, my_tmo_event) != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>) {</div>
<div class="line">   <span class="comment">// handle error here or via error handler</span></div>
<div class="line">}</div>
<div class="ttc" id="aevent__machine__timer__hw__specific_8h_html_aa373a94a9084c3bd6c5b23ac6bd6b176"><div class="ttname"><a href="../../d7/d1f/event__machine__timer__hw__specific_8h.html#aa373a94a9084c3bd6c5b23ac6bd6b176">EM_TIMER_UNDEF</a></div><div class="ttdeci">#define EM_TIMER_UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1f/event__machine__timer__hw__specific_8h_source.html#l00120">event_machine_timer_hw_specific.h:120</a></div></div>
<div class="ttc" id="aevent__machine__timer__hw__specific_8h_html_af7917fb5bc546e1339ad6e1135fd8c6d"><div class="ttname"><a href="../../d7/d1f/event__machine__timer__hw__specific_8h.html#af7917fb5bc546e1339ad6e1135fd8c6d">EM_TMO_UNDEF</a></div><div class="ttdeci">#define EM_TMO_UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1f/event__machine__timer__hw__specific_8h_source.html#l00125">event_machine_timer_hw_specific.h:125</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a03546e6a7e93665c52d479831e0a6dca"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a></div><div class="ttdeci">#define EM_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00329">event_machine_types.h:329</a></div></div>
<div class="ttc" id="agroup__em__timer_html_ga4fc3dd338b784ce9b122eeb3fbf4ea07"><div class="ttname"><a href="../../de/dc2/group__em__timer.html#ga4fc3dd338b784ce9b122eeb3fbf4ea07">em_tmo_create</a></div><div class="ttdeci">em_tmo_t em_tmo_create(em_timer_t tmr, em_tmo_flag_t flags, em_queue_t queue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/event__machine__timer_8c_source.html#l01056">event_machine_timer.c:1056</a></div></div>
<div class="ttc" id="agroup__em__timer_html_ga56968bda0ecacf996d6ce623e3e372ab"><div class="ttname"><a href="../../de/dc2/group__em__timer.html#ga56968bda0ecacf996d6ce623e3e372ab">em_timer_create</a></div><div class="ttdeci">em_timer_t em_timer_create(const em_timer_attr_t *tmr_attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/event__machine__timer_8c_source.html#l00616">event_machine_timer.c:616</a></div></div>
<div class="ttc" id="agroup__em__timer_html_gabe6b4e51cd71d86d0e60534ba00cbac2"><div class="ttname"><a href="../../de/dc2/group__em__timer.html#gabe6b4e51cd71d86d0e60534ba00cbac2">em_tmo_set_rel</a></div><div class="ttdeci">em_status_t em_tmo_set_rel(em_tmo_t tmo, em_timer_tick_t ticks_rel, em_event_t tmo_ev)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/event__machine__timer_8c_source.html#l01300">event_machine_timer.c:1300</a></div></div>
<div class="ttc" id="agroup__em__timer_html_gad6023dd3c79d0a45221d9245c604c2e3"><div class="ttname"><a href="../../de/dc2/group__em__timer.html#gad6023dd3c79d0a45221d9245c604c2e3">em_timer_attr_init</a></div><div class="ttdeci">void em_timer_attr_init(em_timer_attr_t *tmr_attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/event__machine__timer_8c_source.html#l00378">event_machine_timer.c:378</a></div></div>
<div class="ttc" id="agroup__em__timer_html_gae97b08e2b1468de76a7d92342a5860ed"><div class="ttname"><a href="../../de/dc2/group__em__timer.html#gae97b08e2b1468de76a7d92342a5860ed">em_timer_get_freq</a></div><div class="ttdeci">uint64_t em_timer_get_freq(em_timer_t tmr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/event__machine__timer_8c_source.html#l01797">event_machine_timer.c:1797</a></div></div>
<div class="ttc" id="astructem__timer__attr__t_html"><div class="ttname"><a href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df3/api_2event__machine__timer_8h_source.html#l00332">api/event_machine_timer.h:332</a></div></div>
<div class="ttc" id="astructem__timer__attr__t_html_a03fc2b0569742931ed610f0bd1af43ad"><div class="ttname"><a href="../../d4/d00/structem__timer__attr__t.html#a03fc2b0569742931ed610f0bd1af43ad">em_timer_attr_t::name</a></div><div class="ttdeci">char name[EM_TIMER_NAME_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df3/api_2event__machine__timer_8h_source.html#l00346">api/event_machine_timer.h:346</a></div></div>
<div class="ttc" id="astructem__timer__timeout__t_html"><div class="ttname"><a href="../../dd/d32/structem__timer__timeout__t.html">em_timer_timeout_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/em__timer__types_8h_source.html#l00076">em_timer_types.h:76</a></div></div>
</div><!-- fragment --> <h2 class="groupheader">Typedef Documentation</h2>
<a id="ga80c8263e443f73ae17b30bfcb29eb3d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga80c8263e443f73ae17b30bfcb29eb3d7">&#9670;&nbsp;</a></span>em_fract_u64_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d6/dfc/structem__fract__u64__t.html">em_fract_u64_t</a> <a class="el" href="../../d6/dfc/structem__fract__u64__t.html">em_fract_u64_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fractional 64-bit unsigned value for timer frequency. </p>

</div>
</div>
<a id="ga43c169139471a101b1f12133d6018d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43c169139471a101b1f12133d6018d0c">&#9670;&nbsp;</a></span>em_timer_attr_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EM timer attributes.</p>
<p>The type is used when creating a timer or inquiring its configuration later.</p>
<p>This needs to be initialized with <a class="el" href="../../de/dc2/group__em__timer.html#gad6023dd3c79d0a45221d9245c604c2e3">em_timer_attr_init()</a>, which fills default values to each field. After that the values can be modified as needed. Values set are considered a requirement, e.g. setting 'resparam.res_ns' to 1000(ns) requires the timer to have at least 1us resolution. The timer creation will fail if the implementation cannot support such a resolution (e.g. if it only goes down to 1500ns). The implementation is free to provide better than requested, but not worse.</p>
<p>To know the implementation specific limits, use <a class="el" href="../../de/dc2/group__em__timer.html#ga002c51ef0da36f83ce4e28f0e486c7e6">em_timer_capability()</a> and <a class="el" href="../../de/dc2/group__em__timer.html#gafe76b458292862809030194da9462b4c">em_timer_res_capability()</a>.</p>
<p>When creating the alternative periodic ring timer, this type needs to be initialized with <a class="el" href="../../de/dc2/group__em__timer.html#ga3c82d75381d0cd0d5ff81f9180d92699">em_timer_ring_attr_init()</a> instead. EM_TIMER_FLAG_RING will be set by <a class="el" href="../../de/dc2/group__em__timer.html#ga3c82d75381d0cd0d5ff81f9180d92699">em_timer_ring_attr_init()</a> so it does not need to be manually set.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dc2/group__em__timer.html#gad6023dd3c79d0a45221d9245c604c2e3">em_timer_attr_init()</a>, <a class="el" href="../../de/dc2/group__em__timer.html#ga56968bda0ecacf996d6ce623e3e372ab">em_timer_create()</a>, <a class="el" href="../../de/dc2/group__em__timer.html#ga3c82d75381d0cd0d5ff81f9180d92699">em_timer_ring_attr_init()</a>, <a class="el" href="../../de/dc2/group__em__timer.html#ga85e56489032dd3cf237c28e18b663189">em_timer_ring_create()</a>, em_timer_ </dd></dl>

</div>
</div>
<a id="ga6c9c0c4e3b47bb78bd668c49d43dc1b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c9c0c4e3b47bb78bd668c49d43dc1b4">&#9670;&nbsp;</a></span>em_timer_capability_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../de/d00/structem__timer__capability__t.html">em_timer_capability_t</a> <a class="el" href="../../de/d00/structem__timer__capability__t.html">em_timer_capability_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timer capability info </p>

</div>
</div>
<a id="ga72b94f9badaeafac7ee76893db578589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72b94f9badaeafac7ee76893db578589">&#9670;&nbsp;</a></span>em_timer_res_param_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d8/d93/structem__timer__res__param__t.html">em_timer_res_param_t</a> <a class="el" href="../../d8/d93/structem__timer__res__param__t.html">em_timer_res_param_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type for timer resolution parameters.</p>
<p>This structure is used to group timer resolution parameters that may affect each other. All time values are in nanoseconds (ns).</p>
<dl class="section note"><dt>Note</dt><dd>This type used both as capability and configuration. When used as configuration either res_ns or res_hz must be 0 (for <a class="el" href="../../de/dc2/group__em__timer.html#ga56968bda0ecacf996d6ce623e3e372ab">em_timer_create()</a>). </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dc2/group__em__timer.html#ga002c51ef0da36f83ce4e28f0e486c7e6">em_timer_capability()</a>, <a class="el" href="../../de/dc2/group__em__timer.html#ga56968bda0ecacf996d6ce623e3e372ab">em_timer_create()</a> </dd></dl>

</div>
</div>
<a id="ga235811eff1e3ddf8c883cd2ff1e77d45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga235811eff1e3ddf8c883cd2ff1e77d45">&#9670;&nbsp;</a></span>em_timer_ring_param_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../de/dcc/structem__timer__ring__param__t.html">em_timer_ring_param_t</a> <a class="el" href="../../de/dcc/structem__timer__ring__param__t.html">em_timer_ring_param_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Periodic timer ring timing parameters. </p>

</div>
</div>
<a id="gafe7128676f8f4ad4800fd204a34ac8d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe7128676f8f4ad4800fd204a34ac8d3">&#9670;&nbsp;</a></span>em_timer_tick_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint64_t <a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The timer tick has HW and timer specific meaning, but the type is always a 64-bit integer and is normally assumed to be monotonic and not to wrap around. Exceptions with exotic extra timers should be clearly documented. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/df3/api_2event__machine__timer_8h_source.html#l00255">255</a> of file <a class="el" href="../../d2/df3/api_2event__machine__timer_8h_source.html">api/event_machine_timer.h</a>.</p>

</div>
</div>
<a id="ga3bb8cfb71ca5c74d391634842eaabe39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3bb8cfb71ca5c74d391634842eaabe39">&#9670;&nbsp;</a></span>em_tmo_args_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../dc/dfd/structem__tmo__args__t.html">em_tmo_args_t</a> <a class="el" href="../../dc/dfd/structem__tmo__args__t.html">em_tmo_args_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>tmo optional extra arguments </p>

</div>
</div>
<a id="ga310dc1ee350422b13ee74c86a877accf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga310dc1ee350422b13ee74c86a877accf">&#9670;&nbsp;</a></span>em_tmo_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="../../de/dc2/group__em__timer.html#ga3857ab06946e6b4047352d5d84ffff4d">em_tmo_state_t</a> <a class="el" href="../../de/dc2/group__em__timer.html#ga3857ab06946e6b4047352d5d84ffff4d">em_tmo_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Visible state of a timeout </p>

</div>
</div>
<a id="ga55afad82f34f8565cbb3aca9aead785d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55afad82f34f8565cbb3aca9aead785d">&#9670;&nbsp;</a></span>em_tmo_stats_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../dc/dd0/structem__tmo__stats__t.html">em_tmo_stats_t</a> <a class="el" href="../../dc/dd0/structem__tmo__stats__t.html">em_tmo_stats_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timeout statistics counters</p>
<p>Some fields relate to periodic timeout only (0 on one-shots) and vice versa. New fields may be added later at the end. </p>

</div>
</div>
<a id="ga4d03edec0f070b22d68088c31483a125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d03edec0f070b22d68088c31483a125">&#9670;&nbsp;</a></span>em_tmo_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>em_tmo_t (timeout handle) needs to be defined by the EM implementation</p>
<p>System specific type for a timeout handle. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d1f/event__machine__timer__hw__specific_8h_source.html#l00070">70</a> of file <a class="el" href="../../d7/d1f/event__machine__timer__hw__specific_8h_source.html">event_machine_timer_hw_specific.h</a>.</p>

</div>
</div>
<a id="ga45e4fe4f512f1742bcddc677e364c007"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45e4fe4f512f1742bcddc677e364c007">&#9670;&nbsp;</a></span>em_tmo_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="../../de/dc2/group__em__timer.html#gafc12eb3000ea78f2493b1e36b832f63b">em_tmo_type_t</a> <a class="el" href="../../de/dc2/group__em__timer.html#gafc12eb3000ea78f2493b1e36b832f63b">em_tmo_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type returned by <a class="el" href="../../de/dc2/group__em__timer.html#ga20a84e2f8b65dbaf916ec45a1ade1ee3">em_tmo_get_type()</a> </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga6c3e2d62c82f0a1b165171f8fff1ef81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c3e2d62c82f0a1b165171f8fff1ef81">&#9670;&nbsp;</a></span>em_timer_clksrc_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc2/group__em__timer.html#ga6c3e2d62c82f0a1b165171f8fff1ef81">em_timer_clksrc_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>System specific enum type for timer clock source. This is system specific, but all implementations must define EM_TIMER_CLKSRC_DEFAULT. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a25">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d1f/event__machine__timer__hw__specific_8h_source.html#l00095">95</a> of file <a class="el" href="../../d7/d1f/event__machine__timer__hw__specific_8h_source.html">event_machine_timer_hw_specific.h</a>.</p>

</div>
</div>
<a id="ga860d15ba27f7a6270e4914f6590999a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga860d15ba27f7a6270e4914f6590999a9">&#9670;&nbsp;</a></span>em_timer_flag_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc2/group__em__timer.html#ga860d15ba27f7a6270e4914f6590999a9">em_timer_flag_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>System specific type for timer flags. This is system specific, but all implementations must define EM_TIMER_FLAG_DEFAULT and EM_TIMER_FLAG_PRIVATE, of which the latter is used to skip API synchronization for single threaded apps. Flags can be combined by bitwise OR. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ga860d15ba27f7a6270e4914f6590999a9a521aafc9a521d5618404c7237ac105dd"></a>EM_TIMER_FLAG_NONE&#160;</td><td class="fielddoc"><p>default </p>
</td></tr>
<tr><td class="fieldname"><a id="ga860d15ba27f7a6270e4914f6590999a9a00b65ab35bc8e216384fe1130efa65f6"></a>EM_TIMER_FLAG_PRIVATE&#160;</td><td class="fielddoc"><p>single thread use. Not multithread safe, but potentially faster </p>
</td></tr>
<tr><td class="fieldname"><a id="ga860d15ba27f7a6270e4914f6590999a9a11317615592fd9f54dcb7f33d9d788fd"></a>EM_TIMER_FLAG_RING&#160;</td><td class="fielddoc"><p>is periodic ring. This does not need to be manually set, init does </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d7/d1f/event__machine__timer__hw__specific_8h_source.html#l00057">57</a> of file <a class="el" href="../../d7/d1f/event__machine__timer__hw__specific_8h_source.html">event_machine_timer_hw_specific.h</a>.</p>

</div>
</div>
<a id="gaade0f99e694a2f999abe467bc05fde61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaade0f99e694a2f999abe467bc05fde61">&#9670;&nbsp;</a></span>em_tmo_flag_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc2/group__em__timer.html#gaade0f99e694a2f999abe467bc05fde61">em_tmo_flag_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>System specific enum type for timeout flags. This is system specific, but all implementations must define EM_TMO_FLAG_ONESHOT, EM_TMO_FLAG_PERIODIC and EM_TMO_FLAG_NOSKIP. Flags can be combined by bitwise OR. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gaade0f99e694a2f999abe467bc05fde61a8e5343b756922a7d6527d8ddff10ff14"></a>EM_TMO_FLAG_ONESHOT&#160;</td><td class="fielddoc"><p>to select one-shot </p>
</td></tr>
<tr><td class="fieldname"><a id="gaade0f99e694a2f999abe467bc05fde61aac8e81389e6feaf233eff357c4ece5f0"></a>EM_TMO_FLAG_PERIODIC&#160;</td><td class="fielddoc"><p>to select periodic </p>
</td></tr>
<tr><td class="fieldname"><a id="gaade0f99e694a2f999abe467bc05fde61a6eb7050f533988c44b9b9ee783903c44"></a>EM_TMO_FLAG_NOSKIP&#160;</td><td class="fielddoc"><p>see periodic ack </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d7/d1f/event__machine__timer__hw__specific_8h_source.html#l00080">80</a> of file <a class="el" href="../../d7/d1f/event__machine__timer__hw__specific_8h_source.html">event_machine_timer_hw_specific.h</a>.</p>

</div>
</div>
<a id="ga3857ab06946e6b4047352d5d84ffff4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3857ab06946e6b4047352d5d84ffff4d">&#9670;&nbsp;</a></span>em_tmo_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc2/group__em__timer.html#ga3857ab06946e6b4047352d5d84ffff4d">em_tmo_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Visible state of a timeout </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga3857ab06946e6b4047352d5d84ffff4da71ad2867a19be302ff468db710317f58"></a>EM_TMO_STATE_IDLE&#160;</td><td class="fielddoc"><p>just created or canceled </p>
</td></tr>
<tr><td class="fieldname"><a id="gga3857ab06946e6b4047352d5d84ffff4daa54abf62265d1c2beaeeadb6a1ee240f"></a>EM_TMO_STATE_ACTIVE&#160;</td><td class="fielddoc"><p>armed </p>
</td></tr>
<tr><td class="fieldname"><a id="gga3857ab06946e6b4047352d5d84ffff4da49eaac5bf1e148e549517bc92823043c"></a>EM_TMO_STATE_INACTIVE&#160;</td><td class="fielddoc"><p>unused state </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d2/df3/api_2event__machine__timer_8h_source.html#l00234">234</a> of file <a class="el" href="../../d2/df3/api_2event__machine__timer_8h_source.html">api/event_machine_timer.h</a>.</p>

</div>
</div>
<a id="gafc12eb3000ea78f2493b1e36b832f63b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc12eb3000ea78f2493b1e36b832f63b">&#9670;&nbsp;</a></span>em_tmo_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../de/dc2/group__em__timer.html#gafc12eb3000ea78f2493b1e36b832f63b">em_tmo_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type returned by <a class="el" href="../../de/dc2/group__em__timer.html#ga20a84e2f8b65dbaf916ec45a1ade1ee3">em_tmo_get_type()</a> </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggafc12eb3000ea78f2493b1e36b832f63baa64cf5e01247803fc79892c699a179ac"></a>EM_TMO_TYPE_NONE&#160;</td><td class="fielddoc"><p>unknown or not a timer-related event </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafc12eb3000ea78f2493b1e36b832f63ba6715b90ab9d176b485e9010410cd5fbb"></a>EM_TMO_TYPE_ONESHOT&#160;</td><td class="fielddoc"><p>event is a oneshot timeout indication </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafc12eb3000ea78f2493b1e36b832f63badea7e33cc1c34e598f387f0909ca471c"></a>EM_TMO_TYPE_PERIODIC&#160;</td><td class="fielddoc"><p>event is a periodic timeout indication </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d2/df3/api_2event__machine__timer_8h_source.html#l00244">244</a> of file <a class="el" href="../../d2/df3/api_2event__machine__timer_8h_source.html">api/event_machine_timer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad6023dd3c79d0a45221d9245c604c2e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6023dd3c79d0a45221d9245c604c2e3">&#9670;&nbsp;</a></span>em_timer_attr_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void em_timer_attr_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> *&#160;</td>
          <td class="paramname"><em>tmr_attr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> for normal timers (i.e. NOT periodic ring timers).</p>
<p>Initializes <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> to system specific default values. The user can after initialization adjust the values as needed before calling <a class="el" href="../../de/dc2/group__em__timer.html#ga56968bda0ecacf996d6ce623e3e372ab">em_timer_create()</a>. The functions <a class="el" href="../../de/dc2/group__em__timer.html#ga002c51ef0da36f83ce4e28f0e486c7e6">em_timer_capability()</a> and/or <a class="el" href="../../de/dc2/group__em__timer.html#gafe76b458292862809030194da9462b4c">em_timer_res_capability()</a> can optionally be used to find valid values.</p>
<p>Always initialize <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> with <a class="el" href="../../de/dc2/group__em__timer.html#gad6023dd3c79d0a45221d9245c604c2e3">em_timer_attr_init()</a> before use.</p>
<p>This function will not trigger EM error handler calls internally.</p>
<p>Example for all defaults </p><div class="fragment"><div class="line"><a class="code" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> tmr_attr;</div>
<div class="line"><a class="code" href="../../de/dc2/group__em__timer.html#gad6023dd3c79d0a45221d9245c604c2e3">em_timer_attr_init</a>(&amp;tmr_attr);</div>
<div class="line">em_timer_t tmr = <a class="code" href="../../de/dc2/group__em__timer.html#ga56968bda0ecacf996d6ce623e3e372ab">em_timer_create</a>(&amp;tmr_attr);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmr_attr</td><td>Pointer to <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> to be initialized</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dc2/group__em__timer.html#ga002c51ef0da36f83ce4e28f0e486c7e6">em_timer_capability</a>, <a class="el" href="../../de/dc2/group__em__timer.html#ga56968bda0ecacf996d6ce623e3e372ab">em_timer_create</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a23">timer_hello.c</a>, <a class="el" href="../../dd/d10/timer_test_8c-example.html#a23">timer_test.c</a>, <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a54">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a64">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l00378">378</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga002c51ef0da36f83ce4e28f0e486c7e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga002c51ef0da36f83ce4e28f0e486c7e6">&#9670;&nbsp;</a></span>em_timer_capability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_timer_capability </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d00/structem__timer__capability__t.html">em_timer_capability_t</a> *&#160;</td>
          <td class="paramname"><em>capa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga6c3e2d62c82f0a1b165171f8fff1ef81">em_timer_clksrc_t</a>&#160;</td>
          <td class="paramname"><em>clk_src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inquire timer capabilities</p>
<p>Returns timer capabilities for the given clock source, which is also written to both 'capa-&gt;max_res.clk_src' and 'capa-&gt;max_tmo.clk_src'. For resolution both 'res_ns' and 'res_hz' are filled.</p>
<p>This function will not trigger error handler calls internally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">capa</td><td>pointer to <a class="el" href="../../de/d00/structem__timer__capability__t.html">em_timer_capability_t</a> to be updated (does not need to be initialized) </td></tr>
    <tr><td class="paramname">clk_src</td><td>Clock source to use for timer (EM_TIMER_CLKSRC_DEFAULT for system specific default) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EM_OK if the given clk_src is supported (capa updated)</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d00/structem__timer__capability__t.html">em_timer_capability_t</a>, <a class="el" href="../../de/dc2/group__em__timer.html#gafe76b458292862809030194da9462b4c">em_timer_res_capability</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a58">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a67">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l00502">502</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga56968bda0ecacf996d6ce623e3e372ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga56968bda0ecacf996d6ce623e3e372ab">&#9670;&nbsp;</a></span>em_timer_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_timer_t em_timer_create </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> *&#160;</td>
          <td class="paramname"><em>tmr_attr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create and start a timer resource</p>
<p>Required attributes are given via tmr_attr. The given structure must be initialized with <a class="el" href="../../de/dc2/group__em__timer.html#gad6023dd3c79d0a45221d9245c604c2e3">em_timer_attr_init()</a> before setting any field.</p>
<p>Timer resolution can be given as time 'res_ns' or frequency 'res_hz'. The user must choose which one to use by setting the other one to 0.</p>
<p>To use all defaults, initialize tmr_attr with <a class="el" href="../../de/dc2/group__em__timer.html#gad6023dd3c79d0a45221d9245c604c2e3">em_timer_attr_init()</a> and pass it as is to <a class="el" href="../../de/dc2/group__em__timer.html#ga56968bda0ecacf996d6ce623e3e372ab">em_timer_create()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmr_attr</td><td>Timer parameters to use, pointer to an initialized <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>NULL is no longer supported, pointer must be to an initialized <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Timer handle on success or EM_TIMER_UNDEF on error</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dc2/group__em__timer.html#gad6023dd3c79d0a45221d9245c604c2e3">em_timer_attr_init()</a>, <a class="el" href="../../de/dc2/group__em__timer.html#ga002c51ef0da36f83ce4e28f0e486c7e6">em_timer_capability()</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a25">timer_hello.c</a>, <a class="el" href="../../dd/d10/timer_test_8c-example.html#a31">timer_test.c</a>, <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a56">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a65">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l00616">616</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="gaabb77ed31727a32d041f9d308a0a3886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaabb77ed31727a32d041f9d308a0a3886">&#9670;&nbsp;</a></span>em_timer_current_tick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a> em_timer_current_tick </td>
          <td>(</td>
          <td class="paramtype">em_timer_t&#160;</td>
          <td class="paramname"><em>tmr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current tick value of the given timer</p>
<p>This can be used for calculating absolute timeouts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmr</td><td>Timer handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Current time in timer specific ticks or 0 on non-existing timer </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a54">timer_hello.c</a>, <a class="el" href="../../dd/d10/timer_test_8c-example.html#a64">timer_test.c</a>, <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a12">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a39">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01045">1045</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga2bac1530b021bbbd1f0f924414c2485e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2bac1530b021bbbd1f0f924414c2485e">&#9670;&nbsp;</a></span>em_timer_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_timer_delete </td>
          <td>(</td>
          <td class="paramtype">em_timer_t&#160;</td>
          <td class="paramname"><em>tmr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop and delete a timer</p>
<p>Delete a timer, free all resources. All timeouts for this timer must have been cancelled and deleted first.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmr</td><td>Timer handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EM_OK on success </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a42">timer_hello.c</a>, <a class="el" href="../../dd/d10/timer_test_8c-example.html#a47">timer_test.c</a>, <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a68">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a27">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l00980">980</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga25b88dbbb772090d6caa5622c7017889"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25b88dbbb772090d6caa5622c7017889">&#9670;&nbsp;</a></span>em_timer_get_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int em_timer_get_all </td>
          <td>(</td>
          <td class="paramtype">em_timer_t *&#160;</td>
          <td class="paramname"><em>tmr_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a list of currently active timers.</p>
<p>The timer handles returned via 'tmr_list' can be used for further timer queries or to destroy existing timers.</p>
<p>The return value always reflects the actual number of timers in the EM instance but the output parameter 'tmr_list' is only written up to the given 'max' length.</p>
<p>Note that the return value (number of timers) can be greater than the given 'max'. It is the user's responsibility to check the return value against the given 'max'.</p>
<p>To only get the current number of active timers, without any timer handles output, use the following: num_timers = em_timer_get_all(NULL, 0);</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">tmr_list</td><td>Pointer to an array of timer handles. Use NULL if only interested in the return value. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max</td><td>Max number of handles that can be written into 'tmr_list'. 'max' is ignored if 'tmr_list' is NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of active timers </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a45">timer_hello.c</a>, <a class="el" href="../../dd/d10/timer_test_8c-example.html#a51">timer_test.c</a>, <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a70">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a8">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01728">1728</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga01e680281f0ae40bce6c6786fc0bcdc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga01e680281f0ae40bce6c6786fc0bcdc3">&#9670;&nbsp;</a></span>em_timer_get_attr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_timer_get_attr </td>
          <td>(</td>
          <td class="paramtype">em_timer_t&#160;</td>
          <td class="paramname"><em>tmr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> *&#160;</td>
          <td class="paramname"><em>tmr_attr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get timer attributes</p>
<p>Returns the actual capabilities of the given timer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">tmr</td><td>Timer handle </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tmr_attr</td><td>Pointer to <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> to fill</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EM_OK on success </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a46">timer_hello.c</a>, <a class="el" href="../../dd/d10/timer_test_8c-example.html#a52">timer_test.c</a>, <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a71">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a9">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01752">1752</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="gae97b08e2b1468de76a7d92342a5860ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae97b08e2b1468de76a7d92342a5860ed">&#9670;&nbsp;</a></span>em_timer_get_freq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t em_timer_get_freq </td>
          <td>(</td>
          <td class="paramtype">em_timer_t&#160;</td>
          <td class="paramname"><em>tmr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the timer frequency, i.e. ticks per second, for the given timer.</p>
<p>Can be used to convert real time to timer specific ticks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmr</td><td>Timer handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ticks per second (Hz), or 0 for non-existing timer </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a35">timer_hello.c</a>, <a class="el" href="../../dd/d10/timer_test_8c-example.html#a42">timer_test.c</a>, <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a75">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a24">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01797">1797</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga443bd3c10af754ddc03fcee1d52fca05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga443bd3c10af754ddc03fcee1d52fca05">&#9670;&nbsp;</a></span>em_timer_ns_to_tick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a> em_timer_ns_to_tick </td>
          <td>(</td>
          <td class="paramtype">em_timer_t&#160;</td>
          <td class="paramname"><em>tmr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>ns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert nanoseconds (ns) to timer ticks</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmr</td><td>Valid timer handle </td></tr>
    <tr><td class="paramname">ns</td><td>ns value to convert</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>converted amount in timer ticks </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a17">timer_test_periodic.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01824">1824</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="gafe76b458292862809030194da9462b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe76b458292862809030194da9462b4c">&#9670;&nbsp;</a></span>em_timer_res_capability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_timer_res_capability </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d93/structem__timer__res__param__t.html">em_timer_res_param_t</a> *&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga6c3e2d62c82f0a1b165171f8fff1ef81">em_timer_clksrc_t</a>&#160;</td>
          <td class="paramname"><em>clk_src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inquire timer capabilities for a specific resolution or maximum timeout</p>
<p>Returns timer capabilities by the given resolution or maximum timeout. Set either the resolution (res.res_ns) or the maximum timeout (res.max_tmo) to the required value and the other to zero, and the function will fill the other fields with valid limits. An error is returned if the given value is not supported. The given clk_src is used to set the values and also written to 'res-&gt;clk_src'. Both 'res_ns' and 'res_hz' are filled, so if passed further to <a class="el" href="../../de/dc2/group__em__timer.html#ga56968bda0ecacf996d6ce623e3e372ab">em_timer_create()</a>, one of those must be set to 0.</p>
<p>Example for external clock maximum resolution </p><div class="fragment"><div class="line"><a class="code" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> *tmr_attr;</div>
<div class="line"><a class="code" href="../../de/d00/structem__timer__capability__t.html">em_timer_capability_t</a> capa;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="../../de/dc2/group__em__timer.html#gad6023dd3c79d0a45221d9245c604c2e3">em_timer_attr_init</a>(&amp;tmr_attr);</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="../../de/dc2/group__em__timer.html#ga002c51ef0da36f83ce4e28f0e486c7e6">em_timer_capability</a>(&amp;capa, <a class="code" href="../../d7/d1f/event__machine__timer__hw__specific_8h.html#a3c5804b264fadc94b8c6c5c2fd4f9808">EM_TIMER_CLKSRC_EXT</a>) != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>) {</div>
<div class="line">   <span class="comment">// external clock not supported</span></div>
<div class="line">}</div>
<div class="line">tmr_attr.<a class="code" href="../../d4/d00/structem__timer__attr__t.html#adf7a24e643b381f39fec354caf5a4bc0">resparam</a> = capa.<a class="code" href="../../de/d00/structem__timer__capability__t.html#aad723b535c9cce55a9fae069882c09a1">max_res</a>;</div>
<div class="line">tmr_attr.<a class="code" href="../../d4/d00/structem__timer__attr__t.html#adf7a24e643b381f39fec354caf5a4bc0">resparam</a>.<a class="code" href="../../d8/d93/structem__timer__res__param__t.html#ab8065c326f16df1abfbb756ae50038cb">res_hz</a> = 0;</div>
<div class="line">tmr = <a class="code" href="../../de/dc2/group__em__timer.html#ga56968bda0ecacf996d6ce623e3e372ab">em_timer_create</a>(&amp;tmr_attr);</div>
<div class="ttc" id="aevent__machine__timer__hw__specific_8h_html_a3c5804b264fadc94b8c6c5c2fd4f9808"><div class="ttname"><a href="../../d7/d1f/event__machine__timer__hw__specific_8h.html#a3c5804b264fadc94b8c6c5c2fd4f9808">EM_TIMER_CLKSRC_EXT</a></div><div class="ttdeci">#define EM_TIMER_CLKSRC_EXT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1f/event__machine__timer__hw__specific_8h_source.html#l00115">event_machine_timer_hw_specific.h:115</a></div></div>
<div class="ttc" id="agroup__em__timer_html_ga002c51ef0da36f83ce4e28f0e486c7e6"><div class="ttname"><a href="../../de/dc2/group__em__timer.html#ga002c51ef0da36f83ce4e28f0e486c7e6">em_timer_capability</a></div><div class="ttdeci">em_status_t em_timer_capability(em_timer_capability_t *capa, em_timer_clksrc_t clk_src)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/event__machine__timer_8c_source.html#l00502">event_machine_timer.c:502</a></div></div>
<div class="ttc" id="astructem__timer__attr__t_html_adf7a24e643b381f39fec354caf5a4bc0"><div class="ttname"><a href="../../d4/d00/structem__timer__attr__t.html#adf7a24e643b381f39fec354caf5a4bc0">em_timer_attr_t::resparam</a></div><div class="ttdeci">em_timer_res_param_t resparam</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df3/api_2event__machine__timer_8h_source.html#l00339">api/event_machine_timer.h:339</a></div></div>
<div class="ttc" id="astructem__timer__capability__t_html"><div class="ttname"><a href="../../de/d00/structem__timer__capability__t.html">em_timer_capability_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df3/api_2event__machine__timer_8h_source.html#l00382">api/event_machine_timer.h:382</a></div></div>
<div class="ttc" id="astructem__timer__capability__t_html_aad723b535c9cce55a9fae069882c09a1"><div class="ttname"><a href="../../de/d00/structem__timer__capability__t.html#aad723b535c9cce55a9fae069882c09a1">em_timer_capability_t::max_res</a></div><div class="ttdeci">em_timer_res_param_t max_res</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df3/api_2event__machine__timer_8h_source.html#l00388">api/event_machine_timer.h:388</a></div></div>
<div class="ttc" id="astructem__timer__res__param__t_html_ab8065c326f16df1abfbb756ae50038cb"><div class="ttname"><a href="../../d8/d93/structem__timer__res__param__t.html#ab8065c326f16df1abfbb756ae50038cb">em_timer_res_param_t::res_hz</a></div><div class="ttdeci">uint64_t res_hz</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df3/api_2event__machine__timer_8h_source.html#l00287">api/event_machine_timer.h:287</a></div></div>
</div><!-- fragment --><p>This function will not trigger error handler calls internally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">res</td><td>Pointer to <a class="el" href="../../d8/d93/structem__timer__res__param__t.html">em_timer_res_param_t</a> with one field set </td></tr>
    <tr><td class="paramname">clk_src</td><td>Clock source to use for timer (EM_TIMER_CLKSRC_DEFAULT for system specific default) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EM_OK if the input value is supported (res updated)</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dc2/group__em__timer.html#ga002c51ef0da36f83ce4e28f0e486c7e6">em_timer_capability</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../dd/d10/timer_test_8c-example.html#a25">timer_test.c</a>, and <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a66">timer_test_periodic.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l00544">544</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga3c82d75381d0cd0d5ff81f9180d92699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3c82d75381d0cd0d5ff81f9180d92699">&#9670;&nbsp;</a></span>em_timer_ring_attr_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_timer_ring_attr_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> *&#160;</td>
          <td class="paramname"><em>ring_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga6c3e2d62c82f0a1b165171f8fff1ef81">em_timer_clksrc_t</a>&#160;</td>
          <td class="paramname"><em>clk_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>base_hz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>max_mul</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>res_ns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> for periodic ring timers.</p>
<p>Initializes em_timer_ring_attr_t according to given values. After successful return, the attributes can be given to <a class="el" href="../../de/dc2/group__em__timer.html#ga85e56489032dd3cf237c28e18b663189">em_timer_ring_create()</a>. Note, that if the implementation cannot use the exact given combination it may update the ring_attr values, but always to meet or exceed the given values. The user can read the new values to determine if they were modified. An error is returned if the given values cannot be met.</p>
<p>Before creating the ring timer, other values like num_tmo and name can be adjusted as needed. Also, if a non-integer frequency is needed, the base_hz fractional part can be adjusted before <a class="el" href="../../de/dc2/group__em__timer.html#ga85e56489032dd3cf237c28e18b663189">em_timer_ring_create()</a>.</p>
<p>This function will not trigger error handler calls.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ring_attr</td><td>Pointer to <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> to be initialized </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">clk_src</td><td>Clock source to use (system specific or portable EM_TIMER_CLKSRC_DEFAULT) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">base_hz</td><td>Base rate of the ring (minimum rate i.e. longest period) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_mul</td><td>Maximum multiplier (maximum rate = base_hz * max_mul) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">res_ns</td><td>Required resolution of the timer or 0 to accept default</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EM_OK if the given clk_src and other values are supported</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dc2/group__em__timer.html#gaeae3893806e054292ba834cd1b556abc" title="Check periodic ring timer capability.">em_timer_ring_capability()</a>, <a class="el" href="../../de/dc2/group__em__timer.html#ga85e56489032dd3cf237c28e18b663189">em_timer_ring_create()</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a28">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l00444">444</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="gaeae3893806e054292ba834cd1b556abc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeae3893806e054292ba834cd1b556abc">&#9670;&nbsp;</a></span>em_timer_ring_capability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_timer_ring_capability </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dcc/structem__timer__ring__param__t.html">em_timer_ring_param_t</a> *&#160;</td>
          <td class="paramname"><em>ring</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check periodic ring timer capability. </p>
<p>Returns the ring timer capability based on the given input values. The parameter 'ring' must be initialized with the values required by the user. The ring.res_ns can be 0 and gets replaced by the system default. The values are updated during the call. If EM_OK is returned then the combination of given values are all supported (or exceeded, e.g. better resolution), otherwise values are updated with the closest supported.</p>
<p>As <a class="el" href="../../de/dc2/group__em__timer.html#ga3c82d75381d0cd0d5ff81f9180d92699">em_timer_ring_attr_init()</a> only takes integer base_hz, this can also be used to verify valid values for modified fractional frequencies to avoid error handler calls from <a class="el" href="../../de/dc2/group__em__timer.html#ga85e56489032dd3cf237c28e18b663189">em_timer_ring_create()</a>.</p>
<p>This function will not trigger error handler calls.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ring[in,out]</td><td>timer ring parameters to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EM_OK</td><td>Parameter combination is supported </td></tr>
    <tr><td class="paramname">EM_ERR_NOT_SUPPORTED</td><td>Parameters not supported, values updated to closest </td></tr>
    <tr><td class="paramname">(other</td><td>error) Unsupported arguments </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a31">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l00577">577</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga85e56489032dd3cf237c28e18b663189"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga85e56489032dd3cf237c28e18b663189">&#9670;&nbsp;</a></span>em_timer_ring_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_timer_t em_timer_ring_create </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d00/structem__timer__attr__t.html">em_timer_attr_t</a> *&#160;</td>
          <td class="paramname"><em>ring_attr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create and start a periodic timer ring (alternative periodic timer)</p>
<p>The required attributes are given via ring_attr, which must have been initialized with <a class="el" href="../../de/dc2/group__em__timer.html#ga3c82d75381d0cd0d5ff81f9180d92699">em_timer_ring_attr_init()</a> and optionally adjusted for the required timing constraints.</p>
<p>A periodic ring timer is a bit different and will only send EM_EVENT_TYPE_TIMER_IND timeout events, which are automatically provided and cannot be modified. These events can be allocated only via timer APIs.</p>
<p>Example for 1ms ... 125us periodic ring timer (base 1000 hz, multiplier up to 8): </p><div class="fragment"><div class="line">em_timer_ring_attr_t attr;</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="../../de/dc2/group__em__timer.html#ga3c82d75381d0cd0d5ff81f9180d92699">em_timer_ring_attr_init</a>(&amp;attr, <a class="code" href="../../d7/d1f/event__machine__timer__hw__specific_8h.html#ad2afe10951c01b6511a18d9e82f2c0a3">EM_TIMER_CLKSRC_DEFAULT</a>, 1000, 8, 0) != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>) {</div>
<div class="line">   <span class="comment">// given values not supported</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">em_timer_t tmr = <a class="code" href="../../de/dc2/group__em__timer.html#ga85e56489032dd3cf237c28e18b663189">em_timer_ring_create</a>(&amp;attr);</div>
<div class="line"><span class="keywordflow">if</span> (tmr == <a class="code" href="../../d7/d1f/event__machine__timer__hw__specific_8h.html#aa373a94a9084c3bd6c5b23ac6bd6b176">EM_TIMER_UNDEF</a>) {</div>
<div class="line">   <span class="comment">// handle error here or via error handler</span></div>
<div class="line">}</div>
<div class="ttc" id="aevent__machine__timer__hw__specific_8h_html_ad2afe10951c01b6511a18d9e82f2c0a3"><div class="ttname"><a href="../../d7/d1f/event__machine__timer__hw__specific_8h.html#ad2afe10951c01b6511a18d9e82f2c0a3">EM_TIMER_CLKSRC_DEFAULT</a></div><div class="ttdeci">#define EM_TIMER_CLKSRC_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1f/event__machine__timer__hw__specific_8h_source.html#l00106">event_machine_timer_hw_specific.h:106</a></div></div>
<div class="ttc" id="agroup__em__timer_html_ga3c82d75381d0cd0d5ff81f9180d92699"><div class="ttname"><a href="../../de/dc2/group__em__timer.html#ga3c82d75381d0cd0d5ff81f9180d92699">em_timer_ring_attr_init</a></div><div class="ttdeci">em_status_t em_timer_ring_attr_init(em_timer_attr_t *ring_attr, em_timer_clksrc_t clk_src, uint64_t base_hz, uint64_t max_mul, uint64_t res_ns)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/event__machine__timer_8c_source.html#l00444">event_machine_timer.c:444</a></div></div>
<div class="ttc" id="agroup__em__timer_html_ga85e56489032dd3cf237c28e18b663189"><div class="ttname"><a href="../../de/dc2/group__em__timer.html#ga85e56489032dd3cf237c28e18b663189">em_timer_ring_create</a></div><div class="ttdeci">em_timer_t em_timer_ring_create(const em_timer_attr_t *ring_attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/event__machine__timer_8c_source.html#l00770">event_machine_timer.c:770</a></div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ring_attr</td><td>Timer ring parameters to use</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Timer handle on success or EM_TIMER_UNDEF on error</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dc2/group__em__timer.html#ga3c82d75381d0cd0d5ff81f9180d92699">em_timer_ring_attr_init</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a33">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l00770">770</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="gac31bbaea1e7941c512b1bcdfb8e4b905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac31bbaea1e7941c512b1bcdfb8e4b905">&#9670;&nbsp;</a></span>em_timer_tick_to_ns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t em_timer_tick_to_ns </td>
          <td>(</td>
          <td class="paramtype">em_timer_t&#160;</td>
          <td class="paramname"><em>tmr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a>&#160;</td>
          <td class="paramname"><em>ticks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert timer ticks to nanoseconds (ns)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmr</td><td>Valid timer handle </td></tr>
    <tr><td class="paramname">ticks</td><td>Timer specific ticks to convert</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>converted amount in ns </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01811">1811</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="gacaa6234a1df70162b12bd01ba0044219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacaa6234a1df70162b12bd01ba0044219">&#9670;&nbsp;</a></span>em_timer_to_u64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t em_timer_to_u64 </td>
          <td>(</td>
          <td class="paramtype">em_timer_t&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert a timer handle to an unsigned integer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Timer handle to be converted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A 'uint64_t' value that can be used to print/display the handle</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This routine is intended to be used for diagnostic purposes to enable applications to e.g. generate a printable value that represents an em_timer_t handle. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01942">1942</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="gaf65f50c383b579720a31154b04ea610e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf65f50c383b579720a31154b04ea610e">&#9670;&nbsp;</a></span>em_tmo_ack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_tmo_ack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a>&#160;</td>
          <td class="paramname"><em>tmo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>next_tmo_ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acknowledge a periodic timeout</p>
<p>All received periodic timeout events must be acknowledged with <a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a>. No further timeout event(s) will be sent before the user has acknowledged the previous one unless a ring timer is used.</p>
<p>Timeout acknowledgment is usually done at the end of the EO-receive function to prevent race conditions (e.g. if the same event is reused for the next timeout period also). The implementation will adjust for the processing delay so that the time slot will not drift over time.</p>
<p>If <a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a> is called too late, e.g. the next period(s) is already passed, the implementation by default will skip all the missed time slots and arm for the next future one keeping the original start offset. The application can alter this behaviour with the flag 'EM_TMO_FLAG_NOSKIP' when creating a timeout: no past timeout will be skipped and each late acknowledgment will immediately trigger sending the next timeout event until the current time has been reached. Note that using 'EM_TMO_FLAG_NOSKIP' may result in an event storm if a large number of timeouts have been unacknowledged for a longer time (limited by application response latency). Timing problems will not call the EM error handler.</p>
<p>If the timeout has been canceled, but the cancel happened too late for the current period, the timeout event will still be delivered. The <a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a> call for this event will return 'EM_ERR_CANCELED' and does not call the error handler. This error code signals that the timeout event was the last one coming for that, now cancelled, timeout.</p>
<p>The application may reuse the same received timeout event or provide a new one for the next timeout via 'next_tmo_ev'. With a periodic ring timer, the actual received event must be always be passed via 'next_tmo_ev'.</p>
<p>The given event should not be touched after calling this function until it has been received again or after the timeout is successfully cancelled and event returned.</p>
<p>A regular periodic timeout (i.e. not a ring one) will stop if <a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a> returns an error other than related to timing. Unless the timeout was canceled, the implementation will call the EM error handler in this case (the error/exception can be handled also there).</p>
<p><a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a> can only be used with periodic timeouts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmo</td><td>Timeout handle </td></tr>
    <tr><td class="paramname">next_tmo_ev</td><td>Next timeout event handle. Can be the received one for regular periodic timeouts. Must be the received one for periodic ring timeouts.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EM_OK</td><td>Success, event taken. </td></tr>
    <tr><td class="paramname">EM_ERR_CANCELED</td><td>Timer cancelled, last event - no further timeout events coming, event not taken. </td></tr>
    <tr><td class="paramname">(other_codes)</td><td>Failure, event not taken. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a62">timer_hello.c</a>, <a class="el" href="../../dd/d10/timer_test_8c-example.html#a63">timer_test.c</a>, <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a23">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a48">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01612">1612</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga786f0cc89e9bdfda1c1274165600f0ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga786f0cc89e9bdfda1c1274165600f0ef">&#9670;&nbsp;</a></span>em_tmo_cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_tmo_cancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a>&#160;</td>
          <td class="paramname"><em>tmo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_event_t *&#160;</td>
          <td class="paramname"><em>cur_event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cancel a timeout</p>
<p>Cancels a timeout preventing future expiration. Returns the timeout event if the timeout has not expired. A timeout that has already expired, or just is about to, is too late to be cancelled and the timeout event will be delivered to the destination queue. In this case the error 'EM_ERR_TOONEAR' is returned - no EM error handler is called.</p>
<p>Periodic timeout: cancel may fail if attempted too close to the next period. This can be considered normal and indicates that at least one more timeout event will be delivered to the user. In this case, the error 'EM_ERR_TOONEAR' is returned and no valid event is output. The EM error handler is not called is this scenario. The user calls <a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a> for each received periodic timeout event. The <a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a> function returns 'EM_ERR_CANCELED' for the last timeout event from the cancelled periodic timeout to let the user know that it is now OK to e.g. delete the timeout.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">tmo</td><td>Timeout handle </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cur_event</td><td>Event handle pointer to return the pending timeout event for a successful cancel or EM_EVENT_UNDEF if cancel fails (e.g. called too late)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EM_OK</td><td>Cancel successful, timeout event returned. </td></tr>
    <tr><td class="paramname">EM_ERR_TOONEAR</td><td>Timeout already expired, too late to cancel. EM error handler is not called. </td></tr>
    <tr><td class="paramname">(other_codes)</td><td>Failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dc2/group__em__timer.html#ga0270ed11757a26046af070264404ecbf">em_tmo_set_abs()</a>, <a class="el" href="../../de/dc2/group__em__timer.html#gabe6b4e51cd71d86d0e60534ba00cbac2">em_tmo_set_rel()</a>, <a class="el" href="../../de/dc2/group__em__timer.html#ga8f1f88a05b9e366f3b31447dead90b5e">em_tmo_set_periodic()</a>, <a class="el" href="../../de/dc2/group__em__timer.html#ga4225ba6bde991c6419461075d031c3dc">em_tmo_set_periodic_ring()</a> </dd>
<dd>
<a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a> for periodic timeouts </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a57">timer_hello.c</a>, <a class="el" href="../../dd/d10/timer_test_8c-example.html#a58">timer_test.c</a>, <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a28">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a44">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01533">1533</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga4fc3dd338b784ce9b122eeb3fbf4ea07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4fc3dd338b784ce9b122eeb3fbf4ea07">&#9670;&nbsp;</a></span>em_tmo_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> em_tmo_create </td>
          <td>(</td>
          <td class="paramtype">em_timer_t&#160;</td>
          <td class="paramname"><em>tmr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#gaade0f99e694a2f999abe467bc05fde61">em_tmo_flag_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_queue_t&#160;</td>
          <td class="paramname"><em>queue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate a new timeout</p>
<p>Create a new timeout. Allocates the necessary internal resources from the given timer and prepares for em_tmo_set_abs/rel/periodic().</p>
<p>Scheduled queues are always supported as timeout event destinations. LOCAL or OUTPUT queues can not be used as timeout targets. Support for unscheduled queues is implementation specific.</p>
<p>Flags are used to select functionality:</p><ul>
<li>EM_TMO_FLAG_ONESHOT creates a one-shot timeout and</li>
<li>EM_TMO_FLAG_PERIODIC creates a periodic timeout. The flag EM_TMO_FLAG_NOSKIP can, in the periodic case, be 'OR':d into the flags to make the timeout acknowledgment never skip a missed timeout (the default is to skip missed time slots).</li>
</ul>
<p>The NOSKIP flag is ignored if used timer is a periodic timer ring.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmr</td><td>Timer handle </td></tr>
    <tr><td class="paramname">flags</td><td>Functionality flags </td></tr>
    <tr><td class="paramname">queue</td><td>Target queue where the timeout event should be delivered</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Timeout handle on success or EM_TMO_UNDEF on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a28">timer_hello.c</a>, <a class="el" href="../../dd/d10/timer_test_8c-example.html#a35">timer_test.c</a>, <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a16">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a81">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01056">1056</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="gacc26f0fd2b18a7400ce4a23a4f6247b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc26f0fd2b18a7400ce4a23a4f6247b2">&#9670;&nbsp;</a></span>em_tmo_create_arg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> em_tmo_create_arg </td>
          <td>(</td>
          <td class="paramtype">em_timer_t&#160;</td>
          <td class="paramname"><em>tmr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#gaade0f99e694a2f999abe467bc05fde61">em_tmo_flag_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_queue_t&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dfd/structem__tmo__args__t.html">em_tmo_args_t</a> *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate a new timeout with extra arguments</p>
<p>Similar to <a class="el" href="../../de/dc2/group__em__timer.html#ga4fc3dd338b784ce9b122eeb3fbf4ea07">em_tmo_create()</a> but with an additional 'args' pointer. This API can be used with any timer type, but 'args-&gt;userptr' is only meaningful for ring timers using events of type EM_EVENT_TYPE_TIMER_IND that can carry a 'userptr'.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmr</td><td>Timer handle </td></tr>
    <tr><td class="paramname">flags</td><td>Functionality flags </td></tr>
    <tr><td class="paramname">queue</td><td>Target queue where the timeout event should be delivered </td></tr>
    <tr><td class="paramname">args</td><td>Optional pointer holding extra arguments e.g. userptr for ring timers. NULL ok.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Timeout handle on success or EM_TMO_UNDEF on failure </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dc2/group__em__timer.html#ga4fc3dd338b784ce9b122eeb3fbf4ea07">em_tmo_create</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a37">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01061">1061</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga67d2db5f72ccdd285649ce05b0a22a92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67d2db5f72ccdd285649ce05b0a22a92">&#9670;&nbsp;</a></span>em_tmo_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_tmo_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a>&#160;</td>
          <td class="paramname"><em>tmo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a timeout</p>
<p>The deleted timeout must be inactive i.e. it must be successfully canceled or the last timeout event must have been received (following too late a cancel). A periodic or a periodic ring timeout can be deleted after a successful cancel or after <a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a> returned EM_ERR_CANCELED. This indicates that the acknowledged timeout is canceled and that it was the last timeout event coming for that periodic timeout.</p>
<p>After and during this call, the tmo handle is not valid anymore and must not be used by or passed to other timer APIs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmo</td><td>Timeout handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EM_OK on success </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a58">timer_hello.c</a>, <a class="el" href="../../dd/d10/timer_test_8c-example.html#a59">timer_test.c</a>, <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a31">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a45">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01161">1161</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga66476f77546996eea9acebaa471c1b52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66476f77546996eea9acebaa471c1b52">&#9670;&nbsp;</a></span>em_tmo_get_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dc2/group__em__timer.html#ga3857ab06946e6b4047352d5d84ffff4d">em_tmo_state_t</a> em_tmo_get_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a>&#160;</td>
          <td class="paramname"><em>tmo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the current state of the given timeout.</p>
<p>Note that the returned state may change at any time if the timeout expires or is manipulated by other threads.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmo</td><td>Timeout handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>current timeout state (EM_TMO_STATE_UNKNOWN on error)</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dc2/group__em__timer.html#ga3857ab06946e6b4047352d5d84ffff4d">em_tmo_state_t</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a55">timer_hello.c</a>, <a class="el" href="../../dd/d10/timer_test_8c-example.html#a56">timer_test.c</a>, <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a29">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a42">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01837">1837</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="gaa192f52e47f2995d2af1175ae456c19f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa192f52e47f2995d2af1175ae456c19f">&#9670;&nbsp;</a></span>em_tmo_get_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_tmo_get_stats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a>&#160;</td>
          <td class="paramname"><em>tmo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dd0/structem__tmo__stats__t.html">em_tmo_stats_t</a> *&#160;</td>
          <td class="paramname"><em>stat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the statistic counters for a timeout.</p>
<p>Returns a snapshot of the current counters of the given timeout. Statistics can be accessed while the timeout is valid, i.e. tmo created but not deleted.</p>
<p>Counter support is optional. If counters are not supported, the function returns 'EM_ERR_NOT_IMPLEMENTED'. A quick way to detect whether counters are supported is to call the function with 'stat=NULL' and check the return value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">tmo</td><td>Timeout handle </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">stat</td><td>Pointer to <a class="el" href="../../dc/dd0/structem__tmo__stats__t.html">em_tmo_stats_t</a> to receive the values (NULL ok)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EM_OK on success </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a24">timer_test_periodic.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01851">1851</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga332775339c60af9c50cb0d536a073e33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga332775339c60af9c50cb0d536a073e33">&#9670;&nbsp;</a></span>em_tmo_get_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_timer_t em_tmo_get_timer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a>&#160;</td>
          <td class="paramname"><em>tmo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the associated timer handle from a timeout handle</p>
<p>The associated timer handle is returned from a valid timeout. Can be used to e.g. read the current timer tick without having the timer handle: </p><div class="fragment"><div class="line"><a class="code" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a> tick = <a class="code" href="../../de/dc2/group__em__timer.html#gaabb77ed31727a32d041f9d308a0a3886">em_timer_current_tick</a>(<a class="code" href="../../de/dc2/group__em__timer.html#ga332775339c60af9c50cb0d536a073e33">em_tmo_get_timer</a>(tmo));</div>
<div class="ttc" id="agroup__em__timer_html_ga332775339c60af9c50cb0d536a073e33"><div class="ttname"><a href="../../de/dc2/group__em__timer.html#ga332775339c60af9c50cb0d536a073e33">em_tmo_get_timer</a></div><div class="ttdeci">em_timer_t em_tmo_get_timer(em_tmo_t tmo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/event__machine__timer_8c_source.html#l01928">event_machine_timer.c:1928</a></div></div>
<div class="ttc" id="agroup__em__timer_html_gaabb77ed31727a32d041f9d308a0a3886"><div class="ttname"><a href="../../de/dc2/group__em__timer.html#gaabb77ed31727a32d041f9d308a0a3886">em_timer_current_tick</a></div><div class="ttdeci">em_timer_tick_t em_timer_current_tick(em_timer_t tmr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/event__machine__timer_8c_source.html#l01045">event_machine_timer.c:1045</a></div></div>
<div class="ttc" id="agroup__em__timer_html_gafe7128676f8f4ad4800fd204a34ac8d3"><div class="ttname"><a href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a></div><div class="ttdeci">uint64_t em_timer_tick_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df3/api_2event__machine__timer_8h_source.html#l00255">api/event_machine_timer.h:255</a></div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmo</td><td>Valid timeout handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The associated timer handle or 'EM_TIMER_UNDEF' if the tmo is not valid </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01928">1928</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga20a84e2f8b65dbaf916ec45a1ade1ee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20a84e2f8b65dbaf916ec45a1ade1ee3">&#9670;&nbsp;</a></span>em_tmo_get_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dc2/group__em__timer.html#gafc12eb3000ea78f2493b1e36b832f63b">em_tmo_type_t</a> em_tmo_get_type </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> *&#160;</td>
          <td class="paramname"><em>tmo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ask if the given event is currently used as a timeout indication event.</p>
<p>This function can be used with any valid event handle to ask if it is used as a timeout indication event. Events are updated to a tmo-type when going through the timer API. </p><dl class="section note"><dt>Note</dt><dd>Because a received timeout event is owned by the application, and not necessarily passing through the timer API anymore, this type will not be reset until the event is freed, reused as another timeout or explicitly reset by setting the 'reset' argument to true. This reset should be done if re-using the received timeout event for something else than a timeout to avoid wrong interpretations.</dd></dl>
<p>A successful timeout cancel (event returned) will reset the event type to 'EM_TMO_TYPE_NONE'.</p>
<dl class="section note"><dt>Note</dt><dd>The 'reset' argument is ignored if the given event is of type 'EM_EVENT_TYPE_TIMER_IND'.</dd></dl>
<p>The related tmo handle can be retrieved via the 'tmo' argument. This can be useful when calling <a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a> for periodic timeouts: </p><div class="fragment"><div class="line"><a class="code" href="../../dd/d32/structem__timer__timeout__t.html">em_tmo_t</a> tmo;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="../../de/dc2/group__em__timer.html#ga20a84e2f8b65dbaf916ec45a1ade1ee3">em_tmo_get_type</a>(event, &amp;tmo, <span class="keyword">false</span>) == <a class="code" href="../../de/dc2/group__em__timer.html#ggafc12eb3000ea78f2493b1e36b832f63badea7e33cc1c34e598f387f0909ca471c">EM_TMO_TYPE_PERIODIC</a>)</div>
<div class="line">     retval = <a class="code" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack</a>(tmo, event);</div>
<div class="ttc" id="agroup__em__timer_html_ga20a84e2f8b65dbaf916ec45a1ade1ee3"><div class="ttname"><a href="../../de/dc2/group__em__timer.html#ga20a84e2f8b65dbaf916ec45a1ade1ee3">em_tmo_get_type</a></div><div class="ttdeci">em_tmo_type_t em_tmo_get_type(em_event_t event, em_tmo_t *tmo, bool reset)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/event__machine__timer_8c_source.html#l01874">event_machine_timer.c:1874</a></div></div>
<div class="ttc" id="agroup__em__timer_html_gaf65f50c383b579720a31154b04ea610e"><div class="ttname"><a href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack</a></div><div class="ttdeci">em_status_t em_tmo_ack(em_tmo_t tmo, em_event_t next_tmo_ev)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/event__machine__timer_8c_source.html#l01612">event_machine_timer.c:1612</a></div></div>
<div class="ttc" id="agroup__em__timer_html_ggafc12eb3000ea78f2493b1e36b832f63badea7e33cc1c34e598f387f0909ca471c"><div class="ttname"><a href="../../de/dc2/group__em__timer.html#ggafc12eb3000ea78f2493b1e36b832f63badea7e33cc1c34e598f387f0909ca471c">EM_TMO_TYPE_PERIODIC</a></div><div class="ttdeci">@ EM_TMO_TYPE_PERIODIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df3/api_2event__machine__timer_8h_source.html#l00247">api/event_machine_timer.h:247</a></div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">event</td><td>Event handle to check. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tmo</td><td>em_tmo_t pointer to output the related tmo handle. Use NULL if not interested in the tmo handle. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">reset</td><td>Set to 'true' to reset the event's tmo type to 'EM_TMO_TYPE_NONE' to e.g. enable non-timer related reuse of the event.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The type of the timeout or 'EM_TMO_TYPE_NONE' if event is not related to a timeout </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dc2/group__em__timer.html#gafc12eb3000ea78f2493b1e36b832f63b">em_tmo_type_t</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a20">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a51">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01874">1874</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="gaf80b501272a9a7d416cf7e2018703973"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf80b501272a9a7d416cf7e2018703973">&#9670;&nbsp;</a></span>em_tmo_get_userptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* em_tmo_get_userptr </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a> *&#160;</td>
          <td class="paramname"><em>tmo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the optional user pointer for a periodic ring timeout.</p>
<p>Can only be used with an event received as a timeout event for a periodic ring, i.e. for events of type 'EM_EVENT_TYPE_TIMER_IND' only. Other event types will return NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">event</td><td>Event received as timeout </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tmo</td><td>Optionally returns associated tmo handle. NULL ok.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer given when creating the associated tmo or NULL if the event is not a ring timeout event. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a53">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01907">1907</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga0270ed11757a26046af070264404ecbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0270ed11757a26046af070264404ecbf">&#9670;&nbsp;</a></span>em_tmo_set_abs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_tmo_set_abs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a>&#160;</td>
          <td class="paramname"><em>tmo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a>&#160;</td>
          <td class="paramname"><em>ticks_abs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>tmo_ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Activate a oneshot timeout with absolute time.</p>
<p>Activates a oneshot timeout to expire at a specific absolute time. The given timeout event will be sent to the queue given to <a class="el" href="../../de/dc2/group__em__timer.html#ga4fc3dd338b784ce9b122eeb3fbf4ea07">em_tmo_create()</a> when the timeout expires.</p>
<p>It is not possible to send timeouts with an event group, but the application can assign the event group when receiving the timeout event, see <a class="el" href="../../d8/d4c/group__em__event__group.html#gae18f8b19fb0df69fc61bd53b86f54637">em_event_group_assign()</a>.</p>
<p>The timeout event should not be accessed after it has been given to the timer, similar to sending an event.</p>
<p>Even if not guaranteed, the implementation should make sure that this call can fail only in exceptional situations (<a class="el" href="../../de/dc2/group__em__timer.html#ga4fc3dd338b784ce9b122eeb3fbf4ea07">em_tmo_create()</a> should pre-allocate needed resources).</p>
<p>The allowed minimum and maximum timeouts can be inquired with <a class="el" href="../../de/dc2/group__em__timer.html#gafe76b458292862809030194da9462b4c">em_timer_res_capability()</a>.</p>
<p>An active timeout can not be modified. The timeout needs to be canceled and then set again with new arguments.</p>
<p>An inactive timeout can be reused by calling em_tmo_set_abs/rel() again. The timeout becomes inactive after the oneshot timeout event has been received or after it has been successfully cancelled.</p>
<p>This function is for activating oneshot timeouts only. To activate periodic timeouts use <a class="el" href="../../de/dc2/group__em__timer.html#ga8f1f88a05b9e366f3b31447dead90b5e">em_tmo_set_periodic()</a> (or <a class="el" href="../../de/dc2/group__em__timer.html#ga4225ba6bde991c6419461075d031c3dc">em_tmo_set_periodic_ring()</a>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmo</td><td>Timeout handle </td></tr>
    <tr><td class="paramname">ticks_abs</td><td>Expiration time in absolute timer specific ticks </td></tr>
    <tr><td class="paramname">tmo_ev</td><td>Timeout event</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EM_OK</td><td>Success, event taken. </td></tr>
    <tr><td class="paramname">EM_ERR_TOONEAR</td><td>Failure, the tick value is in past or too close to the current time. Error handler not called, event not taken. </td></tr>
    <tr><td class="paramname">(other_codes)</td><td>Failure, event not taken.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dc2/group__em__timer.html#gafe76b458292862809030194da9462b4c">em_timer_res_capability()</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a64">timer_hello.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01225">1225</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga8f1f88a05b9e366f3b31447dead90b5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8f1f88a05b9e366f3b31447dead90b5e">&#9670;&nbsp;</a></span>em_tmo_set_periodic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_tmo_set_periodic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a>&#160;</td>
          <td class="paramname"><em>tmo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a>&#160;</td>
          <td class="paramname"><em>start_abs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a>&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>tmo_ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Activate a periodic timeout</p>
<p>Used to activate periodic timeouts. The first period can be different from the repetitive period by providing an absolute start time. Set 'start_abs' to 0 if the repetitive period can start from the moment of the call.</p>
<p>The timeout event will be sent to the queue given to <a class="el" href="../../de/dc2/group__em__timer.html#ga4fc3dd338b784ce9b122eeb3fbf4ea07">em_tmo_create()</a> when the first timeout expires. The receiver then needs to call <a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a> to allow the timer to send the next event for the following period.</p>
<p>This function can only be used with periodic timeouts (created with flag EM_TMO_FLAG_PERIODIC).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmo</td><td>Timeout handle </td></tr>
    <tr><td class="paramname">start_abs</td><td>Absolute start time (or 0 for period starting at call time) </td></tr>
    <tr><td class="paramname">period</td><td>Period in timer specific ticks </td></tr>
    <tr><td class="paramname">tmo_ev</td><td>Timeout event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EM_OK</td><td>Success, event taken </td></tr>
    <tr><td class="paramname">EM_ERR_TOONEAR</td><td>Failure, the tick value is in past or too close to the current time. Error handler not called, event not taken. </td></tr>
    <tr><td class="paramname">(other_codes)</td><td>Failure, event not taken.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a37">timer_hello.c</a>, <a class="el" href="../../dd/d10/timer_test_8c-example.html#a43">timer_test.c</a>, <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a18">timer_test_periodic.c</a>, and <a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a86">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01372">1372</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga4225ba6bde991c6419461075d031c3dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4225ba6bde991c6419461075d031c3dc">&#9670;&nbsp;</a></span>em_tmo_set_periodic_ring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_tmo_set_periodic_ring </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a>&#160;</td>
          <td class="paramname"><em>tmo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a>&#160;</td>
          <td class="paramname"><em>start_abs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>multiplier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>tmo_ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Activate a periodic timeout on a periodic ring timer</p>
<p>Use 'start_abs' value 0 to start the timer relative to current time. To adjust the offset of timeouts, an absolute tick can also be given, but the maximum distance from the current time can only be up to one period. The periodic rate of the timeout event is 'base_hz' (given when creating the timer) multiplied by the given 'multiplier'. For example 1000Hz 'base_hz' with a 'multiplier' of 8 will give a 125us period.</p>
<p>A timeout event of type EM_EVENT_TYPE_TIMER_IND is automatically allocated, if not provided, and will be sent to the queue given to <a class="el" href="../../de/dc2/group__em__timer.html#ga4fc3dd338b784ce9b122eeb3fbf4ea07">em_tmo_create()</a> when the timeout expires. The user needs to call <a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a> when receiving the timeout event, similar as with a regular periodic timeout. However, with a ring timer there is no guaranteed flow control - new events may be sent even before user has called <a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a>. This means that the same event may be in the input queue multiple times if the application can not keep up with the period rate. If the destination queue is not atomic, the same event can also be concurrently received by multiple cores. This is a race hazard the user must prepare for. Additionally, the used timeout event can not be changed via <a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a>, the actual received event must always be passed to it.</p>
<p>The last argument 'tmo_ev' is normally 'EM_EVENT_UNDEF' when activating a new periodic ring timeout. The implementation will in this case use a pre-allocated event. The exception case concerns reuse of a canceled ring timeout event (when <a class="el" href="../../de/dc2/group__em__timer.html#gaf65f50c383b579720a31154b04ea610e">em_tmo_ack()</a> returns 'EM_ERR_CANCELED', the event stays with the user and can be reused). Such an event can be recycled via 'tmo_ev' to avoid an extra event free and alloc during reactivation.</p>
<p>This function can only be used with periodic timeouts from a ring timer. The timeout indication event is read-only and can be accessed only via accessor APIs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmo</td><td>Timeout handle </td></tr>
    <tr><td class="paramname">start_abs</td><td>Absolute start time (or 0 for period starting at call time) </td></tr>
    <tr><td class="paramname">multiplier</td><td>Rate multiplier (period rate = multiplier * timer base_hz) </td></tr>
    <tr><td class="paramname">tmo_ev</td><td>Event of type EM_EVENT_TYPE_TIMER_IND to reuse. Normally EM_EVENT_UNDEF.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EM_OK</td><td>Success </td></tr>
    <tr><td class="paramname">EM_ERR_TOONEAR</td><td>Failure, start tick value is past or too close to current time or multiplier is too high. </td></tr>
    <tr><td class="paramname">EM_ERR_TOOFAR</td><td>Failure, start tick value exceeds one period. </td></tr>
    <tr><td class="paramname">(other_codes)</td><td>Failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>em_tmo_get_user_ptr(), <a class="el" href="../../de/dc2/group__em__timer.html#ga20a84e2f8b65dbaf916ec45a1ade1ee3">em_tmo_get_type()</a>, em_timer_create_ring() </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d6/d5d/timer_test_ring_8c-example.html#a40">timer_test_ring.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01457">1457</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="gabe6b4e51cd71d86d0e60534ba00cbac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe6b4e51cd71d86d0e60534ba00cbac2">&#9670;&nbsp;</a></span>em_tmo_set_rel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_tmo_set_rel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a>&#160;</td>
          <td class="paramname"><em>tmo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#gafe7128676f8f4ad4800fd204a34ac8d3">em_timer_tick_t</a>&#160;</td>
          <td class="paramname"><em>ticks_rel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>tmo_ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Activate a timeout with a relative time.</p>
<p>Similar to <a class="el" href="../../de/dc2/group__em__timer.html#ga0270ed11757a26046af070264404ecbf">em_tmo_set_abs()</a>, but instead of an absolute time uses a timeout value relative to the moment of the call.</p>
<p>This function is for activating oneshot timeouts only. To activate periodic timeouts use <a class="el" href="../../de/dc2/group__em__timer.html#ga8f1f88a05b9e366f3b31447dead90b5e">em_tmo_set_periodic()</a> (or <a class="el" href="../../de/dc2/group__em__timer.html#ga4225ba6bde991c6419461075d031c3dc">em_tmo_set_periodic_ring()</a>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmo</td><td>Timeout handle </td></tr>
    <tr><td class="paramname">ticks_rel</td><td>Expiration time in relative timer specific ticks </td></tr>
    <tr><td class="paramname">tmo_ev</td><td>Timeout event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EM_OK</td><td>Success, event taken. </td></tr>
    <tr><td class="paramname">EM_ERR_TOONEAR</td><td>Failure, the tick value is too low. Error handler not called, event not taken. </td></tr>
    <tr><td class="paramname">(other_codes)</td><td>Failure, event not taken.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/dc2/group__em__timer.html#ga0270ed11757a26046af070264404ecbf">em_tmo_set_abs()</a>, <a class="el" href="../../de/dc2/group__em__timer.html#ga8f1f88a05b9e366f3b31447dead90b5e">em_tmo_set_periodic()</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/dfe/timer_hello_8c-example.html#a63">timer_hello.c</a>, and <a class="el" href="../../dd/d10/timer_test_8c-example.html#a67">timer_test.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01300">1300</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
<a id="ga1f1f5edebeb20998d8cdce2dd283b024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f1f5edebeb20998d8cdce2dd283b024">&#9670;&nbsp;</a></span>em_tmo_to_u64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t em_tmo_to_u64 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dc2/group__em__timer.html#ga4d03edec0f070b22d68088c31483a125">em_tmo_t</a>&#160;</td>
          <td class="paramname"><em>tmo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert a timeout handle to an unsigned integer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmo</td><td>Timeout handle to be converted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A 'uint64_t' value that can be used to print/display the handle.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This routine is intended to be used for diagnostic purposes to enable applications to e.g. generate a printable value that represents an em_tmo_t handle. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html#l01947">1947</a> of file <a class="el" href="../../d1/dc8/event__machine__timer_8c_source.html">event_machine_timer.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
  <div id="footer" class="tabs">
   <div class="headertitle"> 
     &copy; 2017 Nokia Networks
   </div>
  </div>
 </body>
</html>
