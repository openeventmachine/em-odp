<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EM-ODP: Atomic group</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doc-stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EM-ODP
   &#160;<span id="projectnumber">3.8.0-1</span>
   </div>
   <div id="projectbrief">Event Machine on ODP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d3/dc1/group__em__atomic__group.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Atomic group</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab52d49a543562163a904f86fd9f18866"><td class="memItemLeft" align="right" valign="top">em_atomic_group_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/group__em__atomic__group.html#gab52d49a543562163a904f86fd9f18866">em_atomic_group_create</a> (const char *name, em_queue_group_t queue_group)</td></tr>
<tr class="separator:gab52d49a543562163a904f86fd9f18866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa253b47f920a4fd27532c9e0246e0d8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/group__em__atomic__group.html#gaa253b47f920a4fd27532c9e0246e0d8b">em_atomic_group_delete</a> (em_atomic_group_t atomic_group)</td></tr>
<tr class="separator:gaa253b47f920a4fd27532c9e0246e0d8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ac321a585ce74c3cf79a7459c91095c"><td class="memItemLeft" align="right" valign="top">em_queue_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga0ac321a585ce74c3cf79a7459c91095c">em_queue_create_ag</a> (const char *name, <a class="el" href="../../d4/d11/event__machine__types_8h.html#a58ebf797967a820c57ced595c2b291e9">em_queue_prio_t</a> prio, em_atomic_group_t atomic_group, const <a class="el" href="../../d5/d76/structem__queue__conf__t.html">em_queue_conf_t</a> *conf)</td></tr>
<tr class="separator:ga0ac321a585ce74c3cf79a7459c91095c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6174fddbf6b399f547364089d7558461"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga6174fddbf6b399f547364089d7558461">em_queue_create_static_ag</a> (const char *name, <a class="el" href="../../d4/d11/event__machine__types_8h.html#a58ebf797967a820c57ced595c2b291e9">em_queue_prio_t</a> prio, em_atomic_group_t atomic_group, em_queue_t queue, const <a class="el" href="../../d5/d76/structem__queue__conf__t.html">em_queue_conf_t</a> *conf)</td></tr>
<tr class="separator:ga6174fddbf6b399f547364089d7558461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf51d13aed94be8751fcf0b262b0b3fc1"><td class="memItemLeft" align="right" valign="top">em_atomic_group_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/group__em__atomic__group.html#gaf51d13aed94be8751fcf0b262b0b3fc1">em_atomic_group_get</a> (em_queue_t queue)</td></tr>
<tr class="separator:gaf51d13aed94be8751fcf0b262b0b3fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga38e4fe65cd5a3263fab703fd1942e248"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga38e4fe65cd5a3263fab703fd1942e248">em_atomic_group_get_name</a> (em_atomic_group_t atomic_group, char *name, size_t maxlen)</td></tr>
<tr class="separator:ga38e4fe65cd5a3263fab703fd1942e248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11ba79730e32cd7bf39d9b382aad807c"><td class="memItemLeft" align="right" valign="top">em_atomic_group_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga11ba79730e32cd7bf39d9b382aad807c">em_atomic_group_find</a> (const char *name)</td></tr>
<tr class="separator:ga11ba79730e32cd7bf39d9b382aad807c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9dc6fa7206c0350cc93badb90c505e61"><td class="memItemLeft" align="right" valign="top">em_atomic_group_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga9dc6fa7206c0350cc93badb90c505e61">em_atomic_group_get_first</a> (unsigned int *num)</td></tr>
<tr class="separator:ga9dc6fa7206c0350cc93badb90c505e61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab93dfb2e1c01ef97eb123fdc70514a1e"><td class="memItemLeft" align="right" valign="top">em_atomic_group_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/group__em__atomic__group.html#gab93dfb2e1c01ef97eb123fdc70514a1e">em_atomic_group_get_next</a> (void)</td></tr>
<tr class="separator:gab93dfb2e1c01ef97eb123fdc70514a1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab522457da251830b191fbede08fe6403"><td class="memItemLeft" align="right" valign="top">em_queue_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/group__em__atomic__group.html#gab522457da251830b191fbede08fe6403">em_atomic_group_queue_get_first</a> (unsigned int *num, em_atomic_group_t atomic_group)</td></tr>
<tr class="separator:gab522457da251830b191fbede08fe6403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a18521b44a2df6f7e40f599e91a51fd"><td class="memItemLeft" align="right" valign="top">em_queue_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga1a18521b44a2df6f7e40f599e91a51fd">em_atomic_group_queue_get_next</a> (void)</td></tr>
<tr class="separator:ga1a18521b44a2df6f7e40f599e91a51fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b845126c06b1d8538ad58795cebb90f"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga4b845126c06b1d8538ad58795cebb90f">em_atomic_group_to_u64</a> (em_atomic_group_t atomic_group)</td></tr>
<tr class="separator:ga4b845126c06b1d8538ad58795cebb90f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Event Machine atomic queue group (new to API 1.1)</p>
<p>An atomic group combines multiple atomic queues in such a way that only one event from any of the included queues can be scheduled to the application at any one time, effectively scheduling several queues like a single atomic one. The main use case is to provide a protected race free context by atomic scheduling but allow multiple priorities (all of the queue contexts for queues in one atomic group are protected. The related EO context is also protected, if all queues of that EO are in one atomic group only, thus effectively creating an atomic EO).</p>
<p>All queues in an atomic group belong to the same queue group given when creating a new atomic group. Queues for an atomic group must be created using _ag - functions, but can be deleted normally using <a class="el" href="../../de/d3c/group__em__queue.html#ga2a28907b18b348cbb153431c35af5752">em_queue_delete()</a>. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab52d49a543562163a904f86fd9f18866"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab52d49a543562163a904f86fd9f18866">&#9670;&nbsp;</a></span>em_atomic_group_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_atomic_group_t em_atomic_group_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_queue_group_t&#160;</td>
          <td class="paramname"><em>queue_group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new atomic group</p>
<p>Some systems may have a limited number of atomic groups available or a limited number of queues per atomic group.</p>
<p>The given name string is copied into an EM internal data structure. The maximum string length is EM_ATOMIC_GROUP_NAME_LEN. Duplicate names are allowed, but find will only match one of them.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Atomic group name (optional, NULL ok) </td></tr>
    <tr><td class="paramname">queue_group</td><td>Existing queue group to use for this atomic group</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Atomic group or EM_ATOMIC_GROUP_UNDEF on error. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../df/da9/queue_types_ag_8c-example.html#a33">queue_types_ag.c</a>, <a class="el" href="../../db/dcf/queue_types_local_8c-example.html#a31">queue_types_local.c</a>, and <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a44">timer_test_periodic.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00040">40</a> of file <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html">event_machine_atomic_group.c</a>.</p>

</div>
</div>
<a id="gaa253b47f920a4fd27532c9e0246e0d8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa253b47f920a4fd27532c9e0246e0d8b">&#9670;&nbsp;</a></span>em_atomic_group_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_atomic_group_delete </td>
          <td>(</td>
          <td class="paramtype">em_atomic_group_t&#160;</td>
          <td class="paramname"><em>atomic_group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete an atomic group.</p>
<dl class="section attention"><dt>Attention</dt><dd>An atomic group can only be deleted after all queues belonging to it have been removed from the EOs and deleted.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">atomic_group</td><td>Atomic group to delete</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EM_OK if successful.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/dc1/group__em__atomic__group.html#gab52d49a543562163a904f86fd9f18866">em_atomic_group_create()</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../df/da9/queue_types_ag_8c-example.html#a55">queue_types_ag.c</a>, <a class="el" href="../../db/dcf/queue_types_local_8c-example.html#a46">queue_types_local.c</a>, and <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a86">timer_test_periodic.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00181">181</a> of file <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html">event_machine_atomic_group.c</a>.</p>

</div>
</div>
<a id="ga11ba79730e32cd7bf39d9b382aad807c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga11ba79730e32cd7bf39d9b382aad807c">&#9670;&nbsp;</a></span>em_atomic_group_find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_atomic_group_t em_atomic_group_find </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find atomic group by name.</p>
<p>Finds an atomic group by the given name (exact match). An empty string will not match anything. The search is case sensitive. If there are duplicate names, this will return the first match only.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the name to look for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>atomic group or EM_ATOMIC_GROUP_UNDEF if not found. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../df/da9/queue_types_ag_8c-example.html#a96">queue_types_ag.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00367">367</a> of file <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html">event_machine_atomic_group.c</a>.</p>

</div>
</div>
<a id="gaf51d13aed94be8751fcf0b262b0b3fc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf51d13aed94be8751fcf0b262b0b3fc1">&#9670;&nbsp;</a></span>em_atomic_group_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_atomic_group_t em_atomic_group_get </td>
          <td>(</td>
          <td class="paramtype">em_queue_t&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the associated atomic group of the given queue.</p>
<p>Returns the atomic group of the given queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Queue for the query</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Queue specific atomic group or EM_ATOMIC_GROUP_UNDEF if the given queue is not valid or belong to an atomic group.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/dc1/group__em__atomic__group.html#gab52d49a543562163a904f86fd9f18866">em_atomic_group_create()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00316">316</a> of file <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html">event_machine_atomic_group.c</a>.</p>

</div>
</div>
<a id="ga9dc6fa7206c0350cc93badb90c505e61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9dc6fa7206c0350cc93badb90c505e61">&#9670;&nbsp;</a></span>em_atomic_group_get_first()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_atomic_group_t em_atomic_group_get_first </td>
          <td>(</td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize atomic group iteration and return the first atomic group handle.</p>
<p>Can be used to initialize the iteration to retrieve all created atomic groups for debugging or management purposes. Use <a class="el" href="../../d3/dc1/group__em__atomic__group.html#gab93dfb2e1c01ef97eb123fdc70514a1e">em_atomic_group_get_next()</a> after this call until it returns EM_ATOMIC_GROUP_UNDEF. A new call to <a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga9dc6fa7206c0350cc93badb90c505e61">em_atomic_group_get_first()</a> resets the iteration, which is maintained per core (thread). The operation should be completed in one go before returning from the EO's event receive function (or start/stop).</p>
<p>The number of atomic groups (output arg 'num') may not match the amount of atomic groups actually returned by iterating using <a class="el" href="../../d3/dc1/group__em__atomic__group.html#gab93dfb2e1c01ef97eb123fdc70514a1e">em_atomic_group_get_next()</a> if atomic groups are added or removed in parallel by another core. The order of the returned atomic group handles is undefined.</p>
<div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num;</div>
<div class="line">em_atomic_group_t ag = <a class="code" href="../../d3/dc1/group__em__atomic__group.html#ga9dc6fa7206c0350cc93badb90c505e61">em_atomic_group_get_first</a>(&amp;num);</div>
<div class="line"><span class="keywordflow">while</span> (ag != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a8aa7220ee288baa2ef461f400679fa48">EM_ATOMIC_GROUP_UNDEF</a>) {</div>
<div class="line">   ag = <a class="code" href="../../d3/dc1/group__em__atomic__group.html#gab93dfb2e1c01ef97eb123fdc70514a1e">em_atomic_group_get_next</a>();</div>
<div class="line">}</div>
<div class="ttc" id="aevent__machine__types_8h_html_a8aa7220ee288baa2ef461f400679fa48"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a8aa7220ee288baa2ef461f400679fa48">EM_ATOMIC_GROUP_UNDEF</a></div><div class="ttdeci">#define EM_ATOMIC_GROUP_UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00156">event_machine_types.h:156</a></div></div>
<div class="ttc" id="agroup__em__atomic__group_html_ga9dc6fa7206c0350cc93badb90c505e61"><div class="ttname"><a href="../../d3/dc1/group__em__atomic__group.html#ga9dc6fa7206c0350cc93badb90c505e61">em_atomic_group_get_first</a></div><div class="ttdeci">em_atomic_group_t em_atomic_group_get_first(unsigned int *num)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00384">event_machine_atomic_group.c:384</a></div></div>
<div class="ttc" id="agroup__em__atomic__group_html_gab93dfb2e1c01ef97eb123fdc70514a1e"><div class="ttname"><a href="../../d3/dc1/group__em__atomic__group.html#gab93dfb2e1c01ef97eb123fdc70514a1e">em_atomic_group_get_next</a></div><div class="ttdeci">em_atomic_group_t em_atomic_group_get_next(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00413">event_machine_atomic_group.c:413</a></div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">num</td><td>Pointer to an unsigned int to store the amount of atomic groups into </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The first atomic group handle or EM_ATOMIC_GROUP_UNDEF if none exist</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/dc1/group__em__atomic__group.html#gab93dfb2e1c01ef97eb123fdc70514a1e">em_atomic_group_get_next()</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../df/da9/queue_types_ag_8c-example.html#a93">queue_types_ag.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00384">384</a> of file <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html">event_machine_atomic_group.c</a>.</p>

</div>
</div>
<a id="ga38e4fe65cd5a3263fab703fd1942e248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga38e4fe65cd5a3263fab703fd1942e248">&#9670;&nbsp;</a></span>em_atomic_group_get_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t em_atomic_group_get_name </td>
          <td>(</td>
          <td class="paramtype">em_atomic_group_t&#160;</td>
          <td class="paramname"><em>atomic_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the name of an atomic group.</p>
<p>A copy of the name string (up to 'maxlen' characters) is written to the user given buffer. The string is always null terminated, even if the given buffer length is less than the name length.</p>
<p>If the atomic group has no name, the function returns 0 and writes an empty string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">atomic_group</td><td>Atomic group </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">name</td><td>Destination buffer </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">maxlen</td><td>Maximum length (including the terminating '0')</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of characters written (excludes the terminating '0'). </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../df/da9/queue_types_ag_8c-example.html#a94">queue_types_ag.c</a>, and <a class="el" href="../../db/dcf/queue_types_local_8c-example.html#a33">queue_types_local.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00334">334</a> of file <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html">event_machine_atomic_group.c</a>.</p>

</div>
</div>
<a id="gab93dfb2e1c01ef97eb123fdc70514a1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab93dfb2e1c01ef97eb123fdc70514a1e">&#9670;&nbsp;</a></span>em_atomic_group_get_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_atomic_group_t em_atomic_group_get_next </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the next atomic group handle.</p>
<p>Continues the atomic group iteration started by <a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga9dc6fa7206c0350cc93badb90c505e61">em_atomic_group_get_first()</a> and returns the next atomic group handle.</p>
<dl class="section return"><dt>Returns</dt><dd>The next atomic group handle or EM_ATOMIC_GROUP_UNDEF if the atomic group iteration is completed (i.e. no more atomic groups available).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga9dc6fa7206c0350cc93badb90c505e61">em_atomic_group_get_first()</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../df/da9/queue_types_ag_8c-example.html#a99">queue_types_ag.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00413">413</a> of file <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html">event_machine_atomic_group.c</a>.</p>

</div>
</div>
<a id="gab522457da251830b191fbede08fe6403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab522457da251830b191fbede08fe6403">&#9670;&nbsp;</a></span>em_atomic_group_queue_get_first()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_queue_t em_atomic_group_queue_get_first </td>
          <td>(</td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_atomic_group_t&#160;</td>
          <td class="paramname"><em>atomic_group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize iteration of an atomic group's queues and return the first queue handle.</p>
<p>Can be used to initialize the iteration to retrieve all queues associated with the given atomic group for debugging or management purposes. Use <a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga1a18521b44a2df6f7e40f599e91a51fd">em_atomic_group_queue_get_next()</a> after this call until it returns EM_QUEUE_UNDEF. A new call to <a class="el" href="../../d3/dc1/group__em__atomic__group.html#gab522457da251830b191fbede08fe6403">em_atomic_group_queue_get_first()</a> resets the iteration, which is maintained per core (thread). The operation should be started and completed in one go before returning from the EO's event receive function (or start/stop).</p>
<p>The number of queues in the atomic group (output arg 'num') may not match the amount of queues actually returned by iterating using <a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga1a18521b44a2df6f7e40f599e91a51fd">em_atomic_group_queue_get_next()</a> if queues are added or removed in parallel by another core. The order of the returned queue handles is undefined.</p>
<p>Simplified example: </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num;</div>
<div class="line">em_queue_t q = <a class="code" href="../../d3/dc1/group__em__atomic__group.html#gab522457da251830b191fbede08fe6403">em_atomic_group_queue_get_first</a>(&amp;num, atomic_group);</div>
<div class="line"><span class="keywordflow">while</span> (q != <a class="code" href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a>) {</div>
<div class="line">   q = <a class="code" href="../../d3/dc1/group__em__atomic__group.html#ga1a18521b44a2df6f7e40f599e91a51fd">em_atomic_group_queue_get_next</a>();</div>
<div class="line">}</div>
<div class="ttc" id="aevent__machine__types_8h_html_ae8ba676fb5528d220363edad0aeef1ff"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a></div><div class="ttdeci">#define EM_QUEUE_UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00107">event_machine_types.h:107</a></div></div>
<div class="ttc" id="agroup__em__atomic__group_html_ga1a18521b44a2df6f7e40f599e91a51fd"><div class="ttname"><a href="../../d3/dc1/group__em__atomic__group.html#ga1a18521b44a2df6f7e40f599e91a51fd">em_atomic_group_queue_get_next</a></div><div class="ttdeci">em_queue_t em_atomic_group_queue_get_next(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00492">event_machine_atomic_group.c:492</a></div></div>
<div class="ttc" id="agroup__em__atomic__group_html_gab522457da251830b191fbede08fe6403"><div class="ttname"><a href="../../d3/dc1/group__em__atomic__group.html#gab522457da251830b191fbede08fe6403">em_atomic_group_queue_get_first</a></div><div class="ttdeci">em_queue_t em_atomic_group_queue_get_first(unsigned int *num, em_atomic_group_t atomic_group)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00436">event_machine_atomic_group.c:436</a></div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">num</td><td>Pointer to unsigned int to store the amount of queues into. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">atomic_group</td><td>Atomic group handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The first queue handle or EM_QUEUE_UNDEF if none exist or the atomic group is invalid.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga1a18521b44a2df6f7e40f599e91a51fd">em_atomic_group_queue_get_next()</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../df/da9/queue_types_ag_8c-example.html#a97">queue_types_ag.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00436">436</a> of file <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html">event_machine_atomic_group.c</a>.</p>

</div>
</div>
<a id="ga1a18521b44a2df6f7e40f599e91a51fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a18521b44a2df6f7e40f599e91a51fd">&#9670;&nbsp;</a></span>em_atomic_group_queue_get_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_queue_t em_atomic_group_queue_get_next </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the atomic group's next queue handle.</p>
<p>Continues the queue iteration started by <a class="el" href="../../d3/dc1/group__em__atomic__group.html#gab522457da251830b191fbede08fe6403">em_atomic_group_queue_get_first()</a> and returns the next queue handle in the atomic group.</p>
<dl class="section return"><dt>Returns</dt><dd>The next queue handle or EM_QUEUE_UNDEF if the queue iteration is completed (i.e. no more queues available for this atomic group).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/dc1/group__em__atomic__group.html#gab522457da251830b191fbede08fe6403">em_atomic_group_queue_get_first()</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../df/da9/queue_types_ag_8c-example.html#a98">queue_types_ag.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00492">492</a> of file <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html">event_machine_atomic_group.c</a>.</p>

</div>
</div>
<a id="ga4b845126c06b1d8538ad58795cebb90f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4b845126c06b1d8538ad58795cebb90f">&#9670;&nbsp;</a></span>em_atomic_group_to_u64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t em_atomic_group_to_u64 </td>
          <td>(</td>
          <td class="paramtype">em_atomic_group_t&#160;</td>
          <td class="paramname"><em>atomic_group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert an atomic group handle to an unsigned integer</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">atomic_group</td><td>atomic group handle to be converted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint64_t value that can be used to print/display the handle</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This routine is intended to be used for diagnostic purposes to enable applications to e.g. generate a printable value that represents an em_atomic_group_t handle. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00517">517</a> of file <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html">event_machine_atomic_group.c</a>.</p>

</div>
</div>
<a id="ga0ac321a585ce74c3cf79a7459c91095c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ac321a585ce74c3cf79a7459c91095c">&#9670;&nbsp;</a></span>em_queue_create_ag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">em_queue_t em_queue_create_ag </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d11/event__machine__types_8h.html#a58ebf797967a820c57ced595c2b291e9">em_queue_prio_t</a>&#160;</td>
          <td class="paramname"><em>prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_atomic_group_t&#160;</td>
          <td class="paramname"><em>atomic_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d5/d76/structem__queue__conf__t.html">em_queue_conf_t</a> *&#160;</td>
          <td class="paramname"><em>conf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new queue with a dynamic queue handle belonging to an atomic group.</p>
<p>Queues created with this are always of type EM_QUEUE_TYPE_ATOMIC.</p>
<p>The given name string is copied to EM internal data structure. The maximum string length is EM_QUEUE_NAME_LEN.</p>
<p>The 'conf' argument is optional and can be used to pass extra attributes (e.g. require non-blocking behaviour, if supported) to the system specific implementation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Queue name (optional, NULL ok) </td></tr>
    <tr><td class="paramname">prio</td><td>Queue priority </td></tr>
    <tr><td class="paramname">atomic_group</td><td>Existing atomic group for this queue </td></tr>
    <tr><td class="paramname">conf</td><td>Optional configuration data, NULL for defaults</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New queue handle or EM_QUEUE_UNDEF on an error.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/dc1/group__em__atomic__group.html#gab52d49a543562163a904f86fd9f18866">em_atomic_group_create()</a>, <a class="el" href="../../de/d3c/group__em__queue.html#ga2a28907b18b348cbb153431c35af5752">em_queue_delete()</a>, <a class="el" href="../../de/d3c/group__em__queue.html#gaef257858d1fa660524f198dba20fa9eb">em_queue_create()</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../df/da9/queue_types_ag_8c-example.html#a35">queue_types_ag.c</a>, <a class="el" href="../../db/dcf/queue_types_local_8c-example.html#a35">queue_types_local.c</a>, and <a class="el" href="../../d5/d57/timer_test_periodic_8c-example.html#a46">timer_test_periodic.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00224">224</a> of file <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html">event_machine_atomic_group.c</a>.</p>

</div>
</div>
<a id="ga6174fddbf6b399f547364089d7558461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6174fddbf6b399f547364089d7558461">&#9670;&nbsp;</a></span>em_queue_create_static_ag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_queue_create_static_ag </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d11/event__machine__types_8h.html#a58ebf797967a820c57ced595c2b291e9">em_queue_prio_t</a>&#160;</td>
          <td class="paramname"><em>prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_atomic_group_t&#160;</td>
          <td class="paramname"><em>atomic_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">em_queue_t&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d5/d76/structem__queue__conf__t.html">em_queue_conf_t</a> *&#160;</td>
          <td class="paramname"><em>conf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new queue with a static queue handle belonging to an atomic group.</p>
<p>Otherwise equivalent to <a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga0ac321a585ce74c3cf79a7459c91095c">em_queue_create_ag()</a>.</p>
<p>Note, that the system may have a limited amount of static handles available, so prefer the use of dynamic queues, unless static handles are really needed. The range of static identifiers/handles is system dependent, but macros EM_QUEUE_STATIC_MIN and EM_QUEUE_STATIC_MAX can be used to abstract actual values, e.g. use EM_QUEUE_STATIC_MIN+x for the application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Queue name (optional, NULL ok) </td></tr>
    <tr><td class="paramname">prio</td><td>Queue priority </td></tr>
    <tr><td class="paramname">atomic_group</td><td>Existing atomic group for this queue </td></tr>
    <tr><td class="paramname">queue</td><td>Requested queue handle from the static range </td></tr>
    <tr><td class="paramname">conf</td><td>Optional configuration data, NULL for defaults</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EM_OK if successful.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d3/dc1/group__em__atomic__group.html#ga0ac321a585ce74c3cf79a7459c91095c">em_queue_create_ag()</a>, <a class="el" href="../../d3/dc1/group__em__atomic__group.html#gab52d49a543562163a904f86fd9f18866">em_atomic_group_create()</a>, <a class="el" href="../../de/d3c/group__em__queue.html#ga2a28907b18b348cbb153431c35af5752">em_queue_delete()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00269">269</a> of file <a class="el" href="../../df/d9e/event__machine__atomic__group_8c_source.html">event_machine_atomic_group.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
  <div id="footer" class="tabs">
   <div class="headertitle"> 
     &copy; 2017 Nokia Networks
   </div>
  </div>
 </body>
</html>
