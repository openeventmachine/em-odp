<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EM-ODP: queue_types_ag.c</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doc-stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EM-ODP
   &#160;<span id="projectnumber">3.8.0-1</span>
   </div>
   <div id="projectbrief">Event Machine on ODP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('df/da9/queue_types_ag_8c-example.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">queue_types_ag.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> *   Copyright (c) 2014, Nokia Solutions and Networks</span></div>
<div class="line"><span class="comment"> *   All rights reserved.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><span class="comment"> *   modification, are permitted provided that the following conditions</span></div>
<div class="line"><span class="comment"> *   are met:</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *     * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><span class="comment"> *       notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><span class="comment"> *     * Redistributions in binary form must reproduce the above copyright</span></div>
<div class="line"><span class="comment"> *       notice, this list of conditions and the following disclaimer in the</span></div>
<div class="line"><span class="comment"> *       documentation and/or other materials provided with the distribution.</span></div>
<div class="line"><span class="comment"> *     * Neither the name of the copyright holder nor the names of its</span></div>
<div class="line"><span class="comment"> *       contributors may be used to endorse or promote products derived</span></div>
<div class="line"><span class="comment"> *       from this software without specific prior written permission.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div>
<div class="line"><span class="comment"> *   &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div>
<div class="line"><span class="comment"> *   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div>
<div class="line"><span class="comment"> *   A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div>
<div class="line"><span class="comment"> *   OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div>
<div class="line"><span class="comment"> *   SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div>
<div class="line"><span class="comment"> *   LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div>
<div class="line"><span class="comment"> *   DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div>
<div class="line"><span class="comment"> *   THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><span class="comment"> *   (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div>
<div class="line"><span class="comment"> *   OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @file</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Event Machine Queue Types test example with included atomic groups.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * The test creates several EO-pairs and sends events between the queues in</span></div>
<div class="line"><span class="comment"> * the pair. Each EO has an input queue (of type atomic, parallel or</span></div>
<div class="line"><span class="comment"> * parallel-ordered) or, in the case of atomic groups, three(3) input atomic</span></div>
<div class="line"><span class="comment"> * queues that belong to the same atomic group but have different priority.</span></div>
<div class="line"><span class="comment"> * The events sent between the queues of the EO-pair are counted and</span></div>
<div class="line"><span class="comment"> * statistics for each pair type is printed. If the queues in the EO-pair</span></div>
<div class="line"><span class="comment"> * retain order also this is verified.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d7/d5e/event__machine_8h.html">event_machine.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../de/d26/environment_8h.html">event_machine/platform/env/environment.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;cm_setup.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;cm_error_handler.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Number of queue type pairs (constant, don&#39;t change) */</span></div>
<div class="line"><span class="preprocessor">#define QUEUE_TYPE_PAIRS  10</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Number of test EOs and queues. Must be an even number.</span></div>
<div class="line"><span class="comment"> * Test has NUM_EO/2 EO pairs, that send ping-pong events.</span></div>
<div class="line"><span class="comment"> * Depending on test dynamics (e.g. single burst in atomic</span></div>
<div class="line"><span class="comment"> * queue) only one EO of a pair might be active at a time.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="preprocessor">#define NUM_EO     (8 * QUEUE_TYPE_PAIRS)</span></div>
<div class="line"><span class="comment">/* Max number of queues supported by the test */</span></div>
<div class="line"><span class="preprocessor">#define MAX_QUEUES (NUM_EO / QUEUE_TYPE_PAIRS * 30)</span></div>
<div class="line"><span class="comment">/* Number of ping-pong events per EO pair */</span></div>
<div class="line"><span class="preprocessor">#define NUM_EVENT  (3 * 32)</span></div>
<div class="line"><span class="comment">/* Number of data bytes in the event */</span></div>
<div class="line"><span class="preprocessor">#define DATA_SIZE  64</span></div>
<div class="line"><span class="comment">/* Max number of cores supported by the test */</span></div>
<div class="line"><span class="preprocessor">#define MAX_CORES  64</span></div>
<div class="line"><span class="comment">/* Print stats when the number of received events reaches this value on a core*/</span></div>
<div class="line"><span class="preprocessor">#define PRINT_COUNT  0x1000000</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/** Define how many events are sent per em_send_multi() call */</span></div>
<div class="line"><span class="preprocessor">#define SEND_MULTI_MAX 32</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Enable atomic access checks.</span></div>
<div class="line"><span class="comment"> * If enabled will crash the application if the atomic-processing context</span></div>
<div class="line"><span class="comment"> * is violated, i.e. checks that events from an atomic queue are being</span></div>
<div class="line"><span class="comment"> * processed one-by-one.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="preprocessor">#define VERIFY_ATOMIC_ACCESS  1  </span><span class="comment">/* 0=False or 1=True */</span><span class="preprocessor"></span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Verify that the receive func processing context works as expected</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="preprocessor">#define VERIFY_PROCESSING_CONTEXT 1 </span><span class="comment">/* 0=False or 1=True */</span><span class="preprocessor"></span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Call em_atomic_processing_end every once in a while in EO-A */</span></div>
<div class="line"><span class="preprocessor">#define CALL_ATOMIC_PROCESSING_END__A  1  </span><span class="comment">/* 0=False or 1=True */</span><span class="preprocessor"></span></div>
<div class="line"><span class="comment">/* Call em_atomic_processing_end every once in a while in EO-B */</span></div>
<div class="line"><span class="preprocessor">#define CALL_ATOMIC_PROCESSING_END__B  1  </span><span class="comment">/* 0=False or 1=True */</span><span class="preprocessor"></span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Return &#39;TRUE&#39; if the queue pair retains event order */</span></div>
<div class="line"><span class="preprocessor">#define ORDERED_PAIR(q_type_a, q_type_b)  (                             \</span></div>
<div class="line"><span class="preprocessor">                    (((q_type_a) == EM_QUEUE_TYPE_ATOMIC) ||            \</span></div>
<div class="line"><span class="preprocessor">                    ((q_type_a) == EM_QUEUE_TYPE_PARALLEL_ORDERED)) &amp;&amp;  \</span></div>
<div class="line"><span class="preprocessor">                    (((q_type_b) == EM_QUEUE_TYPE_ATOMIC) ||            \</span></div>
<div class="line"><span class="preprocessor">                     ((q_type_b) == EM_QUEUE_TYPE_PARALLEL_ORDERED)))</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define ABS(nbr1, nbr2)  (((nbr1) &gt; (nbr2)) ? ((nbr1) - (nbr2)) : \</span></div>
<div class="line"><span class="preprocessor">                          ((nbr2) - (nbr1)))</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define PRINT_CORE_STAT_FMT \</span></div>
<div class="line"><span class="preprocessor">&quot;Stat Core-%02i: Count/PairType\t&quot;</span> \</div>
<div class="line">&quot;A-A:%6&quot; PRIu64 &quot; P-P:%6&quot; PRIu64 &quot; PO-PO:%6&quot; PRIu64 &quot;\t&quot; \</div>
<div class="line">&quot;P-A:%6&quot; PRIu64 &quot; PO-A:%6&quot; PRIu64 &quot; PO-P:%6&quot; PRIu64 &quot;\t&quot; \</div>
<div class="line">&quot;AG-AG:%6&quot; PRIu64 &quot; AG-A:%6&quot; PRIu64 &quot; AG-P:%6&quot; PRIu64 &quot; AG-PO:%6&quot; PRIu64 &quot;\t&quot; \</div>
<div class="line">&quot;cycles/event:%.0f @%.0fMHz %&quot; PRIu64 &quot;\n&quot;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Combinations of Queue Type pairs</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="preprocessor">#define NO_AG (0)</span></div>
<div class="line"><span class="preprocessor">#define IN_AG (1)</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>queue_type_pairs_ {</div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#a47c0f0da93addf232d3d6b720f0bb262">em_queue_type_t</a> q_type[2];</div>
<div class="line">        <span class="keywordtype">int</span> in_atomic_group[2];</div>
<div class="line">} queue_type_pair_t;</div>
<div class="line"> </div>
<div class="line">queue_type_pair_t  queue_type_pairs[QUEUE_TYPE_PAIRS] = {</div>
<div class="line">        <span class="comment">/* Ordered Pair */</span></div>
<div class="line">        { {<a name="a0"></a><a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>, <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>}, {NO_AG, NO_AG} },</div>
<div class="line">        { {<a name="a1"></a><a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa3f46c70193d0a7d9bb8fc149a3179ea">EM_QUEUE_TYPE_PARALLEL</a>, <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa3f46c70193d0a7d9bb8fc149a3179ea">EM_QUEUE_TYPE_PARALLEL</a>}, {NO_AG, NO_AG} },</div>
<div class="line">        <span class="comment">/* Ordered Pair */</span></div>
<div class="line">        { {<a name="a2"></a><a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa581ffa79b1fb6bbde9fcbaa99cb4a8f">EM_QUEUE_TYPE_PARALLEL_ORDERED</a>, <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa581ffa79b1fb6bbde9fcbaa99cb4a8f">EM_QUEUE_TYPE_PARALLEL_ORDERED</a>},</div>
<div class="line">          {NO_AG, NO_AG} },</div>
<div class="line">        { {<a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa3f46c70193d0a7d9bb8fc149a3179ea">EM_QUEUE_TYPE_PARALLEL</a>, <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>}, {NO_AG, NO_AG} },</div>
<div class="line">        <span class="comment">/* Ordered Pair */</span></div>
<div class="line">        { {<a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa581ffa79b1fb6bbde9fcbaa99cb4a8f">EM_QUEUE_TYPE_PARALLEL_ORDERED</a>, <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>},</div>
<div class="line">          {NO_AG, NO_AG} },</div>
<div class="line">        { {<a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa581ffa79b1fb6bbde9fcbaa99cb4a8f">EM_QUEUE_TYPE_PARALLEL_ORDERED</a>, <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa3f46c70193d0a7d9bb8fc149a3179ea">EM_QUEUE_TYPE_PARALLEL</a>},</div>
<div class="line">          {NO_AG, NO_AG} },</div>
<div class="line">        <span class="comment">/* With Atomic Groups for atomic queues: */</span></div>
<div class="line">        <span class="comment">/* Ordered Pair */</span></div>
<div class="line">        { {<a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>, <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>}, {IN_AG, IN_AG} },</div>
<div class="line">        <span class="comment">/* Ordered Pair */</span></div>
<div class="line">        { {<a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>, <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>}, {IN_AG, NO_AG} },</div>
<div class="line">        { {<a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>, <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa3f46c70193d0a7d9bb8fc149a3179ea">EM_QUEUE_TYPE_PARALLEL</a>}, {IN_AG, NO_AG} },</div>
<div class="line">        <span class="comment">/* Ordered Pair */</span></div>
<div class="line">        { {<a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>, <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa581ffa79b1fb6bbde9fcbaa99cb4a8f">EM_QUEUE_TYPE_PARALLEL_ORDERED</a>},</div>
<div class="line">          {IN_AG, NO_AG} },</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">COMPILE_TIME_ASSERT(<span class="keyword">sizeof</span>(queue_type_pairs) ==</div>
<div class="line">                    (QUEUE_TYPE_PAIRS * <span class="keyword">sizeof</span>(queue_type_pair_t)),</div>
<div class="line">                    QUEUE_TYPE_PAIRS_SIZE_ERROR);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">        PT_ATOMIC_ATOMIC = 0,</div>
<div class="line">        PT_PARALLEL_PARALLEL = 1,</div>
<div class="line">        PT_PARALORD_PARALORD = 2,</div>
<div class="line">        PT_PARALLEL_ATOMIC = 3,</div>
<div class="line">        PT_PARALORD_ATOMIC = 4,</div>
<div class="line">        PT_PARALORD_PARALLEL = 5,</div>
<div class="line">        <span class="comment">/* With Atomic Groups (AG) for atomic queues: */</span></div>
<div class="line">        PT_AG_AG = 6,</div>
<div class="line">        PT_AG_ATOMIC = 7,</div>
<div class="line">        PT_AG_PARALLEL = 8,</div>
<div class="line">        PT_AG_PARALORD = 9,</div>
<div class="line">        PT_UNDEFINED</div>
<div class="line">} pair_type_t;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Test statistics (per core)</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">union </span>{</div>
<div class="line">        uint8_t u8[2 * <a name="a3"></a><a class="code" href="../../de/d26/environment_8h.html#aba71635a146e563689c50f1be15cb267">ENV_CACHE_LINE_SIZE</a>] <a name="a4"></a><a class="code" href="../../de/d26/environment_8h.html#a13093fb72d4f1f0be2f85cf449f4d543">ENV_CACHE_LINE_ALIGNED</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">struct </span>{</div>
<div class="line">                uint64_t events;</div>
<div class="line">                uint64_t begin_cycles;</div>
<div class="line">                uint64_t end_cycles;</div>
<div class="line">                uint64_t print_count;</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                 * Pair-Type count, i.e. the number of events belonging to</span></div>
<div class="line"><span class="comment">                 * a certain pair-type on this core</span></div>
<div class="line"><span class="comment">                 */</span></div>
<div class="line">                uint64_t pt_count[QUEUE_TYPE_PAIRS];</div>
<div class="line">        };</div>
<div class="line">} core_stat_t;</div>
<div class="line"> </div>
<div class="line">COMPILE_TIME_ASSERT(<span class="keyword">sizeof</span>(core_stat_t) % <a class="code" href="../../de/d26/environment_8h.html#aba71635a146e563689c50f1be15cb267">ENV_CACHE_LINE_SIZE</a> == 0,</div>
<div class="line">                    CORE_STAT_T__SIZE_ERROR);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Test EO context</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">        em_eo_t eo_hdl;</div>
<div class="line">        <span class="comment">/* EO pair retains order? 0/1 */</span></div>
<div class="line">        <span class="keywordtype">int</span> ordered_pair;</div>
<div class="line">        pair_type_t pair_type;</div>
<div class="line">        <span class="keywordtype">int</span> owns_ag_queues;</div>
<div class="line">        em_atomic_group_t agrp_hdl;</div>
<div class="line">        <span class="keywordtype">int</span> peer_owns_ag_queues;</div>
<div class="line">        <span class="comment">/* Atomic group is also set as queue type atomic */</span></div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#a47c0f0da93addf232d3d6b720f0bb262">em_queue_type_t</a> q_type;</div>
<div class="line">        env_spinlock_t verify_atomic_access;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> *end[0] <a class="code" href="../../de/d26/environment_8h.html#a13093fb72d4f1f0be2f85cf449f4d543">ENV_CACHE_LINE_ALIGNED</a>;</div>
<div class="line">} eo_context_t;</div>
<div class="line"> </div>
<div class="line">COMPILE_TIME_ASSERT(<span class="keyword">sizeof</span>(eo_context_t) % <a class="code" href="../../de/d26/environment_8h.html#aba71635a146e563689c50f1be15cb267">ENV_CACHE_LINE_SIZE</a> == 0,</div>
<div class="line">                    EO_CTX_T__SIZE_ERROR);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Test Queue context</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">        em_queue_t q_hdl;</div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#a47c0f0da93addf232d3d6b720f0bb262">em_queue_type_t</a> q_type;</div>
<div class="line">        <span class="keywordtype">int</span> in_atomic_group;</div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx;</div>
<div class="line">        uint64_t seqno;</div>
<div class="line">        <span class="comment">/* Number of events at the previous check-point  */</span></div>
<div class="line">        uint64_t prev_events;</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * Total number of events handled from the queue.</span></div>
<div class="line"><span class="comment">         * Atomically incremented, either by __atomic_add_fetch() or</span></div>
<div class="line"><span class="comment">         * protected by atomic context (set by queue type).</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        uint64_t num_events <a class="code" href="../../de/d26/environment_8h.html#a13093fb72d4f1f0be2f85cf449f4d543">ENV_CACHE_LINE_ALIGNED</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> *end[0] <a class="code" href="../../de/d26/environment_8h.html#a13093fb72d4f1f0be2f85cf449f4d543">ENV_CACHE_LINE_ALIGNED</a>;</div>
<div class="line">} queue_context_t;</div>
<div class="line"> </div>
<div class="line">COMPILE_TIME_ASSERT(<span class="keyword">sizeof</span>(queue_context_t) % <a class="code" href="../../de/d26/environment_8h.html#aba71635a146e563689c50f1be15cb267">ENV_CACHE_LINE_SIZE</a> == 0,</div>
<div class="line">                    Q_CTX_T__SIZE_ERROR);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* IDs stored in the event user area ID */</span></div>
<div class="line"><span class="preprocessor">#define EV_ID_START_EVENT 1</span></div>
<div class="line"><span class="preprocessor">#define EV_ID_DATA_EVENT  2</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">        <span class="keywordtype">int</span> in_atomic_group_a;</div>
<div class="line">        <span class="keywordtype">int</span> src_q_cnt;</div>
<div class="line">        em_queue_t src_queues[3];</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">int</span> in_atomic_group_b;</div>
<div class="line">        <span class="keywordtype">int</span> dst_q_cnt;</div>
<div class="line">        em_queue_t dst_queues[3];</div>
<div class="line">} start_event_uarea_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">        <span class="comment">/* Next destination queue */</span></div>
<div class="line">        em_queue_t dest;</div>
<div class="line">        em_queue_t src;</div>
<div class="line">        <span class="comment">/* Sequence number */</span></div>
<div class="line">        uint64_t seqno;</div>
<div class="line">} data_event_uarea_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">union </span>{</div>
<div class="line">        start_event_uarea_t start;</div>
<div class="line">        data_event_uarea_t data;</div>
<div class="line">} test_event_uarea_t;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/** Data event content */</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">        <span class="comment">/* Test data */</span></div>
<div class="line">        uint8_t data[DATA_SIZE];</div>
<div class="line">} data_event_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">        uint8_t u8[0]; <span class="comment">/* no payload */</span></div>
<div class="line">} start_event_t;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Test event, content identified by &#39;ev_id&#39;</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">union </span>{</div>
<div class="line">        start_event_t start;</div>
<div class="line">        data_event_t data;</div>
<div class="line">} test_event_t;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Queue Types test shared memory</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">        core_stat_t core_stat[MAX_CORES] <a class="code" href="../../de/d26/environment_8h.html#a13093fb72d4f1f0be2f85cf449f4d543">ENV_CACHE_LINE_ALIGNED</a>;</div>
<div class="line"> </div>
<div class="line">        eo_context_t eo_context[NUM_EO] <a class="code" href="../../de/d26/environment_8h.html#a13093fb72d4f1f0be2f85cf449f4d543">ENV_CACHE_LINE_ALIGNED</a>;</div>
<div class="line"> </div>
<div class="line">        queue_context_t queue_context[MAX_QUEUES] <a class="code" href="../../de/d26/environment_8h.html#a13093fb72d4f1f0be2f85cf449f4d543">ENV_CACHE_LINE_ALIGNED</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">unsigned</span> num_queues <a class="code" href="../../de/d26/environment_8h.html#a13093fb72d4f1f0be2f85cf449f4d543">ENV_CACHE_LINE_ALIGNED</a>;</div>
<div class="line"> </div>
<div class="line">        em_pool_t pool;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">int</span> teardown_in_progress;</div>
<div class="line">} qtypes_shm_t;</div>
<div class="line"> </div>
<div class="line">COMPILE_TIME_ASSERT(<span class="keyword">sizeof</span>(qtypes_shm_t) % <a class="code" href="../../de/d26/environment_8h.html#aba71635a146e563689c50f1be15cb267">ENV_CACHE_LINE_SIZE</a> == 0,</div>
<div class="line">                    QTYPES_SHM_T__SIZE_ERROR);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* EM-core local pointer to shared memory */</span></div>
<div class="line"><span class="keyword">static</span> <a name="a5"></a><a class="code" href="../../de/d26/environment_8h.html#a2b2462b2491461a5c14adb1eb4493a8c">ENV_LOCAL</a> qtypes_shm_t *qtypes_shm;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Local Function Prototypes</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a></div>
<div class="line">start(<span class="keywordtype">void</span> *eo_context, em_eo_t eo, <span class="keyword">const</span> <a name="_a6"></a><a class="code" href="../../de/dc0/structem__eo__conf__t.html">em_eo_conf_t</a> *conf);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a></div>
<div class="line">stop(<span class="keywordtype">void</span> *eo_context, em_eo_t eo);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">initialize_events(<span class="keyword">const</span> start_event_uarea_t *start);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">receive_a(<span class="keywordtype">void</span> *eo_context, em_event_t event, <a class="code" href="../../d4/d11/event__machine__types_8h.html#a49fd700da185b0f64834bf967479a992">em_event_type_t</a> type,</div>
<div class="line">          em_queue_t queue, <span class="keywordtype">void</span> *q_ctx);</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">receive_b(<span class="keywordtype">void</span> *eo_context, em_event_t event, <a class="code" href="../../d4/d11/event__machine__types_8h.html#a49fd700da185b0f64834bf967479a992">em_event_type_t</a> type,</div>
<div class="line">          em_queue_t queue, <span class="keywordtype">void</span> *q_ctx);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> pair_type_t</div>
<div class="line">get_pair_type(queue_type_pair_t *queue_type_pair);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">verify_seqno(eo_context_t *<span class="keyword">const</span> eo_ctx, queue_context_t *<span class="keyword">const</span> q_ctx,</div>
<div class="line">             uint64_t seqno);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">verify_all_queues_get_events(<span class="keywordtype">void</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">verify_atomic_access__begin(eo_context_t *<span class="keyword">const</span> eo_ctx);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">verify_atomic_access__end(eo_context_t *<span class="keyword">const</span> eo_ctx);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">verify_processing_context(eo_context_t *<span class="keyword">const</span> eo_ctx, em_queue_t queue);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">print_core_stats(core_stat_t *<span class="keyword">const</span> cstat, uint64_t print_events);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">print_event_msg_string(<span class="keywordtype">void</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">print_test_info(<span class="keywordtype">void</span>);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Main function</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Call cm_setup() to perform test &amp; EM setup common for all the</span></div>
<div class="line"><span class="comment"> * test applications.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * cm_setup() will call test_init() and test_start() and launch</span></div>
<div class="line"><span class="comment"> * the EM dispatch loop on every EM-core.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">        <span class="keywordflow">return</span> cm_setup(argc, argv);</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Init of the Queue Types test application.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * @attention Run on all cores.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * @see cm_setup() for setup and dispatch.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> test_init(<span class="keyword">const</span> appl_conf_t *appl_conf)</div>
<div class="line">{</div>
<div class="line">        (void)appl_conf;</div>
<div class="line">        <span class="keywordtype">int</span> core = <a name="a7"></a><a class="code" href="../../d5/d69/group__em__core.html#ga13d21af31382ec2c3d45010645707e9c">em_core_id</a>();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (core == 0) {</div>
<div class="line">                qtypes_shm = env_shared_reserve(<span class="stringliteral">&quot;QueueTypesSharedMem&quot;</span>,</div>
<div class="line">                                                <span class="keyword">sizeof</span>(qtypes_shm_t));</div>
<div class="line">                <a name="a8"></a><a class="code" href="../../db/da0/group__em__error.html#gaf7332965c5deaa69411136e8d36089c6">em_register_error_handler</a>(test_error_handler);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">                qtypes_shm = env_shared_lookup(<span class="stringliteral">&quot;QueueTypesSharedMem&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (qtypes_shm == NULL) {</div>
<div class="line">                test_error(<a name="a9"></a><a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#ac341b7db29d8127e864a45c9bd2a4aa3">EM_ERROR_SET_FATAL</a>(__LINE__), 0xdead,</div>
<div class="line">                           <span class="stringliteral">&quot;Queue Types test init failed on EM-core: %u\n&quot;</span>,</div>
<div class="line">                           <a class="code" href="../../d5/d69/group__em__core.html#ga13d21af31382ec2c3d45010645707e9c">em_core_id</a>());</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (core == 0) {</div>
<div class="line">                memset(qtypes_shm, 0, <span class="keyword">sizeof</span>(qtypes_shm_t));</div>
<div class="line">        }</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Startup of the Queue Types test application.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * @attention Run only on EM core 0.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * @param appl_conf Application configuration</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * @see cm_setup() for setup and dispatch.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> test_start(<span class="keyword">const</span> appl_conf_t *appl_conf)</div>
<div class="line">{</div>
<div class="line">        em_atomic_group_t atomic_group;</div>
<div class="line">        em_eo_t eo;</div>
<div class="line">        em_queue_t queue_a, queue_b;</div>
<div class="line">        em_queue_t queue_ag_a1, queue_ag_a2, queue_ag_a3;</div>
<div class="line">        em_queue_t queue_ag_b1, queue_ag_b2, queue_ag_b3;</div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#a47c0f0da93addf232d3d6b720f0bb262">em_queue_type_t</a> q_type_a, q_type_b;</div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> ret, start_ret = <a name="a10"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#a1f9dbd41491db385bd4a3813e2f030a5">EM_ERROR</a>;</div>
<div class="line">        eo_context_t *eo_ctx;</div>
<div class="line">        queue_context_t *q_ctx;</div>
<div class="line">        pair_type_t pair_type;</div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> qcnt = 0; <span class="comment">/* queue context index */</span></div>
<div class="line">        <span class="keywordtype">int</span> in_atomic_group_a, in_atomic_group_b;</div>
<div class="line">        <span class="keywordtype">int</span> ordered_pair;</div>
<div class="line">        <span class="keywordtype">char</span> eo_name[<a name="a11"></a><a class="code" href="../../dd/dca/event__machine__config_8h.html#a5ae3357b414bf073289b9dec686e3a17">EM_EO_NAME_LEN</a>];</div>
<div class="line">        <span class="keywordtype">char</span> q_name[<a name="a12"></a><a class="code" href="../../dd/dca/event__machine__config_8h.html#a742517c3aeaf8e64278863f3584db048">EM_QUEUE_NAME_LEN</a>];</div>
<div class="line">        <span class="keywordtype">char</span> ag_name[<a name="a13"></a><a class="code" href="../../dd/dca/event__machine__config_8h.html#adc9537c36c264727f8b83ac3ca6451f7">EM_ATOMIC_GROUP_NAME_LEN</a>];</div>
<div class="line">        <span class="keywordtype">int</span> i;</div>
<div class="line">        uint8_t eo_idx = 0, q_idx = 0, agrp_idx = 0;</div>
<div class="line"> </div>
<div class="line">        queue_a = <a name="a14"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a>;</div>
<div class="line">        queue_b = <a class="code" href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a>;</div>
<div class="line"> </div>
<div class="line">        queue_ag_a1 = <a class="code" href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a>;</div>
<div class="line">        queue_ag_a2 = <a class="code" href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a>;</div>
<div class="line">        queue_ag_a3 = <a class="code" href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a>;</div>
<div class="line"> </div>
<div class="line">        queue_ag_b1 = <a class="code" href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a>;</div>
<div class="line">        queue_ag_b2 = <a class="code" href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a>;</div>
<div class="line">        queue_ag_b3 = <a class="code" href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * Create own pool with events containing user area.</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <a name="_a15"></a><a class="code" href="../../d2/db5/structem__pool__cfg__t.html">em_pool_cfg_t</a> pool_cfg;</div>
<div class="line"> </div>
<div class="line">        <a name="a16"></a><a class="code" href="../../d1/d85/group__em__pool.html#ga0a0585d9c293ce9d93d2b7235935313a">em_pool_cfg_init</a>(&amp;pool_cfg);</div>
<div class="line">        pool_cfg.<a name="a17"></a><a class="code" href="../../d2/db5/structem__pool__cfg__t.html#a8df13d5f2195860c030809996ca4f493">event_type</a> = <a name="a18"></a><a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#ace0fe27049350469ff1be8188acfea89a2066feedf79f96d10ce9215fa5f37db1">EM_EVENT_TYPE_SW</a>;</div>
<div class="line">        pool_cfg.<a name="a19"></a><a class="code" href="../../d2/db5/structem__pool__cfg__t.html#af05251345624f789214a15dd627d0bba">user_area</a>.<a name="a20"></a><a class="code" href="../../d2/db5/structem__pool__cfg__t.html#aaf3a99d80aa7a7dfa9fb5b52144d3b33">in_use</a> = <span class="keyword">true</span>;</div>
<div class="line">        pool_cfg.<a class="code" href="../../d2/db5/structem__pool__cfg__t.html#af05251345624f789214a15dd627d0bba">user_area</a>.<a name="a21"></a><a class="code" href="../../d2/db5/structem__pool__cfg__t.html#aa74d6a49cffa671532948eaac1dadfc2">size</a> = <span class="keyword">sizeof</span>(test_event_uarea_t);</div>
<div class="line"> </div>
<div class="line">        pool_cfg.<a name="a22"></a><a class="code" href="../../d2/db5/structem__pool__cfg__t.html#a3929a4fcd68d78ef12347bb6f230fd3a">num_subpools</a> = 1;</div>
<div class="line">        pool_cfg.<a name="a23"></a><a class="code" href="../../d2/db5/structem__pool__cfg__t.html#aa67ebf1bba1e9239f2332030aaf39e2a">subpool</a>[0].<a class="code" href="../../d2/db5/structem__pool__cfg__t.html#aa74d6a49cffa671532948eaac1dadfc2">size</a> = <span class="keyword">sizeof</span>(test_event_t);</div>
<div class="line">        pool_cfg.<a class="code" href="../../d2/db5/structem__pool__cfg__t.html#aa67ebf1bba1e9239f2332030aaf39e2a">subpool</a>[0].<a name="a24"></a><a class="code" href="../../d2/db5/structem__pool__cfg__t.html#a3f8e331ebdc0f001c76e4b89b40124e6">num</a> = NUM_EVENT * NUM_EO;</div>
<div class="line">        <span class="comment">/* no cache needed, everything allocated at start-up: */</span></div>
<div class="line">        pool_cfg.<a class="code" href="../../d2/db5/structem__pool__cfg__t.html#aa67ebf1bba1e9239f2332030aaf39e2a">subpool</a>[0].<a name="a25"></a><a class="code" href="../../d2/db5/structem__pool__cfg__t.html#a783e3e9dafe05be89ccfe13b3949842d">cache_size</a> = 0;</div>
<div class="line"> </div>
<div class="line">        em_pool_t pool = <a name="a26"></a><a class="code" href="../../d1/d85/group__em__pool.html#ga05acc37c035cef81910e8ea77e5db158">em_pool_create</a>(<span class="stringliteral">&quot;pool:Qtypes-AG&quot;</span>,</div>
<div class="line">                                        <a name="a27"></a><a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a67fed61187c93569c92da0647970a29f">EM_POOL_UNDEF</a>, &amp;pool_cfg);</div>
<div class="line">        test_fatal_if(pool == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a67fed61187c93569c92da0647970a29f">EM_POOL_UNDEF</a>, <span class="stringliteral">&quot;pool create failed&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        qtypes_shm-&gt;pool = pool;</div>
<div class="line"> </div>
<div class="line">        APPL_PRINT(<span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;***********************************************************\n&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;EM APPLICATION: &#39;%s&#39; initializing:\n&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;  %s: %s() - EM-core:%d\n&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;  Application running on %u EM-cores (procs:%u, threads:%u)\n&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;  using event pool:%&quot;</span> <a name="a28"></a><a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a5f1ebfb654b7ec3169e068aa3776ff79">PRI_POOL</a> <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;***********************************************************\n&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">                   appl_conf-&gt;name, NO_PATH(__FILE__), __func__, <a class="code" href="../../d5/d69/group__em__core.html#ga13d21af31382ec2c3d45010645707e9c">em_core_id</a>(),</div>
<div class="line">                   appl_conf-&gt;core_count, appl_conf-&gt;num_procs, appl_conf-&gt;num_threads,</div>
<div class="line">                   qtypes_shm-&gt;pool);</div>
<div class="line"> </div>
<div class="line">        test_fatal_if(qtypes_shm-&gt;pool == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a67fed61187c93569c92da0647970a29f">EM_POOL_UNDEF</a>,</div>
<div class="line">                      <span class="stringliteral">&quot;Undefined application event pool!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        qtypes_shm-&gt;num_queues = 0;</div>
<div class="line">        qtypes_shm-&gt;teardown_in_progress = <a name="a29"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#aaa1082ff9d3bde10bb66e7bcaa6f00ee">EM_FALSE</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Create and start application pairs. Send initial test events */</span></div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; (NUM_EO / 2); i++) {</div>
<div class="line">                q_type_a = queue_type_pairs[i % QUEUE_TYPE_PAIRS].q_type[0];</div>
<div class="line">                in_atomic_group_a =</div>
<div class="line">                    queue_type_pairs[i % QUEUE_TYPE_PAIRS].in_atomic_group[0];</div>
<div class="line"> </div>
<div class="line">                q_type_b = queue_type_pairs[i % QUEUE_TYPE_PAIRS].q_type[1];</div>
<div class="line">                in_atomic_group_b =</div>
<div class="line">                    queue_type_pairs[i % QUEUE_TYPE_PAIRS].in_atomic_group[1];</div>
<div class="line"> </div>
<div class="line">                ordered_pair = ORDERED_PAIR(q_type_a, q_type_b);</div>
<div class="line"> </div>
<div class="line">                pair_type =</div>
<div class="line">                        get_pair_type(&amp;queue_type_pairs[i % QUEUE_TYPE_PAIRS]);</div>
<div class="line">                test_fatal_if(pair_type == PT_UNDEFINED,</div>
<div class="line">                              <span class="stringliteral">&quot;Queue Pair Type UNDEFINED! (%u, %u)&quot;</span>,</div>
<div class="line">                              q_type_a, q_type_b);</div>
<div class="line"> </div>
<div class="line">                <span class="comment">/* Create EO &quot;A&quot; */</span></div>
<div class="line">                ret = <a name="a30"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>;</div>
<div class="line"> </div>
<div class="line">                eo_ctx = &amp;qtypes_shm-&gt;eo_context[2 * i];</div>
<div class="line">                eo_ctx-&gt;ordered_pair = ordered_pair;</div>
<div class="line">                eo_ctx-&gt;pair_type = pair_type;</div>
<div class="line">                eo_ctx-&gt;q_type = q_type_a;</div>
<div class="line">                eo_ctx-&gt;owns_ag_queues = in_atomic_group_a;</div>
<div class="line">                eo_ctx-&gt;agrp_hdl = <a name="a31"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#a8aa7220ee288baa2ef461f400679fa48">EM_ATOMIC_GROUP_UNDEF</a>;</div>
<div class="line">                eo_ctx-&gt;peer_owns_ag_queues = in_atomic_group_b;</div>
<div class="line"> </div>
<div class="line">                snprintf(eo_name, <span class="keyword">sizeof</span>(eo_name), <span class="stringliteral">&quot;EO-A%&quot;</span> PRIu8 <span class="stringliteral">&quot;&quot;</span>, ++eo_idx);</div>
<div class="line">                eo_name[<span class="keyword">sizeof</span>(eo_name) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                eo = <a name="a32"></a><a class="code" href="../../d8/d5f/group__em__eo.html#ga196c7caa1177575fd424e9a0d2854da6">em_eo_create</a>(eo_name, start, NULL, stop, NULL, receive_a,</div>
<div class="line">                                  eo_ctx);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (in_atomic_group_a &amp;&amp; q_type_a == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>) {</div>
<div class="line">                        snprintf(ag_name, <span class="keyword">sizeof</span>(ag_name), <span class="stringliteral">&quot;AG-A%&quot;</span> PRIu8 <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                                 ++agrp_idx);</div>
<div class="line">                        ag_name[<span class="keyword">sizeof</span>(ag_name) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                        atomic_group =</div>
<div class="line">                                <a name="a33"></a><a class="code" href="../../d3/dc1/group__em__atomic__group.html#gab52d49a543562163a904f86fd9f18866">em_atomic_group_create</a>(ag_name,</div>
<div class="line">                                                       <a name="a34"></a><a class="code" href="../../db/d6d/event__machine__hw__config_8h.html#ae56af1c575498ec19f0836ee916d0eb9">EM_QUEUE_GROUP_DEFAULT</a>);</div>
<div class="line">                        test_fatal_if(atomic_group == <a class="code" href="../../d4/d11/event__machine__types_8h.html#a8aa7220ee288baa2ef461f400679fa48">EM_ATOMIC_GROUP_UNDEF</a>,</div>
<div class="line">                                      <span class="stringliteral">&quot;Atomic group creation failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        eo_ctx-&gt;agrp_hdl = atomic_group;</div>
<div class="line"> </div>
<div class="line">                        snprintf(q_name, <span class="keyword">sizeof</span>(q_name), <span class="stringliteral">&quot;AG:Q-A%&quot;</span> PRIu8 <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                                 ++q_idx);</div>
<div class="line">                        q_name[<span class="keyword">sizeof</span>(q_name) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                        queue_ag_a1 = <a name="a35"></a><a class="code" href="../../d3/dc1/group__em__atomic__group.html#ga0ac321a585ce74c3cf79a7459c91095c">em_queue_create_ag</a>(q_name,</div>
<div class="line">                                                         <a name="a36"></a><a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a8171ccd1b7a0df99a6c7d0f3ec82e52fa2311aaab5842cd6b78e4587be0fbf0ca">EM_QUEUE_PRIO_NORMAL</a>,</div>
<div class="line">                                                         atomic_group, NULL);</div>
<div class="line">                        snprintf(q_name, <span class="keyword">sizeof</span>(q_name), <span class="stringliteral">&quot;AG:Q-A%&quot;</span> PRIu8 <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                                 ++q_idx);</div>
<div class="line">                        q_name[<span class="keyword">sizeof</span>(q_name) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                        queue_ag_a2 = <a class="code" href="../../d3/dc1/group__em__atomic__group.html#ga0ac321a585ce74c3cf79a7459c91095c">em_queue_create_ag</a>(q_name,</div>
<div class="line">                                                         <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a8171ccd1b7a0df99a6c7d0f3ec82e52fa2311aaab5842cd6b78e4587be0fbf0ca">EM_QUEUE_PRIO_NORMAL</a>,</div>
<div class="line">                                                         atomic_group, NULL);</div>
<div class="line">                        snprintf(q_name, <span class="keyword">sizeof</span>(q_name), <span class="stringliteral">&quot;AG:Q-A%&quot;</span> PRIu8 <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                                 ++q_idx);</div>
<div class="line">                        q_name[<span class="keyword">sizeof</span>(q_name) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                        queue_ag_a3 = <a class="code" href="../../d3/dc1/group__em__atomic__group.html#ga0ac321a585ce74c3cf79a7459c91095c">em_queue_create_ag</a>(q_name,</div>
<div class="line">                                                         <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a8171ccd1b7a0df99a6c7d0f3ec82e52fa2311aaab5842cd6b78e4587be0fbf0ca">EM_QUEUE_PRIO_NORMAL</a>,</div>
<div class="line">                                                         atomic_group, NULL);</div>
<div class="line"> </div>
<div class="line">                        ret = <a name="a37"></a><a class="code" href="../../d8/d5f/group__em__eo.html#gac9b818edd466228b6fb653bd9337da3e">em_eo_add_queue_sync</a>(eo, queue_ag_a1);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-A setup failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        ret = <a class="code" href="../../d8/d5f/group__em__eo.html#gac9b818edd466228b6fb653bd9337da3e">em_eo_add_queue_sync</a>(eo, queue_ag_a2);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-A setup failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        ret = <a class="code" href="../../d8/d5f/group__em__eo.html#gac9b818edd466228b6fb653bd9337da3e">em_eo_add_queue_sync</a>(eo, queue_ag_a3);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-A setup failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        q_ctx = &amp;qtypes_shm-&gt;queue_context[qcnt];</div>
<div class="line">                        q_ctx-&gt;q_hdl = queue_ag_a1;</div>
<div class="line">                        q_ctx-&gt;q_type = q_type_a;</div>
<div class="line">                        q_ctx-&gt;in_atomic_group = in_atomic_group_a;</div>
<div class="line">                        q_ctx-&gt;idx = qcnt++;</div>
<div class="line">                        ret = <a name="a38"></a><a class="code" href="../../de/d3c/group__em__queue.html#ga83e001b62c2a87bf862fbf695c5e84fa">em_queue_set_context</a>(queue_ag_a1, q_ctx);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-A setup failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        q_ctx = &amp;qtypes_shm-&gt;queue_context[qcnt];</div>
<div class="line">                        q_ctx-&gt;q_hdl = queue_ag_a2;</div>
<div class="line">                        q_ctx-&gt;q_type = q_type_a;</div>
<div class="line">                        q_ctx-&gt;in_atomic_group = in_atomic_group_a;</div>
<div class="line">                        q_ctx-&gt;idx = qcnt++;</div>
<div class="line">                        ret = <a class="code" href="../../de/d3c/group__em__queue.html#ga83e001b62c2a87bf862fbf695c5e84fa">em_queue_set_context</a>(queue_ag_a2, q_ctx);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-A setup failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        q_ctx = &amp;qtypes_shm-&gt;queue_context[qcnt];</div>
<div class="line">                        q_ctx-&gt;q_hdl = queue_ag_a3;</div>
<div class="line">                        q_ctx-&gt;q_type = q_type_a;</div>
<div class="line">                        q_ctx-&gt;in_atomic_group = in_atomic_group_a;</div>
<div class="line">                        q_ctx-&gt;idx = qcnt++;</div>
<div class="line">                        ret = <a class="code" href="../../de/d3c/group__em__queue.html#ga83e001b62c2a87bf862fbf695c5e84fa">em_queue_set_context</a>(queue_ag_a3, q_ctx);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-A setup failed!&quot;</span>);</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                        snprintf(q_name, <span class="keyword">sizeof</span>(q_name), <span class="stringliteral">&quot;Q-A%&quot;</span> PRIu8 <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                                 ++q_idx);</div>
<div class="line">                        q_name[<span class="keyword">sizeof</span>(q_name) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                        queue_a = <a name="a39"></a><a class="code" href="../../de/d3c/group__em__queue.html#gaef257858d1fa660524f198dba20fa9eb">em_queue_create</a>(q_name, q_type_a,</div>
<div class="line">                                                  <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a8171ccd1b7a0df99a6c7d0f3ec82e52fa2311aaab5842cd6b78e4587be0fbf0ca">EM_QUEUE_PRIO_NORMAL</a>,</div>
<div class="line">                                                  <a class="code" href="../../db/d6d/event__machine__hw__config_8h.html#ae56af1c575498ec19f0836ee916d0eb9">EM_QUEUE_GROUP_DEFAULT</a>, NULL);</div>
<div class="line">                        ret = <a class="code" href="../../d8/d5f/group__em__eo.html#gac9b818edd466228b6fb653bd9337da3e">em_eo_add_queue_sync</a>(eo, queue_a);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-A setup failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        q_ctx = &amp;qtypes_shm-&gt;queue_context[qcnt];</div>
<div class="line">                        q_ctx-&gt;q_hdl = queue_a;</div>
<div class="line">                        q_ctx-&gt;q_type = q_type_a;</div>
<div class="line">                        q_ctx-&gt;in_atomic_group = in_atomic_group_a;</div>
<div class="line">                        q_ctx-&gt;idx = qcnt++;</div>
<div class="line">                        ret = <a class="code" href="../../de/d3c/group__em__queue.html#ga83e001b62c2a87bf862fbf695c5e84fa">em_queue_set_context</a>(queue_a, q_ctx);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-A setup failed!&quot;</span>);</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="comment">/* update qcnt each round to avoid == 0 in recv-func */</span></div>
<div class="line">                qtypes_shm-&gt;num_queues = qcnt;</div>
<div class="line">                <span class="comment">/* Start EO-A */</span></div>
<div class="line">                ret = <a name="a40"></a><a class="code" href="../../d8/d5f/group__em__eo.html#gabe4f7a789ec9523367c086793061562d">em_eo_start_sync</a>(eo, &amp;start_ret, NULL);</div>
<div class="line">                test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a> || start_ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>,</div>
<div class="line">                              <span class="stringliteral">&quot;EO-A setup failed:%&quot;</span> PRI_STAT <span class="stringliteral">&quot; %&quot;</span> PRI_STAT <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                              ret, start_ret);</div>
<div class="line"> </div>
<div class="line">                <span class="comment">/* Create EO &quot;B&quot; */</span></div>
<div class="line">                ret = <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>;</div>
<div class="line"> </div>
<div class="line">                eo_ctx = &amp;qtypes_shm-&gt;eo_context[2 * i + 1];</div>
<div class="line">                eo_ctx-&gt;ordered_pair = ordered_pair;</div>
<div class="line">                eo_ctx-&gt;pair_type = pair_type;</div>
<div class="line">                eo_ctx-&gt;q_type = q_type_b;</div>
<div class="line">                eo_ctx-&gt;owns_ag_queues = in_atomic_group_b;</div>
<div class="line">                eo_ctx-&gt;agrp_hdl = <a class="code" href="../../d4/d11/event__machine__types_8h.html#a8aa7220ee288baa2ef461f400679fa48">EM_ATOMIC_GROUP_UNDEF</a>;</div>
<div class="line">                eo_ctx-&gt;peer_owns_ag_queues = in_atomic_group_a;</div>
<div class="line"> </div>
<div class="line">                snprintf(eo_name, <span class="keyword">sizeof</span>(eo_name), <span class="stringliteral">&quot;EO-B%&quot;</span> PRIu8 <span class="stringliteral">&quot;&quot;</span>, ++eo_idx);</div>
<div class="line">                eo_name[<span class="keyword">sizeof</span>(eo_name) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                eo = <a class="code" href="../../d8/d5f/group__em__eo.html#ga196c7caa1177575fd424e9a0d2854da6">em_eo_create</a>(eo_name, start, NULL, stop, NULL, receive_b,</div>
<div class="line">                                  eo_ctx);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (in_atomic_group_b &amp;&amp; q_type_b == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>) {</div>
<div class="line">                        snprintf(ag_name, <span class="keyword">sizeof</span>(ag_name), <span class="stringliteral">&quot;AG-B%&quot;</span> PRIu8 <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                                 ++agrp_idx);</div>
<div class="line">                        ag_name[<span class="keyword">sizeof</span>(ag_name) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                        atomic_group =</div>
<div class="line">                                <a class="code" href="../../d3/dc1/group__em__atomic__group.html#gab52d49a543562163a904f86fd9f18866">em_atomic_group_create</a>(ag_name,</div>
<div class="line">                                                       <a class="code" href="../../db/d6d/event__machine__hw__config_8h.html#ae56af1c575498ec19f0836ee916d0eb9">EM_QUEUE_GROUP_DEFAULT</a>);</div>
<div class="line">                        test_fatal_if(atomic_group == <a class="code" href="../../d4/d11/event__machine__types_8h.html#a8aa7220ee288baa2ef461f400679fa48">EM_ATOMIC_GROUP_UNDEF</a>,</div>
<div class="line">                                      <span class="stringliteral">&quot;Atomic group creation failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        eo_ctx-&gt;agrp_hdl = atomic_group;</div>
<div class="line"> </div>
<div class="line">                        snprintf(q_name, <span class="keyword">sizeof</span>(q_name), <span class="stringliteral">&quot;AG:Q-B%&quot;</span> PRIu8 <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                                 ++q_idx);</div>
<div class="line">                        q_name[<span class="keyword">sizeof</span>(q_name) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                        queue_ag_b1 = <a class="code" href="../../d3/dc1/group__em__atomic__group.html#ga0ac321a585ce74c3cf79a7459c91095c">em_queue_create_ag</a>(q_name,</div>
<div class="line">                                                         <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a8171ccd1b7a0df99a6c7d0f3ec82e52fa2311aaab5842cd6b78e4587be0fbf0ca">EM_QUEUE_PRIO_NORMAL</a>,</div>
<div class="line">                                                         atomic_group, NULL);</div>
<div class="line">                        snprintf(q_name, <span class="keyword">sizeof</span>(q_name), <span class="stringliteral">&quot;AG:Q-B%&quot;</span> PRIu8 <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                                 ++q_idx);</div>
<div class="line">                        q_name[<span class="keyword">sizeof</span>(q_name) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                        queue_ag_b2 = <a class="code" href="../../d3/dc1/group__em__atomic__group.html#ga0ac321a585ce74c3cf79a7459c91095c">em_queue_create_ag</a>(q_name,</div>
<div class="line">                                                         <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a8171ccd1b7a0df99a6c7d0f3ec82e52fa2311aaab5842cd6b78e4587be0fbf0ca">EM_QUEUE_PRIO_NORMAL</a>,</div>
<div class="line">                                                         atomic_group, NULL);</div>
<div class="line">                        snprintf(q_name, <span class="keyword">sizeof</span>(q_name), <span class="stringliteral">&quot;AG:Q-B%&quot;</span> PRIu8 <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                                 ++q_idx);</div>
<div class="line">                        q_name[<span class="keyword">sizeof</span>(q_name) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                        queue_ag_b3 = <a class="code" href="../../d3/dc1/group__em__atomic__group.html#ga0ac321a585ce74c3cf79a7459c91095c">em_queue_create_ag</a>(q_name,</div>
<div class="line">                                                         <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a8171ccd1b7a0df99a6c7d0f3ec82e52fa2311aaab5842cd6b78e4587be0fbf0ca">EM_QUEUE_PRIO_NORMAL</a>,</div>
<div class="line">                                                         atomic_group, NULL);</div>
<div class="line"> </div>
<div class="line">                        ret = <a class="code" href="../../d8/d5f/group__em__eo.html#gac9b818edd466228b6fb653bd9337da3e">em_eo_add_queue_sync</a>(eo, queue_ag_b1);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-B setup failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        ret = <a class="code" href="../../d8/d5f/group__em__eo.html#gac9b818edd466228b6fb653bd9337da3e">em_eo_add_queue_sync</a>(eo, queue_ag_b2);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-B setup failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        ret = <a class="code" href="../../d8/d5f/group__em__eo.html#gac9b818edd466228b6fb653bd9337da3e">em_eo_add_queue_sync</a>(eo, queue_ag_b3);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-B setup failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        q_ctx = &amp;qtypes_shm-&gt;queue_context[qcnt];</div>
<div class="line">                        q_ctx-&gt;q_hdl = queue_ag_b1;</div>
<div class="line">                        q_ctx-&gt;q_type = q_type_b;</div>
<div class="line">                        q_ctx-&gt;in_atomic_group = in_atomic_group_b;</div>
<div class="line">                        q_ctx-&gt;idx = qcnt++;</div>
<div class="line">                        ret = <a class="code" href="../../de/d3c/group__em__queue.html#ga83e001b62c2a87bf862fbf695c5e84fa">em_queue_set_context</a>(queue_ag_b1, q_ctx);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-B setup failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        q_ctx = &amp;qtypes_shm-&gt;queue_context[qcnt];</div>
<div class="line">                        q_ctx-&gt;q_hdl = queue_ag_b2;</div>
<div class="line">                        q_ctx-&gt;q_type = q_type_b;</div>
<div class="line">                        q_ctx-&gt;in_atomic_group = in_atomic_group_b;</div>
<div class="line">                        q_ctx-&gt;idx = qcnt++;</div>
<div class="line">                        ret = <a class="code" href="../../de/d3c/group__em__queue.html#ga83e001b62c2a87bf862fbf695c5e84fa">em_queue_set_context</a>(queue_ag_b2, q_ctx);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-B setup failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        q_ctx = &amp;qtypes_shm-&gt;queue_context[qcnt];</div>
<div class="line">                        q_ctx-&gt;q_hdl = queue_ag_b3;</div>
<div class="line">                        q_ctx-&gt;q_type = q_type_b;</div>
<div class="line">                        q_ctx-&gt;in_atomic_group = in_atomic_group_b;</div>
<div class="line">                        q_ctx-&gt;idx = qcnt++;</div>
<div class="line">                        ret = <a class="code" href="../../de/d3c/group__em__queue.html#ga83e001b62c2a87bf862fbf695c5e84fa">em_queue_set_context</a>(queue_ag_b3, q_ctx);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-B setup failed!&quot;</span>);</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                        snprintf(q_name, <span class="keyword">sizeof</span>(q_name), <span class="stringliteral">&quot;Q-B%&quot;</span> PRIu8 <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                                 ++q_idx);</div>
<div class="line">                        q_name[<span class="keyword">sizeof</span>(q_name) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                        queue_b = <a class="code" href="../../de/d3c/group__em__queue.html#gaef257858d1fa660524f198dba20fa9eb">em_queue_create</a>(q_name, q_type_b,</div>
<div class="line">                                                  <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a8171ccd1b7a0df99a6c7d0f3ec82e52fa2311aaab5842cd6b78e4587be0fbf0ca">EM_QUEUE_PRIO_NORMAL</a>,</div>
<div class="line">                                                  <a class="code" href="../../db/d6d/event__machine__hw__config_8h.html#ae56af1c575498ec19f0836ee916d0eb9">EM_QUEUE_GROUP_DEFAULT</a>, NULL);</div>
<div class="line">                        ret = <a class="code" href="../../d8/d5f/group__em__eo.html#gac9b818edd466228b6fb653bd9337da3e">em_eo_add_queue_sync</a>(eo, queue_b);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-B setup failed!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        q_ctx = &amp;qtypes_shm-&gt;queue_context[qcnt];</div>
<div class="line">                        q_ctx-&gt;q_hdl = queue_b;</div>
<div class="line">                        q_ctx-&gt;q_type = q_type_b;</div>
<div class="line">                        q_ctx-&gt;in_atomic_group = in_atomic_group_b;</div>
<div class="line">                        q_ctx-&gt;idx = qcnt++;</div>
<div class="line">                        ret = <a class="code" href="../../de/d3c/group__em__queue.html#ga83e001b62c2a87bf862fbf695c5e84fa">em_queue_set_context</a>(queue_b, q_ctx);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;EO-B setup failed!&quot;</span>);</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="comment">/* update qcnt each round to avoid == 0 in recv-func */</span></div>
<div class="line">                qtypes_shm-&gt;num_queues = qcnt;</div>
<div class="line">                <span class="comment">/* Start EO-B */</span></div>
<div class="line">                ret = <a class="code" href="../../d8/d5f/group__em__eo.html#gabe4f7a789ec9523367c086793061562d">em_eo_start_sync</a>(eo, &amp;start_ret, NULL);</div>
<div class="line">                test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a> || start_ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>,</div>
<div class="line">                              <span class="stringliteral">&quot;EO-B setup failed:%&quot;</span> PRI_STAT <span class="stringliteral">&quot; %&quot;</span> PRI_STAT <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                              ret, start_ret);</div>
<div class="line"> </div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                 * Allocate and send the startup event to the first EO of the</span></div>
<div class="line"><span class="comment">                 * pair of this round.</span></div>
<div class="line"><span class="comment">                 */</span></div>
<div class="line">                em_event_t <span class="keyword">event</span> = <a name="a41"></a><a class="code" href="../../d5/d33/group__em__event.html#ga5f0e40f1b0b4892ee16aafe07ba4c90c">em_alloc</a>(<span class="keyword">sizeof</span>(test_event_t),</div>
<div class="line">                                            <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#ace0fe27049350469ff1be8188acfea89a2066feedf79f96d10ce9215fa5f37db1">EM_EVENT_TYPE_SW</a>,</div>
<div class="line">                                            qtypes_shm-&gt;pool);</div>
<div class="line">                test_fatal_if(event == <a name="a42"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#a8542d9c2c9a29e35ff042b1d59cc479b">EM_EVENT_UNDEF</a>, <span class="stringliteral">&quot;Event alloc fails&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordtype">size_t</span> uarea_size;</div>
<div class="line">                test_event_uarea_t *test_uarea;</div>
<div class="line"> </div>
<div class="line">                test_uarea = <a name="a43"></a><a class="code" href="../../d5/d33/group__em__event.html#ga6cff0b1df08e1a2e97e2a75f97f61011">em_event_uarea_get</a>(event, &amp;uarea_size);</div>
<div class="line">                test_fatal_if(!test_uarea &amp;&amp; uarea_size &lt; <span class="keyword">sizeof</span>(test_event_uarea_t),</div>
<div class="line">                              <span class="stringliteral">&quot;Event User Area error: ptr:%p sz:%zu &lt; %zu&quot;</span>,</div>
<div class="line">                              test_uarea, uarea_size, <span class="keyword">sizeof</span>(test_event_uarea_t));</div>
<div class="line"> </div>
<div class="line">                ret = <a name="a44"></a><a class="code" href="../../d5/d33/group__em__event.html#ga88f96133b033dcdb8a6ffe1e9006a38b">em_event_uarea_id_set</a>(event, EV_ID_START_EVENT);</div>
<div class="line">                test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>,</div>
<div class="line">                              <span class="stringliteral">&quot;Error setting uarea id, err:%&quot;</span> PRI_STAT <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                test_uarea-&gt;start.in_atomic_group_a = in_atomic_group_a;</div>
<div class="line">                <span class="keywordflow">if</span> (in_atomic_group_a) {</div>
<div class="line">                        test_uarea-&gt;start.src_q_cnt = 3;</div>
<div class="line">                        test_uarea-&gt;start.src_queues[0] = queue_ag_a1;</div>
<div class="line">                        test_uarea-&gt;start.src_queues[1] = queue_ag_a2;</div>
<div class="line">                        test_uarea-&gt;start.src_queues[2] = queue_ag_a3;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                        test_uarea-&gt;start.src_q_cnt = 1;</div>
<div class="line">                        test_uarea-&gt;start.src_queues[0] = queue_a;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                test_uarea-&gt;start.in_atomic_group_b = in_atomic_group_b;</div>
<div class="line">                <span class="keywordflow">if</span> (in_atomic_group_b) {</div>
<div class="line">                        test_uarea-&gt;start.dst_q_cnt = 3;</div>
<div class="line">                        test_uarea-&gt;start.dst_queues[0] = queue_ag_b1;</div>
<div class="line">                        test_uarea-&gt;start.dst_queues[1] = queue_ag_b2;</div>
<div class="line">                        test_uarea-&gt;start.dst_queues[2] = queue_ag_b3;</div>
<div class="line">                } <span class="keywordflow">else</span> {</div>
<div class="line">                        test_uarea-&gt;start.dst_q_cnt = 1;</div>
<div class="line">                        test_uarea-&gt;start.dst_queues[0] = queue_b;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                ret = <a name="a45"></a><a class="code" href="../../d5/d33/group__em__event.html#gaca4584a01b71429dfbb045342454b464">em_send</a>(event, test_uarea-&gt;start.src_queues[0]);</div>
<div class="line">                test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>, <span class="stringliteral">&quot;Event send:%&quot;</span> PRI_STAT <span class="stringliteral">&quot;&quot;</span>, ret);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        APPL_PRINT(<span class="stringliteral">&quot;\n\nqctx:%i MAX:%i\n\n&quot;</span>, qcnt, MAX_QUEUES);</div>
<div class="line"> </div>
<div class="line">        test_fatal_if(qcnt &gt; MAX_QUEUES || qtypes_shm-&gt;num_queues != qcnt,</div>
<div class="line">                      <span class="stringliteral">&quot;Queue context number too high!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        print_test_info();</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Test stop function</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * @attention Run only on one EM core</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * @param appl_conf Application configuration</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * @see cm_setup() for setup and teardown.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> test_stop(<span class="keyword">const</span> appl_conf_t *appl_conf)</div>
<div class="line">{</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> core = <a class="code" href="../../d5/d69/group__em__core.html#ga13d21af31382ec2c3d45010645707e9c">em_core_id</a>();</div>
<div class="line">        em_eo_t eo;</div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> ret;</div>
<div class="line">        eo_context_t *eo_ctx;</div>
<div class="line">        <span class="keywordtype">int</span> i;</div>
<div class="line"> </div>
<div class="line">        (void)appl_conf;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* mark &#39;teardown in progress&#39; to avoid errors seq.nbr check errors */</span></div>
<div class="line">        qtypes_shm-&gt;teardown_in_progress = <a name="a46"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#a419c8373b72a8c5ed1c3e3ded3e262e0">EM_TRUE</a>;</div>
<div class="line"> </div>
<div class="line">        APPL_PRINT(<span class="stringliteral">&quot;%s() on EM-core %d\n&quot;</span>, __func__, core);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* stop all EOs */</span></div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; NUM_EO; i++) {</div>
<div class="line">                eo_ctx = &amp;qtypes_shm-&gt;eo_context[i];</div>
<div class="line">                eo = eo_ctx-&gt;eo_hdl;</div>
<div class="line">                ret = <a name="a47"></a><a class="code" href="../../d8/d5f/group__em__eo.html#gadce026621953114bd26e5836d9693465">em_eo_stop_sync</a>(eo);</div>
<div class="line">                test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>,</div>
<div class="line">                              <span class="stringliteral">&quot;EO stop:%&quot;</span> PRI_STAT <span class="stringliteral">&quot; EO:%&quot;</span> <a name="a48"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#a0bf4a25d46e18ee918e684e5deb27fa4">PRI_EO</a> <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                              ret, eo);</div>
<div class="line">        }</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Termination of the &#39;Queue Types AG&#39; test application.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * @attention Run on one EM core only</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * @see cm_setup() for setup and teardown.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> test_term(<span class="keyword">const</span> appl_conf_t *appl_conf)</div>
<div class="line">{</div>
<div class="line">        (void)appl_conf;</div>
<div class="line">        <span class="keywordtype">int</span> core = <a class="code" href="../../d5/d69/group__em__core.html#ga13d21af31382ec2c3d45010645707e9c">em_core_id</a>();</div>
<div class="line"> </div>
<div class="line">        APPL_PRINT(<span class="stringliteral">&quot;%s() on EM-core %d\n&quot;</span>, __func__, core);</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> ret = <a name="a49"></a><a class="code" href="../../d1/d85/group__em__pool.html#ga8021ff58ae3dd773ed68e05e85ee987c">em_pool_delete</a>(qtypes_shm-&gt;pool);</div>
<div class="line"> </div>
<div class="line">        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>,</div>
<div class="line">                      <span class="stringliteral">&quot;em_pool_delete(%&quot;</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a5f1ebfb654b7ec3169e068aa3776ff79">PRI_POOL</a> <span class="stringliteral">&quot;):%&quot;</span> PRI_STAT <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                      qtypes_shm-&gt;pool, ret);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (core == 0) {</div>
<div class="line">                env_shared_free(qtypes_shm);</div>
<div class="line">                <a name="a50"></a><a class="code" href="../../db/da0/group__em__error.html#gab6b469100e5f60670a742d944a6f530b">em_unregister_error_handler</a>();</div>
<div class="line">        }</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @private</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * EO start function.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a></div>
<div class="line">start(<span class="keywordtype">void</span> *eo_context, em_eo_t eo, <span class="keyword">const</span> <a class="code" href="../../de/dc0/structem__eo__conf__t.html">em_eo_conf_t</a> *conf)</div>
<div class="line">{</div>
<div class="line">        eo_context_t *eo_ctx = eo_context;</div>
<div class="line"> </div>
<div class="line">        (void)conf;</div>
<div class="line"> </div>
<div class="line">        APPL_PRINT(<span class="stringliteral">&quot;EO %&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0bf4a25d46e18ee918e684e5deb27fa4">PRI_EO</a> <span class="stringliteral">&quot; starting.\n&quot;</span>, eo);</div>
<div class="line"> </div>
<div class="line">        eo_ctx-&gt;eo_hdl = eo;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (VERIFY_ATOMIC_ACCESS)</div>
<div class="line">                env_spinlock_init(&amp;eo_ctx-&gt;verify_atomic_access);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * Test: Verify that EO &amp; queue _current() and</span></div>
<div class="line"><span class="comment">         *       _get_context() APIs work as expected.</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        test_fatal_if(<a name="a51"></a><a class="code" href="../../d8/d5f/group__em__eo.html#ga1780a42555c857a8c4b5add5f21ea3f3">em_eo_current</a>() != eo, <span class="stringliteral">&quot;Invalid current EO&quot;</span>);</div>
<div class="line">        test_fatal_if(<a name="a52"></a><a class="code" href="../../d8/d5f/group__em__eo.html#ga1262b0eefaf7840f9c2b44b7fe3ff93e">em_eo_get_context</a>(eo) != eo_context,</div>
<div class="line">                      <span class="stringliteral">&quot;Invalid current EO context&quot;</span>);</div>
<div class="line">        test_fatal_if(<a name="a53"></a><a class="code" href="../../de/d3c/group__em__queue.html#gafb697c252066500fffb19390b455c76a">em_queue_current</a>() != <a class="code" href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a>,</div>
<div class="line">                      <span class="stringliteral">&quot;Invalid current queue&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>;</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @private</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * EO stop function.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a></div>
<div class="line">stop(<span class="keywordtype">void</span> *eo_context, em_eo_t eo)</div>
<div class="line">{</div>
<div class="line">        eo_context_t *<span class="keyword">const</span> eo_ctx = (eo_context_t *)eo_context;</div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> ret;</div>
<div class="line"> </div>
<div class="line">        APPL_PRINT(<span class="stringliteral">&quot;EO %&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0bf4a25d46e18ee918e684e5deb27fa4">PRI_EO</a> <span class="stringliteral">&quot; stopping.\n&quot;</span>, eo);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* remove and delete all of the EO&#39;s queues */</span></div>
<div class="line">        ret = <a name="a54"></a><a class="code" href="../../d8/d5f/group__em__eo.html#ga10cf8094caa56026eb0a402d3d22da23">em_eo_remove_queue_all_sync</a>(eo, <a class="code" href="../../d4/d11/event__machine__types_8h.html#a419c8373b72a8c5ed1c3e3ded3e262e0">EM_TRUE</a>);</div>
<div class="line">        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>,</div>
<div class="line">                      <span class="stringliteral">&quot;EO remove queue all:%&quot;</span> PRI_STAT <span class="stringliteral">&quot; EO:%&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0bf4a25d46e18ee918e684e5deb27fa4">PRI_EO</a> <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                      ret, eo);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (eo_ctx-&gt;agrp_hdl != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a8aa7220ee288baa2ef461f400679fa48">EM_ATOMIC_GROUP_UNDEF</a>) {</div>
<div class="line">                ret = <a name="a55"></a><a class="code" href="../../d3/dc1/group__em__atomic__group.html#gaa253b47f920a4fd27532c9e0246e0d8b">em_atomic_group_delete</a>(eo_ctx-&gt;agrp_hdl);</div>
<div class="line">                test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>,</div>
<div class="line">                              <span class="stringliteral">&quot;AGrp delete:%&quot;</span> PRI_STAT <span class="stringliteral">&quot; EO:%&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0bf4a25d46e18ee918e684e5deb27fa4">PRI_EO</a> <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                              ret, eo);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* delete the EO at the end of the stop-function */</span></div>
<div class="line">        ret = <a name="a56"></a><a class="code" href="../../d8/d5f/group__em__eo.html#gae769b19e613b24487beb943cfb926977">em_eo_delete</a>(eo);</div>
<div class="line">        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>,</div>
<div class="line">                      <span class="stringliteral">&quot;EO delete:%&quot;</span> PRI_STAT <span class="stringliteral">&quot; EO:%&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0bf4a25d46e18ee918e684e5deb27fa4">PRI_EO</a> <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                      ret, eo);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">initialize_events(<span class="keyword">const</span> start_event_uarea_t *start)</div>
<div class="line">{</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * Allocate and send test events to the EO-pair of this round</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> max_q_cnt = start-&gt;src_q_cnt &gt; start-&gt;dst_q_cnt ?</div>
<div class="line">                              start-&gt;src_q_cnt : start-&gt;dst_q_cnt;</div>
<div class="line">        <span class="comment">/* tmp storage for all events to send this round */</span></div>
<div class="line">        em_event_t all_events[max_q_cnt][NUM_EVENT];</div>
<div class="line">        <span class="comment">/* number of events for a queue in all_events[Q][events] */</span></div>
<div class="line">        <span class="keywordtype">int</span> ev_cnt[max_q_cnt];</div>
<div class="line">        uint64_t seqno = 0;</div>
<div class="line">        <span class="keywordtype">int</span> j, x, y;</div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> ret;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (x = 0; x &lt; max_q_cnt; x++)</div>
<div class="line">                ev_cnt[x] = 0;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (j = 0; j &lt; NUM_EVENT;) {</div>
<div class="line">                <span class="keywordflow">for</span> (x = 0, y = 0; x &lt; max_q_cnt; x++, y++, j++) {</div>
<div class="line">                        em_event_t <span class="keyword">event</span> = <a class="code" href="../../d5/d33/group__em__event.html#ga5f0e40f1b0b4892ee16aafe07ba4c90c">em_alloc</a>(<span class="keyword">sizeof</span>(test_event_t),</div>
<div class="line">                                                    <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#ace0fe27049350469ff1be8188acfea89a2066feedf79f96d10ce9215fa5f37db1">EM_EVENT_TYPE_SW</a>,</div>
<div class="line">                                                    qtypes_shm-&gt;pool);</div>
<div class="line">                        test_fatal_if(event == <a class="code" href="../../d4/d11/event__machine__types_8h.html#a8542d9c2c9a29e35ff042b1d59cc479b">EM_EVENT_UNDEF</a>,</div>
<div class="line">                                      <span class="stringliteral">&quot;Event alloc fails&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        test_event_t *test_event = <a name="a57"></a><a class="code" href="../../d5/d33/group__em__event.html#ga8f701c3a5901fc81d922b9d1d02691e3">em_event_pointer</a>(event);</div>
<div class="line">                        <span class="keywordtype">size_t</span> uarea_size = 0;</div>
<div class="line">                        test_event_uarea_t *test_uarea =</div>
<div class="line">                                <a class="code" href="../../d5/d33/group__em__event.html#ga6cff0b1df08e1a2e97e2a75f97f61011">em_event_uarea_get</a>(event, &amp;uarea_size);</div>
<div class="line"> </div>
<div class="line">                        test_fatal_if(!test_event || !test_uarea ||</div>
<div class="line">                                      uarea_size != <span class="keyword">sizeof</span>(test_event_uarea_t),</div>
<div class="line">                                      <span class="stringliteral">&quot;Event payload/uarea error&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        memset(test_event, 0, <span class="keyword">sizeof</span>(test_event_t));</div>
<div class="line">                        memset(test_uarea, 0, uarea_size);</div>
<div class="line"> </div>
<div class="line">                        ret = <a class="code" href="../../d5/d33/group__em__event.html#ga88f96133b033dcdb8a6ffe1e9006a38b">em_event_uarea_id_set</a>(event, EV_ID_DATA_EVENT);</div>
<div class="line">                        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>,</div>
<div class="line">                                      <span class="stringliteral">&quot;Error setting uarea id, err:%&quot;</span> PRI_STAT <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                        <span class="keywordflow">if</span> (start-&gt;in_atomic_group_b)</div>
<div class="line">                                test_uarea-&gt;data.dest = start-&gt;dst_queues[y];</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                                test_uarea-&gt;data.dest = start-&gt;dst_queues[0];</div>
<div class="line"> </div>
<div class="line">                        test_uarea-&gt;data.src = start-&gt;src_queues[x];</div>
<div class="line"> </div>
<div class="line">                        <span class="keywordflow">if</span> (start-&gt;in_atomic_group_a ==</div>
<div class="line">                            start-&gt;in_atomic_group_b) {</div>
<div class="line">                                <span class="comment">/* verify seqno (symmetric EO-pairs)*/</span></div>
<div class="line">                                test_uarea-&gt;data.seqno = seqno;</div>
<div class="line">                        }</div>
<div class="line"> </div>
<div class="line">                        all_events[x][ev_cnt[x]] = event;</div>
<div class="line">                        ev_cnt[x] += 1;</div>
<div class="line">                }</div>
<div class="line">                seqno += 1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Send events to EO A */</span></div>
<div class="line">        <span class="keywordflow">for</span> (x = 0; x &lt; max_q_cnt; x++) {</div>
<div class="line">                <span class="keywordtype">int</span> n, m;</div>
<div class="line">                <span class="keywordtype">int</span> num_sent = 0;</div>
<div class="line"> </div>
<div class="line">                <span class="comment">/* Send in bursts of &#39;SEND_MULTI_MAX&#39; events */</span></div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">int</span> send_rounds = ev_cnt[x] / SEND_MULTI_MAX;</div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">int</span> left_over = ev_cnt[x] % SEND_MULTI_MAX;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">for</span> (n = 0, m = 0; n &lt; send_rounds;</div>
<div class="line">                     n++, m += SEND_MULTI_MAX) {</div>
<div class="line">                        num_sent += <a name="a58"></a><a class="code" href="../../d5/d33/group__em__event.html#ga272587cb3a55dd241332fd13b6e19054">em_send_multi</a>(&amp;all_events[x][m],</div>
<div class="line">                                                  SEND_MULTI_MAX,</div>
<div class="line">                                                  start-&gt;src_queues[x]);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">if</span> (left_over) {</div>
<div class="line">                        num_sent += <a class="code" href="../../d5/d33/group__em__event.html#ga272587cb3a55dd241332fd13b6e19054">em_send_multi</a>(&amp;all_events[x][m], left_over,</div>
<div class="line">                                                  start-&gt;src_queues[x]);</div>
<div class="line">                }</div>
<div class="line">                test_fatal_if(num_sent != ev_cnt[x],</div>
<div class="line">                              <span class="stringliteral">&quot;Event send multi failed:%d (%d)\n&quot;</span></div>
<div class="line">                              <span class="stringliteral">&quot;Q:%&quot;</span> <a name="a59"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#a0331964318f921644a88d3cc38c122e5">PRI_QUEUE</a> <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                              num_sent, ev_cnt[x], start-&gt;src_queues[x]);</div>
<div class="line">        }</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @private</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * EO receive function for EO A.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Forwards events to the next processing stage (EO)</span></div>
<div class="line"><span class="comment"> * and calculates the event rate.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">receive_a(<span class="keywordtype">void</span> *eo_context, em_event_t event, <a class="code" href="../../d4/d11/event__machine__types_8h.html#a49fd700da185b0f64834bf967479a992">em_event_type_t</a> type,</div>
<div class="line">          em_queue_t queue, <span class="keywordtype">void</span> *queue_context)</div>
<div class="line">{</div>
<div class="line">        eo_context_t *<span class="keyword">const</span> eo_ctx = eo_context;</div>
<div class="line">        queue_context_t *<span class="keyword">const</span> q_ctx = queue_context;</div>
<div class="line">        <a name="_a60"></a><a class="code" href="../../db/d19/structem__event__uarea__info__t.html">em_event_uarea_info_t</a> uarea_info;</div>
<div class="line">        test_event_uarea_t *test_uarea;</div>
<div class="line">        em_queue_t dest_queue;</div>
<div class="line">        uint64_t queue_events;</div>
<div class="line">        uint64_t seqno;</div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> ret;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> core = <a class="code" href="../../d5/d69/group__em__core.html#ga13d21af31382ec2c3d45010645707e9c">em_core_id</a>();</div>
<div class="line">        core_stat_t *cstat = &amp;qtypes_shm-&gt;core_stat[core];</div>
<div class="line"> </div>
<div class="line">        (void)type;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (unlikely(appl_shm-&gt;exit_flag)) {</div>
<div class="line">                <a name="a61"></a><a class="code" href="../../d5/d33/group__em__event.html#gad4f97ba217518d967f8078c56023c4d4">em_free</a>(event);</div>
<div class="line">                <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        ret = <a name="a62"></a><a class="code" href="../../d5/d33/group__em__event.html#gabd6f367cfeacc730b501eaafd3e8a8b7">em_event_uarea_info</a>(event, &amp;uarea_info);</div>
<div class="line">        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>,</div>
<div class="line">                      <span class="stringliteral">&quot;em_event_uarea_info() fails:%&quot;</span> PRI_STAT <span class="stringliteral">&quot;&quot;</span>, ret);</div>
<div class="line">        test_uarea = uarea_info.<a name="a63"></a><a class="code" href="../../db/d19/structem__event__uarea__info__t.html#af9b4b1241c55eae1c2ed624b1cb144db">uarea</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (unlikely(uarea_info.<a name="a64"></a><a class="code" href="../../db/d19/structem__event__uarea__info__t.html#ab3bcbba479359a9718d135a17b0acaf0">id</a>.<a name="a65"></a><a class="code" href="../../db/d19/structem__event__uarea__info__t.html#a665001c80073f8683c58dcf8bdfd8940">value</a> == EV_ID_START_EVENT)) {</div>
<div class="line">                <span class="comment">/*</span></div>
<div class="line"><span class="comment">                 * Start-up only, one time: initialize the test event sending.</span></div>
<div class="line"><span class="comment">                 * Called from EO-receive to avoid mixing up events &amp; sequence</span></div>
<div class="line"><span class="comment">                 * numbers in start-up for ordered EO-pairs (sending from the</span></div>
<div class="line"><span class="comment">                 * start functions could mess up the seqno:s since all the</span></div>
<div class="line"><span class="comment">                 * cores are already in the dispatch loop).</span></div>
<div class="line"><span class="comment">                 */</span></div>
<div class="line">                initialize_events(&amp;test_uarea-&gt;start);</div>
<div class="line">                <a class="code" href="../../d5/d33/group__em__event.html#gad4f97ba217518d967f8078c56023c4d4">em_free</a>(event);</div>
<div class="line">                <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        test_fatal_if(uarea_info.<a class="code" href="../../db/d19/structem__event__uarea__info__t.html#ab3bcbba479359a9718d135a17b0acaf0">id</a>.<a class="code" href="../../db/d19/structem__event__uarea__info__t.html#a665001c80073f8683c58dcf8bdfd8940">value</a> != EV_ID_DATA_EVENT,</div>
<div class="line">                      <span class="stringliteral">&quot;Unexpected ev-id:%d&quot;</span>, uarea_info.<a class="code" href="../../db/d19/structem__event__uarea__info__t.html#ab3bcbba479359a9718d135a17b0acaf0">id</a>.<a class="code" href="../../db/d19/structem__event__uarea__info__t.html#a665001c80073f8683c58dcf8bdfd8940">value</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (VERIFY_ATOMIC_ACCESS)</div>
<div class="line">                verify_atomic_access__begin(eo_ctx);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (VERIFY_PROCESSING_CONTEXT)</div>
<div class="line">                verify_processing_context(eo_ctx, queue);</div>
<div class="line"> </div>
<div class="line">        seqno = test_uarea-&gt;data.seqno;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Increment Q specific event counter (parallel Qs req atomic inc:s)*/</span></div>
<div class="line">        <span class="keywordflow">if</span> (eo_ctx-&gt;q_type == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>)</div>
<div class="line">                queue_events = q_ctx-&gt;num_events++;</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">                queue_events = __atomic_add_fetch(&amp;q_ctx-&gt;num_events, 1,</div>
<div class="line">                                                  __ATOMIC_RELAXED);</div>
<div class="line"> </div>
<div class="line">        test_fatal_if(test_uarea-&gt;data.src != queue,</div>
<div class="line">                      <span class="stringliteral">&quot;EO-A queue mismatch:%&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0331964318f921644a88d3cc38c122e5">PRI_QUEUE</a> <span class="stringliteral">&quot;!=%&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0331964318f921644a88d3cc38c122e5">PRI_QUEUE</a> <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                      test_uarea-&gt;data.src, queue);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (eo_ctx-&gt;ordered_pair &amp;&amp; eo_ctx-&gt;q_type == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>) {</div>
<div class="line">                <span class="comment">/* Verify the seq nbr to make sure event order is maintained*/</span></div>
<div class="line">                verify_seqno(eo_ctx, q_ctx, seqno);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        dest_queue = test_uarea-&gt;data.dest;</div>
<div class="line">        test_uarea-&gt;data.src = test_uarea-&gt;data.dest;</div>
<div class="line">        test_uarea-&gt;data.dest = queue;</div>
<div class="line"> </div>
<div class="line">        ret = <a class="code" href="../../d5/d33/group__em__event.html#gaca4584a01b71429dfbb045342454b464">em_send</a>(event, dest_queue);</div>
<div class="line">        <span class="keywordflow">if</span> (unlikely(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>)) {</div>
<div class="line">                <a class="code" href="../../d5/d33/group__em__event.html#gad4f97ba217518d967f8078c56023c4d4">em_free</a>(event);</div>
<div class="line">                test_fatal_if(!appl_shm-&gt;exit_flag, <span class="stringliteral">&quot;EO-A em_send failure&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (VERIFY_ATOMIC_ACCESS)</div>
<div class="line">                verify_atomic_access__end(eo_ctx);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (CALL_ATOMIC_PROCESSING_END__A) {</div>
<div class="line">                <span class="comment">/* Call em_atomic_processing_end() every once in a while */</span></div>
<div class="line">                <span class="keywordflow">if</span> (eo_ctx-&gt;q_type == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a> &amp;&amp;</div>
<div class="line">                    (queue_events % qtypes_shm-&gt;num_queues == q_ctx-&gt;idx))</div>
<div class="line">                        <a name="a66"></a><a class="code" href="../../dd/d1b/group__em__scheduler.html#gaf80e7173968f134ff3a9df6509c17009">em_atomic_processing_end</a>();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * Update _core_ statistics after potentially releasing the</span></div>
<div class="line"><span class="comment">         * atomic context.</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        uint64_t core_events = cstat-&gt;events;</div>
<div class="line">        uint64_t print_events = 0;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (unlikely(core_events == 0)) {</div>
<div class="line">                cstat-&gt;begin_cycles = env_get_cycle();</div>
<div class="line">                core_events += 1;</div>
<div class="line">                cstat-&gt;pt_count[eo_ctx-&gt;pair_type] += 1;</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (unlikely(core_events &gt; PRINT_COUNT)) {</div>
<div class="line">                cstat-&gt;end_cycles = env_get_cycle();</div>
<div class="line">                <span class="comment">/* indicate that statistics should be printed this round: */</span></div>
<div class="line">                print_events = core_events;</div>
<div class="line">                core_events = 0;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">                core_events += 1;</div>
<div class="line">                cstat-&gt;pt_count[eo_ctx-&gt;pair_type] += 1;</div>
<div class="line">        }</div>
<div class="line">        cstat-&gt;events = core_events;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Print core specific statistics */</span></div>
<div class="line">        <span class="keywordflow">if</span> (unlikely(print_events)) {</div>
<div class="line">                <span class="keywordflow">if</span> (eo_ctx-&gt;q_type == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>)</div>
<div class="line">                        <a class="code" href="../../dd/d1b/group__em__scheduler.html#gaf80e7173968f134ff3a9df6509c17009">em_atomic_processing_end</a>();</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (core == 0)</div>
<div class="line">                        verify_all_queues_get_events();</div>
<div class="line"> </div>
<div class="line">                print_core_stats(cstat, print_events);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; QUEUE_TYPE_PAIRS; i++)</div>
<div class="line">                        cstat-&gt;pt_count[i] = 0;</div>
<div class="line"> </div>
<div class="line">                cstat-&gt;begin_cycles = env_get_cycle();</div>
<div class="line">        }</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @private</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * EO receive function for EO B.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Forwards events to the next processing stage (EO).</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">receive_b(<span class="keywordtype">void</span> *eo_context, em_event_t event, <a class="code" href="../../d4/d11/event__machine__types_8h.html#a49fd700da185b0f64834bf967479a992">em_event_type_t</a> type,</div>
<div class="line">          em_queue_t queue, <span class="keywordtype">void</span> *queue_context)</div>
<div class="line">{</div>
<div class="line">        eo_context_t *<span class="keyword">const</span> eo_ctx = eo_context;</div>
<div class="line">        queue_context_t *<span class="keyword">const</span> q_ctx = queue_context;</div>
<div class="line">        em_queue_t dest_queue;</div>
<div class="line">        test_event_uarea_t *test_uarea;</div>
<div class="line">        uint64_t queue_events;</div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> ret;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> core = <a class="code" href="../../d5/d69/group__em__core.html#ga13d21af31382ec2c3d45010645707e9c">em_core_id</a>();</div>
<div class="line">        core_stat_t *cstat = &amp;qtypes_shm-&gt;core_stat[core];</div>
<div class="line"> </div>
<div class="line">        (void)type;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (unlikely(appl_shm-&gt;exit_flag)) {</div>
<div class="line">                <a class="code" href="../../d5/d33/group__em__event.html#gad4f97ba217518d967f8078c56023c4d4">em_free</a>(event);</div>
<div class="line">                <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (VERIFY_ATOMIC_ACCESS)</div>
<div class="line">                verify_atomic_access__begin(eo_ctx);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (VERIFY_PROCESSING_CONTEXT)</div>
<div class="line">                verify_processing_context(eo_ctx, queue);</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="../../db/d19/structem__event__uarea__info__t.html">em_event_uarea_info_t</a> uarea_info;</div>
<div class="line"> </div>
<div class="line">        ret = <a class="code" href="../../d5/d33/group__em__event.html#gabd6f367cfeacc730b501eaafd3e8a8b7">em_event_uarea_info</a>(event, &amp;uarea_info);</div>
<div class="line">        test_fatal_if(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>,</div>
<div class="line">                      <span class="stringliteral">&quot;em_event_uarea_info() fails:%&quot;</span> PRI_STAT <span class="stringliteral">&quot;&quot;</span>, ret);</div>
<div class="line">        test_fatal_if(uarea_info.<a class="code" href="../../db/d19/structem__event__uarea__info__t.html#ab3bcbba479359a9718d135a17b0acaf0">id</a>.<a class="code" href="../../db/d19/structem__event__uarea__info__t.html#a665001c80073f8683c58dcf8bdfd8940">value</a> != EV_ID_DATA_EVENT,</div>
<div class="line">                      <span class="stringliteral">&quot;Unexpected ev-id:%d&quot;</span>, uarea_info.<a class="code" href="../../db/d19/structem__event__uarea__info__t.html#ab3bcbba479359a9718d135a17b0acaf0">id</a>.<a class="code" href="../../db/d19/structem__event__uarea__info__t.html#a665001c80073f8683c58dcf8bdfd8940">value</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Increment Q specific event counter (parallel Qs req atomic inc:s) */</span></div>
<div class="line">        <span class="keywordflow">if</span> (eo_ctx-&gt;q_type == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>)</div>
<div class="line">                queue_events = q_ctx-&gt;num_events++;</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">                queue_events = __atomic_add_fetch(&amp;q_ctx-&gt;num_events, 1,</div>
<div class="line">                                                  __ATOMIC_RELAXED);</div>
<div class="line">        test_uarea = uarea_info.<a class="code" href="../../db/d19/structem__event__uarea__info__t.html#af9b4b1241c55eae1c2ed624b1cb144db">uarea</a>;</div>
<div class="line">        test_fatal_if(test_uarea-&gt;data.src != queue,</div>
<div class="line">                      <span class="stringliteral">&quot;EO-B queue mismatch:%&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0331964318f921644a88d3cc38c122e5">PRI_QUEUE</a> <span class="stringliteral">&quot;!=%&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0331964318f921644a88d3cc38c122e5">PRI_QUEUE</a> <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                      test_uarea-&gt;data.src, queue);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (eo_ctx-&gt;ordered_pair &amp;&amp; eo_ctx-&gt;q_type == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>) {</div>
<div class="line">                <span class="comment">/* Verify the seq nbr to make sure event order is maintained*/</span></div>
<div class="line">                verify_seqno(eo_ctx, q_ctx, test_uarea-&gt;data.seqno);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        dest_queue = test_uarea-&gt;data.dest;</div>
<div class="line">        test_uarea-&gt;data.src = test_uarea-&gt;data.dest;</div>
<div class="line">        test_uarea-&gt;data.dest = queue;</div>
<div class="line"> </div>
<div class="line">        ret = <a class="code" href="../../d5/d33/group__em__event.html#gaca4584a01b71429dfbb045342454b464">em_send</a>(event, dest_queue);</div>
<div class="line">        <span class="keywordflow">if</span> (unlikely(ret != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a>)) {</div>
<div class="line">                <a class="code" href="../../d5/d33/group__em__event.html#gad4f97ba217518d967f8078c56023c4d4">em_free</a>(event);</div>
<div class="line">                test_fatal_if(!appl_shm-&gt;exit_flag, <span class="stringliteral">&quot;EO-B em_send failure&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (VERIFY_ATOMIC_ACCESS)</div>
<div class="line">                verify_atomic_access__end(eo_ctx);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (CALL_ATOMIC_PROCESSING_END__B) {</div>
<div class="line">                <span class="comment">/* Call em_atomic_processing_end() every once in a while */</span></div>
<div class="line">                <span class="keywordflow">if</span> (eo_ctx-&gt;q_type == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a> &amp;&amp;</div>
<div class="line">                    (queue_events % qtypes_shm-&gt;num_queues == q_ctx-&gt;idx))</div>
<div class="line">                        <a class="code" href="../../dd/d1b/group__em__scheduler.html#gaf80e7173968f134ff3a9df6509c17009">em_atomic_processing_end</a>();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * Update _core_ statistics after potentially releasing the</span></div>
<div class="line"><span class="comment">         * atomic context.</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <span class="keywordflow">if</span> (unlikely(cstat-&gt;events == 0))</div>
<div class="line">                cstat-&gt;begin_cycles = env_get_cycle();</div>
<div class="line">        cstat-&gt;events++;</div>
<div class="line"> </div>
<div class="line">        cstat-&gt;pt_count[eo_ctx-&gt;pair_type] += 1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> pair_type_t</div>
<div class="line">get_pair_type(queue_type_pair_t *queue_type_pair)</div>
<div class="line">{</div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#a47c0f0da93addf232d3d6b720f0bb262">em_queue_type_t</a> qt1 = queue_type_pair-&gt;q_type[0];</div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#a47c0f0da93addf232d3d6b720f0bb262">em_queue_type_t</a> qt2 = queue_type_pair-&gt;q_type[1];</div>
<div class="line">        <span class="keywordtype">int</span> in_ag1 = queue_type_pair-&gt;in_atomic_group[0];</div>
<div class="line">        <span class="keywordtype">int</span> in_ag2 = queue_type_pair-&gt;in_atomic_group[1];</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">switch</span> (qt1) {</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>:</div>
<div class="line">                <span class="keywordflow">switch</span> (qt2) {</div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>:</div>
<div class="line">                        <span class="keywordflow">if</span> (in_ag1 &amp;&amp; in_ag2)</div>
<div class="line">                                <span class="keywordflow">return</span> PT_AG_AG;</div>
<div class="line">                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (in_ag1 || in_ag2)</div>
<div class="line">                                <span class="keywordflow">return</span> PT_AG_ATOMIC;</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                                <span class="keywordflow">return</span> PT_ATOMIC_ATOMIC;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa3f46c70193d0a7d9bb8fc149a3179ea">EM_QUEUE_TYPE_PARALLEL</a>:</div>
<div class="line">                        <span class="keywordflow">if</span> (in_ag1)</div>
<div class="line">                                <span class="keywordflow">return</span> PT_AG_PARALLEL;</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                                <span class="keywordflow">return</span> PT_PARALLEL_ATOMIC;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa581ffa79b1fb6bbde9fcbaa99cb4a8f">EM_QUEUE_TYPE_PARALLEL_ORDERED</a>:</div>
<div class="line">                        <span class="keywordflow">if</span> (in_ag1)</div>
<div class="line">                                <span class="keywordflow">return</span> PT_AG_PARALORD;</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                                <span class="keywordflow">return</span> PT_PARALORD_ATOMIC;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa3f46c70193d0a7d9bb8fc149a3179ea">EM_QUEUE_TYPE_PARALLEL</a>:</div>
<div class="line">                <span class="keywordflow">switch</span> (qt2) {</div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>:</div>
<div class="line">                        <span class="keywordflow">if</span> (in_ag2)</div>
<div class="line">                                <span class="keywordflow">return</span> PT_AG_PARALLEL;</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                                <span class="keywordflow">return</span> PT_PARALLEL_ATOMIC;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa3f46c70193d0a7d9bb8fc149a3179ea">EM_QUEUE_TYPE_PARALLEL</a>:</div>
<div class="line">                        <span class="keywordflow">return</span> PT_PARALLEL_PARALLEL;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa581ffa79b1fb6bbde9fcbaa99cb4a8f">EM_QUEUE_TYPE_PARALLEL_ORDERED</a>:</div>
<div class="line">                        <span class="keywordflow">return</span> PT_PARALORD_PARALLEL;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa581ffa79b1fb6bbde9fcbaa99cb4a8f">EM_QUEUE_TYPE_PARALLEL_ORDERED</a>:</div>
<div class="line">                <span class="keywordflow">switch</span> (qt2) {</div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>:</div>
<div class="line">                        <span class="keywordflow">if</span> (in_ag2)</div>
<div class="line">                                <span class="keywordflow">return</span> PT_AG_PARALORD;</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                                <span class="keywordflow">return</span> PT_PARALORD_ATOMIC;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa3f46c70193d0a7d9bb8fc149a3179ea">EM_QUEUE_TYPE_PARALLEL</a>:</div>
<div class="line">                        <span class="keywordflow">return</span> PT_PARALORD_PARALLEL;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa581ffa79b1fb6bbde9fcbaa99cb4a8f">EM_QUEUE_TYPE_PARALLEL_ORDERED</a>:</div>
<div class="line">                        <span class="keywordflow">return</span> PT_PARALORD_PARALORD;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> PT_UNDEFINED;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">verify_seqno(eo_context_t *<span class="keyword">const</span> eo_ctx, queue_context_t *<span class="keyword">const</span> q_ctx,</div>
<div class="line">             uint64_t seqno)</div>
<div class="line">{</div>
<div class="line">        <span class="keywordflow">if</span> (unlikely(qtypes_shm-&gt;teardown_in_progress))</div>
<div class="line">                <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (eo_ctx-&gt;owns_ag_queues == eo_ctx-&gt;peer_owns_ag_queues) {</div>
<div class="line">                <span class="keyword">const</span> uint64_t max_seqno = (eo_ctx-&gt;owns_ag_queues) ?</div>
<div class="line">                                           NUM_EVENT / 3 - 1 : NUM_EVENT - 1;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (q_ctx-&gt;seqno != seqno) {</div>
<div class="line">                        test_error((<a class="code" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>)__LINE__, 0xdead,</div>
<div class="line">                                   <span class="stringliteral">&quot;SEQUENCE ERROR A:\t&quot;</span></div>
<div class="line">                                   <span class="stringliteral">&quot;queue=%&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0331964318f921644a88d3cc38c122e5">PRI_QUEUE</a> <span class="stringliteral">&quot; Q-seqno=%&quot;</span> PRIu64 <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line">                                   <span class="stringliteral">&quot;Event-seqno=%&quot;</span> PRIu64 <span class="stringliteral">&quot; PT:%i&quot;</span>,</div>
<div class="line">                                   q_ctx-&gt;q_hdl, q_ctx-&gt;seqno, seqno,</div>
<div class="line">                                   eo_ctx-&gt;pair_type);</div>
<div class="line">                        exit(EXIT_FAILURE);</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (q_ctx-&gt;seqno &lt; max_seqno)</div>
<div class="line">                        q_ctx-&gt;seqno++;</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                        q_ctx-&gt;seqno = 0;</div>
<div class="line">        }</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Verifies that each queue processes all its events at least once per</span></div>
<div class="line"><span class="comment"> * statistics round.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">verify_all_queues_get_events(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_queues = qtypes_shm-&gt;num_queues;</div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, first = 1, q_evcnt_low = 0;</div>
<div class="line">        uint64_t curr, prev, diff;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; num_queues; i++) {</div>
<div class="line">                queue_context_t *<span class="keyword">const</span> tmp_qctx =</div>
<div class="line">                        &amp;qtypes_shm-&gt;queue_context[i];</div>
<div class="line">                <span class="keyword">const</span> uint64_t min_events = (tmp_qctx-&gt;in_atomic_group) ?</div>
<div class="line">                                            NUM_EVENT / 3 : NUM_EVENT;</div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">char</span> *q_type_str;</div>
<div class="line"> </div>
<div class="line">                curr = __atomic_load_n(&amp;tmp_qctx-&gt;num_events, __ATOMIC_RELAXED);</div>
<div class="line">                prev = tmp_qctx-&gt;prev_events;</div>
<div class="line">                diff = (curr &gt;= prev) ?</div>
<div class="line">                        curr - prev : UINT64_MAX - prev + curr + 1;</div>
<div class="line"> </div>
<div class="line">                tmp_qctx-&gt;prev_events = curr;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (unlikely(diff &lt; min_events)) {</div>
<div class="line">                        q_evcnt_low++;</div>
<div class="line">                        <span class="keywordflow">if</span> (first) {</div>
<div class="line">                                first = 0;</div>
<div class="line">                                print_event_msg_string();</div>
<div class="line">                        }</div>
<div class="line"> </div>
<div class="line">                        <span class="keywordflow">switch</span> (tmp_qctx-&gt;q_type) {</div>
<div class="line">                        <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>:</div>
<div class="line">                                <span class="keywordflow">if</span> (tmp_qctx-&gt;in_atomic_group)</div>
<div class="line">                                        q_type_str = <span class="stringliteral">&quot;AG&quot;</span>;</div>
<div class="line">                                <span class="keywordflow">else</span></div>
<div class="line">                                        q_type_str = <span class="stringliteral">&quot;A &quot;</span>;</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line">                        <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa3f46c70193d0a7d9bb8fc149a3179ea">EM_QUEUE_TYPE_PARALLEL</a>:</div>
<div class="line">                                q_type_str = <span class="stringliteral">&quot;P &quot;</span>;</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line">                        <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa581ffa79b1fb6bbde9fcbaa99cb4a8f">EM_QUEUE_TYPE_PARALLEL_ORDERED</a>:</div>
<div class="line">                                q_type_str = <span class="stringliteral">&quot;PO&quot;</span>;</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                        <span class="keywordflow">default</span>:</div>
<div class="line">                                q_type_str = <span class="stringliteral">&quot;??&quot;</span>;</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line">                        }</div>
<div class="line"> </div>
<div class="line">                        APPL_PRINT(<span class="stringliteral">&quot;Q=%3&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0331964318f921644a88d3cc38c122e5">PRI_QUEUE</a> <span class="stringliteral">&quot;(%s cnt:%&quot;</span> PRIu64 <span class="stringliteral">&quot;) %c&quot;</span>,</div>
<div class="line">                                   tmp_qctx-&gt;q_hdl, q_type_str, diff,</div>
<div class="line">                                   (q_evcnt_low % 8 == 0) ? <span class="charliteral">&#39;\n&#39;</span> : <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line">                }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!first)</div>
<div class="line">                APPL_PRINT(<span class="stringliteral">&quot;\nQueue count with too few events:%u\n\n&quot;</span>,</div>
<div class="line">                           q_evcnt_low);</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Try to take a spinlock and if it fails we know that another core is</span></div>
<div class="line"><span class="comment"> * processing an event from the same atomic queue or atomic group, which</span></div>
<div class="line"><span class="comment"> * should never happen =&gt; fatal error! The lock is for verification only,</span></div>
<div class="line"><span class="comment"> * no sync purpose whatsoever.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">verify_atomic_access__begin(eo_context_t *<span class="keyword">const</span> eo_ctx)</div>
<div class="line">{</div>
<div class="line">        <span class="keywordflow">if</span> (eo_ctx-&gt;q_type == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a> &amp;&amp;</div>
<div class="line">            unlikely(!env_spinlock_trylock(&amp;eo_ctx-&gt;verify_atomic_access)))</div>
<div class="line">                test_error(<a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#ac341b7db29d8127e864a45c9bd2a4aa3">EM_ERROR_SET_FATAL</a>(__LINE__), 0xdead,</div>
<div class="line">                           <span class="stringliteral">&quot;EO Atomic context lost!&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> *  Release the verification lock</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">verify_atomic_access__end(eo_context_t *<span class="keyword">const</span> eo_ctx)</div>
<div class="line">{</div>
<div class="line">        <span class="keywordflow">if</span> (eo_ctx-&gt;q_type == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>)</div>
<div class="line">                env_spinlock_unlock(&amp;eo_ctx-&gt;verify_atomic_access);</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Verify that the receive func processing context works as expected</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">verify_processing_context(eo_context_t *<span class="keyword">const</span> eo_ctx, em_queue_t queue)</div>
<div class="line">{</div>
<div class="line">        <span class="keyword">const</span> em_eo_t eo = eo_ctx-&gt;eo_hdl;</div>
<div class="line">        em_queue_t tmp_queue;</div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#a47c0f0da93addf232d3d6b720f0bb262">em_queue_type_t</a> queue_type;</div>
<div class="line">        <a class="code" href="../../d4/d11/event__machine__types_8h.html#af9dd68e59307d0e82e124d85ebd555b9">em_sched_context_type_t</a> sched_type;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * Test: Verify that EO &amp; queue _current() and</span></div>
<div class="line"><span class="comment">         *       _get_context() APIs work as expected.</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        test_fatal_if(<a class="code" href="../../d8/d5f/group__em__eo.html#ga1780a42555c857a8c4b5add5f21ea3f3">em_eo_current</a>() != eo, <span class="stringliteral">&quot;Invalid current EO&quot;</span>);</div>
<div class="line">        test_fatal_if(<a class="code" href="../../d8/d5f/group__em__eo.html#ga1262b0eefaf7840f9c2b44b7fe3ff93e">em_eo_get_context</a>(eo) != eo_ctx,</div>
<div class="line">                      <span class="stringliteral">&quot;Invalid current EO context&quot;</span>);</div>
<div class="line">        test_fatal_if(<a class="code" href="../../de/d3c/group__em__queue.html#gafb697c252066500fffb19390b455c76a">em_queue_current</a>() != queue, <span class="stringliteral">&quot;Invalid current queue&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        queue_type = <a name="a67"></a><a class="code" href="../../de/d3c/group__em__queue.html#gab125a473b889ca79b3d0fab51d27f7b9">em_queue_get_type</a>(queue);</div>
<div class="line">        sched_type = <a name="a68"></a><a class="code" href="../../dd/d1b/group__em__scheduler.html#ga35b0afc1114a49aa78ea56a2b64bb024">em_sched_context_type_current</a>(&amp;tmp_queue);</div>
<div class="line">        test_fatal_if(tmp_queue != queue, <span class="stringliteral">&quot;Invalid queue&quot;</span>);</div>
<div class="line">        test_fatal_if(queue_type != eo_ctx-&gt;q_type, <span class="stringliteral">&quot;Q-type mismatch&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (queue_type == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>) {</div>
<div class="line">                test_fatal_if(sched_type != <a name="a69"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#af9dd68e59307d0e82e124d85ebd555b9afeba97f827616a3af84c857425ce1084">EM_SCHED_CONTEXT_TYPE_ATOMIC</a>,</div>
<div class="line">                              <span class="stringliteral">&quot;Invalid sched context type&quot;</span>);</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (queue_type == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa581ffa79b1fb6bbde9fcbaa99cb4a8f">EM_QUEUE_TYPE_PARALLEL_ORDERED</a>) {</div>
<div class="line">                test_fatal_if(sched_type != <a name="a70"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#af9dd68e59307d0e82e124d85ebd555b9a8dd3e6cc6dd1048df0b3a900f5e2d882">EM_SCHED_CONTEXT_TYPE_ORDERED</a>,</div>
<div class="line">                              <span class="stringliteral">&quot;Invalid sched context type&quot;</span>);</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (queue_type == <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa3f46c70193d0a7d9bb8fc149a3179ea">EM_QUEUE_TYPE_PARALLEL</a>) {</div>
<div class="line">                test_fatal_if(sched_type != <a name="a71"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#af9dd68e59307d0e82e124d85ebd555b9ab2d3928ae59e38c3683a4d9cbadfbaf3">EM_SCHED_CONTEXT_TYPE_NONE</a>,</div>
<div class="line">                              <span class="stringliteral">&quot;Invalid sched context type&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Print core specific statistics</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">print_core_stats(core_stat_t *<span class="keyword">const</span> cstat, uint64_t print_events)</div>
<div class="line">{</div>
<div class="line">        uint64_t diff;</div>
<div class="line">        uint32_t hz;</div>
<div class="line">        <span class="keywordtype">double</span> mhz;</div>
<div class="line">        <span class="keywordtype">double</span> cycles_per_event;</div>
<div class="line">        uint64_t print_count;</div>
<div class="line"> </div>
<div class="line">        diff = env_cycles_diff(cstat-&gt;end_cycles, cstat-&gt;begin_cycles);</div>
<div class="line"> </div>
<div class="line">        print_count = cstat-&gt;print_count++;</div>
<div class="line">        cycles_per_event = (double)diff / (<span class="keywordtype">double</span>)print_events;</div>
<div class="line"> </div>
<div class="line">        hz = env_core_hz();</div>
<div class="line">        mhz = ((double)hz) / 1000000.0;</div>
<div class="line"> </div>
<div class="line">        APPL_PRINT(PRINT_CORE_STAT_FMT, <a class="code" href="../../d5/d69/group__em__core.html#ga13d21af31382ec2c3d45010645707e9c">em_core_id</a>(),</div>
<div class="line">                   cstat-&gt;pt_count[0], cstat-&gt;pt_count[1], cstat-&gt;pt_count[2],</div>
<div class="line">                   cstat-&gt;pt_count[3], cstat-&gt;pt_count[4], cstat-&gt;pt_count[5],</div>
<div class="line">                   cstat-&gt;pt_count[6], cstat-&gt;pt_count[7], cstat-&gt;pt_count[8],</div>
<div class="line">                   cstat-&gt;pt_count[9], cycles_per_event, mhz, print_count);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">print_event_msg_string(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">        APPL_PRINT(<span class="stringliteral">&quot;\nToo few events detected for the following queues:\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">print_test_info(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Print the EO list */</span></div>
<div class="line">        em_eo_t eo = <a name="a72"></a><a class="code" href="../../d8/d5f/group__em__eo.html#gac6363379beba1730bc82a5833bc9ce61">em_eo_get_first</a>(&amp;num);</div>
<div class="line"> </div>
<div class="line">        APPL_PRINT(<span class="stringliteral">&quot;%d EOs:\n&quot;</span>, num);</div>
<div class="line">        <span class="keywordflow">while</span> (eo != <a name="a73"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#af28fb8daf62b942ced417e158ed7e1c7">EM_EO_UNDEF</a>) {</div>
<div class="line">                <a class="code" href="../../d4/d11/event__machine__types_8h.html#a5e8547bf74142f8fb3a87f9fd4d57798">em_eo_state_t</a> state;</div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">char</span> *state_str;</div>
<div class="line">                <span class="keywordtype">char</span> buf[<a class="code" href="../../dd/dca/event__machine__config_8h.html#a5ae3357b414bf073289b9dec686e3a17">EM_EO_NAME_LEN</a>];</div>
<div class="line">                em_queue_t q;</div>
<div class="line"> </div>
<div class="line">                state = <a name="a74"></a><a class="code" href="../../d8/d5f/group__em__eo.html#ga8eaa7d39cfd1d94eb0b0161f173cbd41">em_eo_get_state</a>(eo);</div>
<div class="line">                <span class="keywordflow">switch</span> (state) {</div>
<div class="line">                <span class="keywordflow">case</span> <a name="a75"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#a5e8547bf74142f8fb3a87f9fd4d57798ad90401eff826fa618198cf15fdd768da">EM_EO_STATE_UNDEF</a>:</div>
<div class="line">                        state_str = <span class="stringliteral">&quot;UNDEF&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <a name="a76"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#a5e8547bf74142f8fb3a87f9fd4d57798a50d37470c897e5a3081cf8533ee7c1f6">EM_EO_STATE_CREATED</a>:</div>
<div class="line">                        state_str = <span class="stringliteral">&quot;CREATED&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <a name="a77"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#a5e8547bf74142f8fb3a87f9fd4d57798adbd7a19e6b72c0cc0df532562b89c8c2">EM_EO_STATE_STARTING</a>:</div>
<div class="line">                        state_str = <span class="stringliteral">&quot;STARTING&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <a name="a78"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#a5e8547bf74142f8fb3a87f9fd4d57798a5cdf7709e001821263d6b5e923d09020">EM_EO_STATE_RUNNING</a>:</div>
<div class="line">                        state_str = <span class="stringliteral">&quot;RUNNING&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <a name="a79"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#a5e8547bf74142f8fb3a87f9fd4d57798a335c34fbf2822b610f1ca4b9f22c2bc3">EM_EO_STATE_STOPPING</a>:</div>
<div class="line">                        state_str = <span class="stringliteral">&quot;STOPPING&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <a name="a80"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#a5e8547bf74142f8fb3a87f9fd4d57798acf2732d07ea0f2504ae6bf5e8e6cc089">EM_EO_STATE_ERROR</a>:</div>
<div class="line">                        state_str = <span class="stringliteral">&quot;ERROR&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                        state_str = <span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line">                <a name="a81"></a><a class="code" href="../../d8/d5f/group__em__eo.html#gae4fbadae4cc0158b24fdcdb6cf5e04fe">em_eo_get_name</a>(eo, buf, <a class="code" href="../../dd/dca/event__machine__config_8h.html#a5ae3357b414bf073289b9dec686e3a17">EM_EO_NAME_LEN</a> - 1);</div>
<div class="line">                APPL_PRINT(<span class="stringliteral">&quot;  EO:%&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0bf4a25d46e18ee918e684e5deb27fa4">PRI_EO</a> <span class="stringliteral">&quot;:&#39;%s&#39; state:%s\n&quot;</span>,</div>
<div class="line">                           eo, buf, state_str);</div>
<div class="line"> </div>
<div class="line">                q = <a name="a82"></a><a class="code" href="../../d8/d5f/group__em__eo.html#ga079285195a3c17532f67f30933d1a98d">em_eo_queue_get_first</a>(&amp;num, eo);</div>
<div class="line">                <span class="keywordflow">while</span> (q != <a class="code" href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a>) {</div>
<div class="line">                        APPL_PRINT(<span class="stringliteral">&quot;    - Q:%&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0331964318f921644a88d3cc38c122e5">PRI_QUEUE</a> <span class="stringliteral">&quot;\n&quot;</span>, q);</div>
<div class="line">                        q = <a name="a83"></a><a class="code" href="../../d8/d5f/group__em__eo.html#gacb24117e350e93a675fc50e912e16583">em_eo_queue_get_next</a>();</div>
<div class="line">                }</div>
<div class="line">                eo = <a name="a84"></a><a class="code" href="../../d8/d5f/group__em__eo.html#ga54b75503cda3016b4e152765b0040bdc">em_eo_get_next</a>();</div>
<div class="line">        }</div>
<div class="line">        APPL_PRINT(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Print the queue list */</span></div>
<div class="line">        em_queue_t q = <a name="a85"></a><a class="code" href="../../de/d3c/group__em__queue.html#ga61d576ae9b5652a697358f1c71d349be">em_queue_get_first</a>(&amp;num);</div>
<div class="line"> </div>
<div class="line">        APPL_PRINT(<span class="stringliteral">&quot;%d queues:\n&quot;</span>, num);</div>
<div class="line">        <span class="keywordflow">while</span> (q != <a class="code" href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a>) {</div>
<div class="line">                <a class="code" href="../../d4/d11/event__machine__types_8h.html#a47c0f0da93addf232d3d6b720f0bb262">em_queue_type_t</a> type;</div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">char</span> *type_str;</div>
<div class="line">                em_queue_t q_check;</div>
<div class="line">                <span class="keywordtype">char</span> buf[<a class="code" href="../../dd/dca/event__machine__config_8h.html#a742517c3aeaf8e64278863f3584db048">EM_QUEUE_NAME_LEN</a>];</div>
<div class="line"> </div>
<div class="line">                <a name="a86"></a><a class="code" href="../../de/d3c/group__em__queue.html#ga973db0375534e9a4a16a7c9a305573bf">em_queue_get_name</a>(q, buf, <a class="code" href="../../dd/dca/event__machine__config_8h.html#a742517c3aeaf8e64278863f3584db048">EM_QUEUE_NAME_LEN</a> - 1);</div>
<div class="line"> </div>
<div class="line">                type = <a class="code" href="../../de/d3c/group__em__queue.html#gab125a473b889ca79b3d0fab51d27f7b9">em_queue_get_type</a>(q);</div>
<div class="line">                <span class="keywordflow">switch</span> (type) {</div>
<div class="line">                <span class="keywordflow">case</span> <a name="a87"></a><a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965ab12aec05572ba9e6be6e18038c571c9e">EM_QUEUE_TYPE_UNDEF</a>:</div>
<div class="line">                        type_str = <span class="stringliteral">&quot;UNDEF&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a>:</div>
<div class="line">                        type_str = <span class="stringliteral">&quot;ATOMIC&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa3f46c70193d0a7d9bb8fc149a3179ea">EM_QUEUE_TYPE_PARALLEL</a>:</div>
<div class="line">                        type_str = <span class="stringliteral">&quot;PARALLEL&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa581ffa79b1fb6bbde9fcbaa99cb4a8f">EM_QUEUE_TYPE_PARALLEL_ORDERED</a>:</div>
<div class="line">                        type_str = <span class="stringliteral">&quot;ORDERED&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <a name="a88"></a><a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a57dfc8af69d1d91fb9f4908fccdd0930">EM_QUEUE_TYPE_UNSCHEDULED</a>:</div>
<div class="line">                        type_str = <span class="stringliteral">&quot;UNSCHEDULED&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <a name="a89"></a><a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965ac02e1a7e457c789cdf9802d68f22b4fc">EM_QUEUE_TYPE_LOCAL</a>:</div>
<div class="line">                        type_str = <span class="stringliteral">&quot;LOCAL&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> <a name="a90"></a><a class="code" href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965acbe16139e5fef0f1693f087548dffa7b">EM_QUEUE_TYPE_OUTPUT</a>:</div>
<div class="line">                        type_str = <span class="stringliteral">&quot;OUTPUT&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                        type_str = <span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                APPL_PRINT(<span class="stringliteral">&quot;  Q:%&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0331964318f921644a88d3cc38c122e5">PRI_QUEUE</a> <span class="stringliteral">&quot;:&#39;%s&#39;\ttype:%s\n&quot;</span>,</div>
<div class="line">                           q, buf, type_str);</div>
<div class="line">                q_check = <a name="a91"></a><a class="code" href="../../de/d3c/group__em__queue.html#gae54347263c7e083e3af4b1bb4c7df696">em_queue_find</a>(buf);</div>
<div class="line">                test_fatal_if(q_check != q, <span class="stringliteral">&quot;Queue mismatch:\n&quot;</span></div>
<div class="line">                              <span class="stringliteral">&quot;%&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0331964318f921644a88d3cc38c122e5">PRI_QUEUE</a> <span class="stringliteral">&quot; != %&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0331964318f921644a88d3cc38c122e5">PRI_QUEUE</a> <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                              q_check, q);</div>
<div class="line">                q = <a name="a92"></a><a class="code" href="../../de/d3c/group__em__queue.html#ga8578903598bdb715a8bb9b3f552dd1bc">em_queue_get_next</a>();</div>
<div class="line">        }</div>
<div class="line">        APPL_PRINT(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Print the atomic group list */</span></div>
<div class="line">        em_atomic_group_t ag = <a name="a93"></a><a class="code" href="../../d3/dc1/group__em__atomic__group.html#ga9dc6fa7206c0350cc93badb90c505e61">em_atomic_group_get_first</a>(&amp;num);</div>
<div class="line">        <span class="keywordtype">char</span> ag_name[<a class="code" href="../../dd/dca/event__machine__config_8h.html#adc9537c36c264727f8b83ac3ca6451f7">EM_ATOMIC_GROUP_NAME_LEN</a>];</div>
<div class="line"> </div>
<div class="line">        APPL_PRINT(<span class="stringliteral">&quot;%d Atomic-Groups:\n&quot;</span>, num);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">while</span> (ag != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a8aa7220ee288baa2ef461f400679fa48">EM_ATOMIC_GROUP_UNDEF</a>) {</div>
<div class="line">                <span class="keywordflow">if</span> (ag != <a class="code" href="../../d4/d11/event__machine__types_8h.html#a8aa7220ee288baa2ef461f400679fa48">EM_ATOMIC_GROUP_UNDEF</a>) {</div>
<div class="line">                        em_queue_t ag_queue;</div>
<div class="line">                        em_atomic_group_t ag_check;</div>
<div class="line"> </div>
<div class="line">                        <a name="a94"></a><a class="code" href="../../d3/dc1/group__em__atomic__group.html#ga38e4fe65cd5a3263fab703fd1942e248">em_atomic_group_get_name</a>(ag, ag_name, <span class="keyword">sizeof</span>(ag_name));</div>
<div class="line">                        APPL_PRINT(<span class="stringliteral">&quot;  AG:%&quot;</span> <a name="a95"></a><a class="code" href="../../d4/d11/event__machine__types_8h.html#ac68423200d88c3b5b671e360c1659407">PRI_AGRP</a> <span class="stringliteral">&quot;:&#39;%s&#39;\n&quot;</span>, ag, ag_name);</div>
<div class="line"> </div>
<div class="line">                        ag_check = <a name="a96"></a><a class="code" href="../../d3/dc1/group__em__atomic__group.html#ga11ba79730e32cd7bf39d9b382aad807c">em_atomic_group_find</a>(ag_name);</div>
<div class="line">                        test_fatal_if(ag_check != ag, <span class="stringliteral">&quot;AG mismatch:\n&quot;</span></div>
<div class="line">                                      <span class="stringliteral">&quot;%&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#ac68423200d88c3b5b671e360c1659407">PRI_AGRP</a> <span class="stringliteral">&quot; != %&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#ac68423200d88c3b5b671e360c1659407">PRI_AGRP</a> <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                                      ag_check, ag);</div>
<div class="line"> </div>
<div class="line">                        ag_queue = <a name="a97"></a><a class="code" href="../../d3/dc1/group__em__atomic__group.html#gab522457da251830b191fbede08fe6403">em_atomic_group_queue_get_first</a>(&amp;num, ag);</div>
<div class="line">                        <span class="keywordflow">while</span> (ag_queue != <a class="code" href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a>) {</div>
<div class="line">                                APPL_PRINT(<span class="stringliteral">&quot;    - Q:%&quot;</span> <a class="code" href="../../d4/d11/event__machine__types_8h.html#a0331964318f921644a88d3cc38c122e5">PRI_QUEUE</a> <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">                                           ag_queue);</div>
<div class="line">                                ag_queue = <a name="a98"></a><a class="code" href="../../d3/dc1/group__em__atomic__group.html#ga1a18521b44a2df6f7e40f599e91a51fd">em_atomic_group_queue_get_next</a>();</div>
<div class="line">                        }</div>
<div class="line">                }</div>
<div class="line">                ag = <a name="a99"></a><a class="code" href="../../d3/dc1/group__em__atomic__group.html#gab93dfb2e1c01ef97eb123fdc70514a1e">em_atomic_group_get_next</a>();</div>
<div class="line">        }</div>
<div class="line">        APPL_PRINT(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="aenvironment_8h_html"><div class="ttname"><a href="../../de/d26/environment_8h.html">environment.h</a></div></div>
<div class="ttc" id="aenvironment_8h_html_a13093fb72d4f1f0be2f85cf449f4d543"><div class="ttname"><a href="../../de/d26/environment_8h.html#a13093fb72d4f1f0be2f85cf449f4d543">ENV_CACHE_LINE_ALIGNED</a></div><div class="ttdeci">#define ENV_CACHE_LINE_ALIGNED</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d26/environment_8h_source.html#l00076">environment.h:76</a></div></div>
<div class="ttc" id="aenvironment_8h_html_a2b2462b2491461a5c14adb1eb4493a8c"><div class="ttname"><a href="../../de/d26/environment_8h.html#a2b2462b2491461a5c14adb1eb4493a8c">ENV_LOCAL</a></div><div class="ttdeci">#define ENV_LOCAL</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d26/environment_8h_source.html#l00057">environment.h:57</a></div></div>
<div class="ttc" id="aenvironment_8h_html_aba71635a146e563689c50f1be15cb267"><div class="ttname"><a href="../../de/d26/environment_8h.html#aba71635a146e563689c50f1be15cb267">ENV_CACHE_LINE_SIZE</a></div><div class="ttdeci">#define ENV_CACHE_LINE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d26/environment_8h_source.html#l00062">environment.h:62</a></div></div>
<div class="ttc" id="aevent__machine_8h_html"><div class="ttname"><a href="../../d7/d5e/event__machine_8h.html">event_machine.h</a></div></div>
<div class="ttc" id="aevent__machine__config_8h_html_a5ae3357b414bf073289b9dec686e3a17"><div class="ttname"><a href="../../dd/dca/event__machine__config_8h.html#a5ae3357b414bf073289b9dec686e3a17">EM_EO_NAME_LEN</a></div><div class="ttdeci">#define EM_EO_NAME_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dca/event__machine__config_8h_source.html#l00155">event_machine_config.h:155</a></div></div>
<div class="ttc" id="aevent__machine__config_8h_html_a742517c3aeaf8e64278863f3584db048"><div class="ttname"><a href="../../dd/dca/event__machine__config_8h.html#a742517c3aeaf8e64278863f3584db048">EM_QUEUE_NAME_LEN</a></div><div class="ttdeci">#define EM_QUEUE_NAME_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dca/event__machine__config_8h_source.html#l00125">event_machine_config.h:125</a></div></div>
<div class="ttc" id="aevent__machine__config_8h_html_adc9537c36c264727f8b83ac3ca6451f7"><div class="ttname"><a href="../../dd/dca/event__machine__config_8h.html#adc9537c36c264727f8b83ac3ca6451f7">EM_ATOMIC_GROUP_NAME_LEN</a></div><div class="ttdeci">#define EM_ATOMIC_GROUP_NAME_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dca/event__machine__config_8h_source.html#l00143">event_machine_config.h:143</a></div></div>
<div class="ttc" id="aevent__machine__hw__config_8h_html_ae56af1c575498ec19f0836ee916d0eb9"><div class="ttname"><a href="../../db/d6d/event__machine__hw__config_8h.html#ae56af1c575498ec19f0836ee916d0eb9">EM_QUEUE_GROUP_DEFAULT</a></div><div class="ttdeci">#define EM_QUEUE_GROUP_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d6d/event__machine__hw__config_8h_source.html#l00147">event_machine_hw_config.h:147</a></div></div>
<div class="ttc" id="aevent__machine__hw__types_8h_html_a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032"><div class="ttname"><a href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a43e0ef6f7a63caf0b225a52412ef3032">EM_QUEUE_TYPE_ATOMIC</a></div><div class="ttdeci">@ EM_QUEUE_TYPE_ATOMIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d07/event__machine__hw__types_8h_source.html#l00112">event_machine_hw_types.h:112</a></div></div>
<div class="ttc" id="aevent__machine__hw__types_8h_html_a368b59e8c18f57c4034420e3ba44e965a57dfc8af69d1d91fb9f4908fccdd0930"><div class="ttname"><a href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965a57dfc8af69d1d91fb9f4908fccdd0930">EM_QUEUE_TYPE_UNSCHEDULED</a></div><div class="ttdeci">@ EM_QUEUE_TYPE_UNSCHEDULED</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d07/event__machine__hw__types_8h_source.html#l00127">event_machine_hw_types.h:127</a></div></div>
<div class="ttc" id="aevent__machine__hw__types_8h_html_a368b59e8c18f57c4034420e3ba44e965aa3f46c70193d0a7d9bb8fc149a3179ea"><div class="ttname"><a href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa3f46c70193d0a7d9bb8fc149a3179ea">EM_QUEUE_TYPE_PARALLEL</a></div><div class="ttdeci">@ EM_QUEUE_TYPE_PARALLEL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d07/event__machine__hw__types_8h_source.html#l00117">event_machine_hw_types.h:117</a></div></div>
<div class="ttc" id="aevent__machine__hw__types_8h_html_a368b59e8c18f57c4034420e3ba44e965aa581ffa79b1fb6bbde9fcbaa99cb4a8f"><div class="ttname"><a href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965aa581ffa79b1fb6bbde9fcbaa99cb4a8f">EM_QUEUE_TYPE_PARALLEL_ORDERED</a></div><div class="ttdeci">@ EM_QUEUE_TYPE_PARALLEL_ORDERED</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d07/event__machine__hw__types_8h_source.html#l00122">event_machine_hw_types.h:122</a></div></div>
<div class="ttc" id="aevent__machine__hw__types_8h_html_a368b59e8c18f57c4034420e3ba44e965ab12aec05572ba9e6be6e18038c571c9e"><div class="ttname"><a href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965ab12aec05572ba9e6be6e18038c571c9e">EM_QUEUE_TYPE_UNDEF</a></div><div class="ttdeci">@ EM_QUEUE_TYPE_UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d07/event__machine__hw__types_8h_source.html#l00107">event_machine_hw_types.h:107</a></div></div>
<div class="ttc" id="aevent__machine__hw__types_8h_html_a368b59e8c18f57c4034420e3ba44e965ac02e1a7e457c789cdf9802d68f22b4fc"><div class="ttname"><a href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965ac02e1a7e457c789cdf9802d68f22b4fc">EM_QUEUE_TYPE_LOCAL</a></div><div class="ttdeci">@ EM_QUEUE_TYPE_LOCAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d07/event__machine__hw__types_8h_source.html#l00131">event_machine_hw_types.h:131</a></div></div>
<div class="ttc" id="aevent__machine__hw__types_8h_html_a368b59e8c18f57c4034420e3ba44e965acbe16139e5fef0f1693f087548dffa7b"><div class="ttname"><a href="../../d0/d07/event__machine__hw__types_8h.html#a368b59e8c18f57c4034420e3ba44e965acbe16139e5fef0f1693f087548dffa7b">EM_QUEUE_TYPE_OUTPUT</a></div><div class="ttdeci">@ EM_QUEUE_TYPE_OUTPUT</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d07/event__machine__hw__types_8h_source.html#l00138">event_machine_hw_types.h:137</a></div></div>
<div class="ttc" id="aevent__machine__hw__types_8h_html_a5f1ebfb654b7ec3169e068aa3776ff79"><div class="ttname"><a href="../../d0/d07/event__machine__hw__types_8h.html#a5f1ebfb654b7ec3169e068aa3776ff79">PRI_POOL</a></div><div class="ttdeci">#define PRI_POOL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d07/event__machine__hw__types_8h_source.html#l00062">event_machine_hw_types.h:62</a></div></div>
<div class="ttc" id="aevent__machine__hw__types_8h_html_a67fed61187c93569c92da0647970a29f"><div class="ttname"><a href="../../d0/d07/event__machine__hw__types_8h.html#a67fed61187c93569c92da0647970a29f">EM_POOL_UNDEF</a></div><div class="ttdeci">#define EM_POOL_UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d07/event__machine__hw__types_8h_source.html#l00060">event_machine_hw_types.h:60</a></div></div>
<div class="ttc" id="aevent__machine__hw__types_8h_html_a8171ccd1b7a0df99a6c7d0f3ec82e52fa2311aaab5842cd6b78e4587be0fbf0ca"><div class="ttname"><a href="../../d0/d07/event__machine__hw__types_8h.html#a8171ccd1b7a0df99a6c7d0f3ec82e52fa2311aaab5842cd6b78e4587be0fbf0ca">EM_QUEUE_PRIO_NORMAL</a></div><div class="ttdeci">@ EM_QUEUE_PRIO_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d07/event__machine__hw__types_8h_source.html#l00153">event_machine_hw_types.h:153</a></div></div>
<div class="ttc" id="aevent__machine__hw__types_8h_html_ac341b7db29d8127e864a45c9bd2a4aa3"><div class="ttname"><a href="../../d0/d07/event__machine__hw__types_8h.html#ac341b7db29d8127e864a45c9bd2a4aa3">EM_ERROR_SET_FATAL</a></div><div class="ttdeci">#define EM_ERROR_SET_FATAL(error)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d07/event__machine__hw__types_8h_source.html#l00428">event_machine_hw_types.h:428</a></div></div>
<div class="ttc" id="aevent__machine__hw__types_8h_html_ace0fe27049350469ff1be8188acfea89a2066feedf79f96d10ce9215fa5f37db1"><div class="ttname"><a href="../../d0/d07/event__machine__hw__types_8h.html#ace0fe27049350469ff1be8188acfea89a2066feedf79f96d10ce9215fa5f37db1">EM_EVENT_TYPE_SW</a></div><div class="ttdeci">@ EM_EVENT_TYPE_SW</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d07/event__machine__hw__types_8h_source.html#l00072">event_machine_hw_types.h:72</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a0331964318f921644a88d3cc38c122e5"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a0331964318f921644a88d3cc38c122e5">PRI_QUEUE</a></div><div class="ttdeci">#define PRI_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00109">event_machine_types.h:109</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a03546e6a7e93665c52d479831e0a6dca"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a03546e6a7e93665c52d479831e0a6dca">EM_OK</a></div><div class="ttdeci">#define EM_OK</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00329">event_machine_types.h:329</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a0bf4a25d46e18ee918e684e5deb27fa4"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a0bf4a25d46e18ee918e684e5deb27fa4">PRI_EO</a></div><div class="ttdeci">#define PRI_EO</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00097">event_machine_types.h:97</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a1f9dbd41491db385bd4a3813e2f030a5"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a1f9dbd41491db385bd4a3813e2f030a5">EM_ERROR</a></div><div class="ttdeci">#define EM_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00337">event_machine_types.h:337</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a419c8373b72a8c5ed1c3e3ded3e262e0"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a419c8373b72a8c5ed1c3e3ded3e262e0">EM_TRUE</a></div><div class="ttdeci">#define EM_TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00053">event_machine_types.h:53</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a47c0f0da93addf232d3d6b720f0bb262"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a47c0f0da93addf232d3d6b720f0bb262">em_queue_type_t</a></div><div class="ttdeci">uint32_t em_queue_type_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00168">event_machine_types.h:168</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a49fd700da185b0f64834bf967479a992"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a49fd700da185b0f64834bf967479a992">em_event_type_t</a></div><div class="ttdeci">uint32_t em_event_type_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00085">event_machine_types.h:85</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a5e8547bf74142f8fb3a87f9fd4d57798"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a5e8547bf74142f8fb3a87f9fd4d57798">em_eo_state_t</a></div><div class="ttdeci">em_eo_state_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00295">event_machine_types.h:295</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a5e8547bf74142f8fb3a87f9fd4d57798a335c34fbf2822b610f1ca4b9f22c2bc3"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a5e8547bf74142f8fb3a87f9fd4d57798a335c34fbf2822b610f1ca4b9f22c2bc3">EM_EO_STATE_STOPPING</a></div><div class="ttdeci">@ EM_EO_STATE_STOPPING</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00305">event_machine_types.h:305</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a5e8547bf74142f8fb3a87f9fd4d57798a50d37470c897e5a3081cf8533ee7c1f6"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a5e8547bf74142f8fb3a87f9fd4d57798a50d37470c897e5a3081cf8533ee7c1f6">EM_EO_STATE_CREATED</a></div><div class="ttdeci">@ EM_EO_STATE_CREATED</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00299">event_machine_types.h:299</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a5e8547bf74142f8fb3a87f9fd4d57798a5cdf7709e001821263d6b5e923d09020"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a5e8547bf74142f8fb3a87f9fd4d57798a5cdf7709e001821263d6b5e923d09020">EM_EO_STATE_RUNNING</a></div><div class="ttdeci">@ EM_EO_STATE_RUNNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00303">event_machine_types.h:303</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a5e8547bf74142f8fb3a87f9fd4d57798acf2732d07ea0f2504ae6bf5e8e6cc089"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a5e8547bf74142f8fb3a87f9fd4d57798acf2732d07ea0f2504ae6bf5e8e6cc089">EM_EO_STATE_ERROR</a></div><div class="ttdeci">@ EM_EO_STATE_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00308">event_machine_types.h:307</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a5e8547bf74142f8fb3a87f9fd4d57798ad90401eff826fa618198cf15fdd768da"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a5e8547bf74142f8fb3a87f9fd4d57798ad90401eff826fa618198cf15fdd768da">EM_EO_STATE_UNDEF</a></div><div class="ttdeci">@ EM_EO_STATE_UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00297">event_machine_types.h:297</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a5e8547bf74142f8fb3a87f9fd4d57798adbd7a19e6b72c0cc0df532562b89c8c2"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a5e8547bf74142f8fb3a87f9fd4d57798adbd7a19e6b72c0cc0df532562b89c8c2">EM_EO_STATE_STARTING</a></div><div class="ttdeci">@ EM_EO_STATE_STARTING</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00301">event_machine_types.h:301</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a8542d9c2c9a29e35ff042b1d59cc479b"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a8542d9c2c9a29e35ff042b1d59cc479b">EM_EVENT_UNDEF</a></div><div class="ttdeci">#define EM_EVENT_UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00062">event_machine_types.h:62</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_a8aa7220ee288baa2ef461f400679fa48"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#a8aa7220ee288baa2ef461f400679fa48">EM_ATOMIC_GROUP_UNDEF</a></div><div class="ttdeci">#define EM_ATOMIC_GROUP_UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00156">event_machine_types.h:156</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_aaa1082ff9d3bde10bb66e7bcaa6f00ee"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#aaa1082ff9d3bde10bb66e7bcaa6f00ee">EM_FALSE</a></div><div class="ttdeci">#define EM_FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00054">event_machine_types.h:54</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_ac68423200d88c3b5b671e360c1659407"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#ac68423200d88c3b5b671e360c1659407">PRI_AGRP</a></div><div class="ttdeci">#define PRI_AGRP</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00158">event_machine_types.h:158</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_adddd88868f7aa0d32b3e40245eb4ef8f"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a></div><div class="ttdeci">uint32_t em_status_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00321">event_machine_types.h:321</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_ae8ba676fb5528d220363edad0aeef1ff"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#ae8ba676fb5528d220363edad0aeef1ff">EM_QUEUE_UNDEF</a></div><div class="ttdeci">#define EM_QUEUE_UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00107">event_machine_types.h:107</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_af28fb8daf62b942ced417e158ed7e1c7"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#af28fb8daf62b942ced417e158ed7e1c7">EM_EO_UNDEF</a></div><div class="ttdeci">#define EM_EO_UNDEF</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00095">event_machine_types.h:95</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_af9dd68e59307d0e82e124d85ebd555b9"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#af9dd68e59307d0e82e124d85ebd555b9">em_sched_context_type_t</a></div><div class="ttdeci">em_sched_context_type_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00277">event_machine_types.h:277</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_af9dd68e59307d0e82e124d85ebd555b9a8dd3e6cc6dd1048df0b3a900f5e2d882"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#af9dd68e59307d0e82e124d85ebd555b9a8dd3e6cc6dd1048df0b3a900f5e2d882">EM_SCHED_CONTEXT_TYPE_ORDERED</a></div><div class="ttdeci">@ EM_SCHED_CONTEXT_TYPE_ORDERED</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00290">event_machine_types.h:289</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_af9dd68e59307d0e82e124d85ebd555b9ab2d3928ae59e38c3683a4d9cbadfbaf3"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#af9dd68e59307d0e82e124d85ebd555b9ab2d3928ae59e38c3683a4d9cbadfbaf3">EM_SCHED_CONTEXT_TYPE_NONE</a></div><div class="ttdeci">@ EM_SCHED_CONTEXT_TYPE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00281">event_machine_types.h:281</a></div></div>
<div class="ttc" id="aevent__machine__types_8h_html_af9dd68e59307d0e82e124d85ebd555b9afeba97f827616a3af84c857425ce1084"><div class="ttname"><a href="../../d4/d11/event__machine__types_8h.html#af9dd68e59307d0e82e124d85ebd555b9afeba97f827616a3af84c857425ce1084">EM_SCHED_CONTEXT_TYPE_ATOMIC</a></div><div class="ttdeci">@ EM_SCHED_CONTEXT_TYPE_ATOMIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00285">event_machine_types.h:285</a></div></div>
<div class="ttc" id="agroup__em__atomic__group_html_ga0ac321a585ce74c3cf79a7459c91095c"><div class="ttname"><a href="../../d3/dc1/group__em__atomic__group.html#ga0ac321a585ce74c3cf79a7459c91095c">em_queue_create_ag</a></div><div class="ttdeci">em_queue_t em_queue_create_ag(const char *name, em_queue_prio_t prio, em_atomic_group_t atomic_group, const em_queue_conf_t *conf)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00224">event_machine_atomic_group.c:224</a></div></div>
<div class="ttc" id="agroup__em__atomic__group_html_ga11ba79730e32cd7bf39d9b382aad807c"><div class="ttname"><a href="../../d3/dc1/group__em__atomic__group.html#ga11ba79730e32cd7bf39d9b382aad807c">em_atomic_group_find</a></div><div class="ttdeci">em_atomic_group_t em_atomic_group_find(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00367">event_machine_atomic_group.c:367</a></div></div>
<div class="ttc" id="agroup__em__atomic__group_html_ga1a18521b44a2df6f7e40f599e91a51fd"><div class="ttname"><a href="../../d3/dc1/group__em__atomic__group.html#ga1a18521b44a2df6f7e40f599e91a51fd">em_atomic_group_queue_get_next</a></div><div class="ttdeci">em_queue_t em_atomic_group_queue_get_next(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00492">event_machine_atomic_group.c:492</a></div></div>
<div class="ttc" id="agroup__em__atomic__group_html_ga38e4fe65cd5a3263fab703fd1942e248"><div class="ttname"><a href="../../d3/dc1/group__em__atomic__group.html#ga38e4fe65cd5a3263fab703fd1942e248">em_atomic_group_get_name</a></div><div class="ttdeci">size_t em_atomic_group_get_name(em_atomic_group_t atomic_group, char *name, size_t maxlen)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00334">event_machine_atomic_group.c:334</a></div></div>
<div class="ttc" id="agroup__em__atomic__group_html_ga9dc6fa7206c0350cc93badb90c505e61"><div class="ttname"><a href="../../d3/dc1/group__em__atomic__group.html#ga9dc6fa7206c0350cc93badb90c505e61">em_atomic_group_get_first</a></div><div class="ttdeci">em_atomic_group_t em_atomic_group_get_first(unsigned int *num)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00384">event_machine_atomic_group.c:384</a></div></div>
<div class="ttc" id="agroup__em__atomic__group_html_gaa253b47f920a4fd27532c9e0246e0d8b"><div class="ttname"><a href="../../d3/dc1/group__em__atomic__group.html#gaa253b47f920a4fd27532c9e0246e0d8b">em_atomic_group_delete</a></div><div class="ttdeci">em_status_t em_atomic_group_delete(em_atomic_group_t atomic_group)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00181">event_machine_atomic_group.c:181</a></div></div>
<div class="ttc" id="agroup__em__atomic__group_html_gab522457da251830b191fbede08fe6403"><div class="ttname"><a href="../../d3/dc1/group__em__atomic__group.html#gab522457da251830b191fbede08fe6403">em_atomic_group_queue_get_first</a></div><div class="ttdeci">em_queue_t em_atomic_group_queue_get_first(unsigned int *num, em_atomic_group_t atomic_group)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00436">event_machine_atomic_group.c:436</a></div></div>
<div class="ttc" id="agroup__em__atomic__group_html_gab52d49a543562163a904f86fd9f18866"><div class="ttname"><a href="../../d3/dc1/group__em__atomic__group.html#gab52d49a543562163a904f86fd9f18866">em_atomic_group_create</a></div><div class="ttdeci">em_atomic_group_t em_atomic_group_create(const char *name, em_queue_group_t queue_group)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00040">event_machine_atomic_group.c:40</a></div></div>
<div class="ttc" id="agroup__em__atomic__group_html_gab93dfb2e1c01ef97eb123fdc70514a1e"><div class="ttname"><a href="../../d3/dc1/group__em__atomic__group.html#gab93dfb2e1c01ef97eb123fdc70514a1e">em_atomic_group_get_next</a></div><div class="ttdeci">em_atomic_group_t em_atomic_group_get_next(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d9e/event__machine__atomic__group_8c_source.html#l00413">event_machine_atomic_group.c:413</a></div></div>
<div class="ttc" id="agroup__em__core_html_ga13d21af31382ec2c3d45010645707e9c"><div class="ttname"><a href="../../d5/d69/group__em__core.html#ga13d21af31382ec2c3d45010645707e9c">em_core_id</a></div><div class="ttdeci">int em_core_id(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/df9/event__machine__core_8c_source.html#l00034">event_machine_core.c:34</a></div></div>
<div class="ttc" id="agroup__em__eo_html_ga079285195a3c17532f67f30933d1a98d"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#ga079285195a3c17532f67f30933d1a98d">em_eo_queue_get_first</a></div><div class="ttdeci">em_queue_t em_eo_queue_get_first(unsigned int *num, em_eo_t eo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l01093">event_machine_eo.c:1093</a></div></div>
<div class="ttc" id="agroup__em__eo_html_ga10cf8094caa56026eb0a402d3d22da23"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#ga10cf8094caa56026eb0a402d3d22da23">em_eo_remove_queue_all_sync</a></div><div class="ttdeci">em_status_t em_eo_remove_queue_all_sync(em_eo_t eo, int delete_queues)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l00517">event_machine_eo.c:517</a></div></div>
<div class="ttc" id="agroup__em__eo_html_ga1262b0eefaf7840f9c2b44b7fe3ff93e"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#ga1262b0eefaf7840f9c2b44b7fe3ff93e">em_eo_get_context</a></div><div class="ttdeci">void * em_eo_get_context(em_eo_t eo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l01002">event_machine_eo.c:1002</a></div></div>
<div class="ttc" id="agroup__em__eo_html_ga1780a42555c857a8c4b5add5f21ea3f3"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#ga1780a42555c857a8c4b5add5f21ea3f3">em_eo_current</a></div><div class="ttdeci">em_eo_t em_eo_current(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l00996">event_machine_eo.c:996</a></div></div>
<div class="ttc" id="agroup__em__eo_html_ga196c7caa1177575fd424e9a0d2854da6"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#ga196c7caa1177575fd424e9a0d2854da6">em_eo_create</a></div><div class="ttdeci">em_eo_t em_eo_create(const char *name, em_start_func_t start, em_start_local_func_t local_start, em_stop_func_t stop, em_stop_local_func_t local_stop, em_receive_func_t receive, const void *eo_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l00040">event_machine_eo.c:40</a></div></div>
<div class="ttc" id="agroup__em__eo_html_ga54b75503cda3016b4e152765b0040bdc"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#ga54b75503cda3016b4e152765b0040bdc">em_eo_get_next</a></div><div class="ttdeci">em_eo_t em_eo_get_next(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l01075">event_machine_eo.c:1075</a></div></div>
<div class="ttc" id="agroup__em__eo_html_ga8eaa7d39cfd1d94eb0b0161f173cbd41"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#ga8eaa7d39cfd1d94eb0b0161f173cbd41">em_eo_get_state</a></div><div class="ttdeci">em_eo_state_t em_eo_get_state(em_eo_t eo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l01031">event_machine_eo.c:1031</a></div></div>
<div class="ttc" id="agroup__em__eo_html_gabe4f7a789ec9523367c086793061562d"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#gabe4f7a789ec9523367c086793061562d">em_eo_start_sync</a></div><div class="ttdeci">em_status_t em_eo_start_sync(em_eo_t eo, em_status_t *result, const em_eo_conf_t *conf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l00725">event_machine_eo.c:725</a></div></div>
<div class="ttc" id="agroup__em__eo_html_gac6363379beba1730bc82a5833bc9ce61"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#gac6363379beba1730bc82a5833bc9ce61">em_eo_get_first</a></div><div class="ttdeci">em_eo_t em_eo_get_first(unsigned int *num)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l01051">event_machine_eo.c:1051</a></div></div>
<div class="ttc" id="agroup__em__eo_html_gac9b818edd466228b6fb653bd9337da3e"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#gac9b818edd466228b6fb653bd9337da3e">em_eo_add_queue_sync</a></div><div class="ttdeci">em_status_t em_eo_add_queue_sync(em_eo_t eo, em_queue_t queue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l00344">event_machine_eo.c:344</a></div></div>
<div class="ttc" id="agroup__em__eo_html_gacb24117e350e93a675fc50e912e16583"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#gacb24117e350e93a675fc50e912e16583">em_eo_queue_get_next</a></div><div class="ttdeci">em_queue_t em_eo_queue_get_next(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l01140">event_machine_eo.c:1140</a></div></div>
<div class="ttc" id="agroup__em__eo_html_gadce026621953114bd26e5836d9693465"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#gadce026621953114bd26e5836d9693465">em_eo_stop_sync</a></div><div class="ttdeci">em_status_t em_eo_stop_sync(em_eo_t eo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l00897">event_machine_eo.c:897</a></div></div>
<div class="ttc" id="agroup__em__eo_html_gae4fbadae4cc0158b24fdcdb6cf5e04fe"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#gae4fbadae4cc0158b24fdcdb6cf5e04fe">em_eo_get_name</a></div><div class="ttdeci">size_t em_eo_get_name(em_eo_t eo, char *name, size_t maxlen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l00236">event_machine_eo.c:236</a></div></div>
<div class="ttc" id="agroup__em__eo_html_gae769b19e613b24487beb943cfb926977"><div class="ttname"><a href="../../d8/d5f/group__em__eo.html#gae769b19e613b24487beb943cfb926977">em_eo_delete</a></div><div class="ttdeci">em_status_t em_eo_delete(em_eo_t eo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd3/event__machine__eo_8c_source.html#l00205">event_machine_eo.c:205</a></div></div>
<div class="ttc" id="agroup__em__error_html_gab6b469100e5f60670a742d944a6f530b"><div class="ttname"><a href="../../db/da0/group__em__error.html#gab6b469100e5f60670a742d944a6f530b">em_unregister_error_handler</a></div><div class="ttdeci">em_status_t em_unregister_error_handler(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de9/event__machine__error_8c_source.html#l00050">event_machine_error.c:50</a></div></div>
<div class="ttc" id="agroup__em__error_html_gaf7332965c5deaa69411136e8d36089c6"><div class="ttname"><a href="../../db/da0/group__em__error.html#gaf7332965c5deaa69411136e8d36089c6">em_register_error_handler</a></div><div class="ttdeci">em_status_t em_register_error_handler(em_error_handler_t handler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de9/event__machine__error_8c_source.html#l00034">event_machine_error.c:34</a></div></div>
<div class="ttc" id="agroup__em__event_html_ga272587cb3a55dd241332fd13b6e19054"><div class="ttname"><a href="../../d5/d33/group__em__event.html#ga272587cb3a55dd241332fd13b6e19054">em_send_multi</a></div><div class="ttdeci">int em_send_multi(const em_event_t events[], int num, em_queue_t queue)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d32/event__machine__event_8c_source.html#l00710">event_machine_event.c:710</a></div></div>
<div class="ttc" id="agroup__em__event_html_ga5f0e40f1b0b4892ee16aafe07ba4c90c"><div class="ttname"><a href="../../d5/d33/group__em__event.html#ga5f0e40f1b0b4892ee16aafe07ba4c90c">em_alloc</a></div><div class="ttdeci">em_event_t em_alloc(uint32_t size, em_event_type_t type, em_pool_t pool)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d32/event__machine__event_8c_source.html#l00033">event_machine_event.c:33</a></div></div>
<div class="ttc" id="agroup__em__event_html_ga6cff0b1df08e1a2e97e2a75f97f61011"><div class="ttname"><a href="../../d5/d33/group__em__event.html#ga6cff0b1df08e1a2e97e2a75f97f61011">em_event_uarea_get</a></div><div class="ttdeci">void * em_event_uarea_get(em_event_t event, size_t *size)</div><div class="ttdoc">Get a pointer to the event user area, optionally along with its size.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d32/event__machine__event_8c_source.html#l01534">event_machine_event.c:1534</a></div></div>
<div class="ttc" id="agroup__em__event_html_ga88f96133b033dcdb8a6ffe1e9006a38b"><div class="ttname"><a href="../../d5/d33/group__em__event.html#ga88f96133b033dcdb8a6ffe1e9006a38b">em_event_uarea_id_set</a></div><div class="ttdeci">em_status_t em_event_uarea_id_set(em_event_t event, uint16_t id)</div><div class="ttdoc">Set the event user area ID.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d32/event__machine__event_8c_source.html#l01571">event_machine_event.c:1571</a></div></div>
<div class="ttc" id="agroup__em__event_html_ga8f701c3a5901fc81d922b9d1d02691e3"><div class="ttname"><a href="../../d5/d33/group__em__event.html#ga8f701c3a5901fc81d922b9d1d02691e3">em_event_pointer</a></div><div class="ttdeci">void * em_event_pointer(em_event_t event)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d32/event__machine__event_8c_source.html#l00750">event_machine_event.c:750</a></div></div>
<div class="ttc" id="agroup__em__event_html_gabd6f367cfeacc730b501eaafd3e8a8b7"><div class="ttname"><a href="../../d5/d33/group__em__event.html#gabd6f367cfeacc730b501eaafd3e8a8b7">em_event_uarea_info</a></div><div class="ttdeci">em_status_t em_event_uarea_info(em_event_t event, em_event_uarea_info_t *uarea_info)</div><div class="ttdoc">Get the event user area information for a given event.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d32/event__machine__event_8c_source.html#l01631">event_machine_event.c:1631</a></div></div>
<div class="ttc" id="agroup__em__event_html_gaca4584a01b71429dfbb045342454b464"><div class="ttname"><a href="../../d5/d33/group__em__event.html#gaca4584a01b71429dfbb045342454b464">em_send</a></div><div class="ttdeci">em_status_t em_send(em_event_t event, em_queue_t queue)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d32/event__machine__event_8c_source.html#l00661">event_machine_event.c:661</a></div></div>
<div class="ttc" id="agroup__em__event_html_gad4f97ba217518d967f8078c56023c4d4"><div class="ttname"><a href="../../d5/d33/group__em__event.html#gad4f97ba217518d967f8078c56023c4d4">em_free</a></div><div class="ttdeci">void em_free(em_event_t event)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d32/event__machine__event_8c_source.html#l00261">event_machine_event.c:261</a></div></div>
<div class="ttc" id="agroup__em__pool_html_ga05acc37c035cef81910e8ea77e5db158"><div class="ttname"><a href="../../d1/d85/group__em__pool.html#ga05acc37c035cef81910e8ea77e5db158">em_pool_create</a></div><div class="ttdeci">em_pool_t em_pool_create(const char *name, em_pool_t pool, const em_pool_cfg_t *pool_cfg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7a/event__machine__pool_8c_source.html#l00076">event_machine_pool.c:76</a></div></div>
<div class="ttc" id="agroup__em__pool_html_ga0a0585d9c293ce9d93d2b7235935313a"><div class="ttname"><a href="../../d1/d85/group__em__pool.html#ga0a0585d9c293ce9d93d2b7235935313a">em_pool_cfg_init</a></div><div class="ttdeci">void em_pool_cfg_init(em_pool_cfg_t *const pool_cfg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7a/event__machine__pool_8c_source.html#l00043">event_machine_pool.c:43</a></div></div>
<div class="ttc" id="agroup__em__pool_html_ga8021ff58ae3dd773ed68e05e85ee987c"><div class="ttname"><a href="../../d1/d85/group__em__pool.html#ga8021ff58ae3dd773ed68e05e85ee987c">em_pool_delete</a></div><div class="ttdeci">em_status_t em_pool_delete(em_pool_t pool)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7a/event__machine__pool_8c_source.html#l00115">event_machine_pool.c:115</a></div></div>
<div class="ttc" id="agroup__em__queue_html_ga61d576ae9b5652a697358f1c71d349be"><div class="ttname"><a href="../../de/d3c/group__em__queue.html#ga61d576ae9b5652a697358f1c71d349be">em_queue_get_first</a></div><div class="ttdeci">em_queue_t em_queue_get_first(unsigned int *num)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dba/event__machine__queue_8c_source.html#l00307">event_machine_queue.c:307</a></div></div>
<div class="ttc" id="agroup__em__queue_html_ga83e001b62c2a87bf862fbf695c5e84fa"><div class="ttname"><a href="../../de/d3c/group__em__queue.html#ga83e001b62c2a87bf862fbf695c5e84fa">em_queue_set_context</a></div><div class="ttdeci">em_status_t em_queue_set_context(em_queue_t queue, const void *context)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dba/event__machine__queue_8c_source.html#l00112">event_machine_queue.c:112</a></div></div>
<div class="ttc" id="agroup__em__queue_html_ga8578903598bdb715a8bb9b3f552dd1bc"><div class="ttname"><a href="../../de/d3c/group__em__queue.html#ga8578903598bdb715a8bb9b3f552dd1bc">em_queue_get_next</a></div><div class="ttdeci">em_queue_t em_queue_get_next(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dba/event__machine__queue_8c_source.html#l00333">event_machine_queue.c:333</a></div></div>
<div class="ttc" id="agroup__em__queue_html_ga973db0375534e9a4a16a7c9a305573bf"><div class="ttname"><a href="../../de/d3c/group__em__queue.html#ga973db0375534e9a4a16a7c9a305573bf">em_queue_get_name</a></div><div class="ttdeci">size_t em_queue_get_name(em_queue_t queue, char *name, size_t maxlen)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dba/event__machine__queue_8c_source.html#l00145">event_machine_queue.c:145</a></div></div>
<div class="ttc" id="agroup__em__queue_html_gab125a473b889ca79b3d0fab51d27f7b9"><div class="ttname"><a href="../../de/d3c/group__em__queue.html#gab125a473b889ca79b3d0fab51d27f7b9">em_queue_get_type</a></div><div class="ttdeci">em_queue_type_t em_queue_get_type(em_queue_t queue)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dba/event__machine__queue_8c_source.html#l00201">event_machine_queue.c:201</a></div></div>
<div class="ttc" id="agroup__em__queue_html_gae54347263c7e083e3af4b1bb4c7df696"><div class="ttname"><a href="../../de/d3c/group__em__queue.html#gae54347263c7e083e3af4b1bb4c7df696">em_queue_find</a></div><div class="ttdeci">em_queue_t em_queue_find(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dba/event__machine__queue_8c_source.html#l00169">event_machine_queue.c:169</a></div></div>
<div class="ttc" id="agroup__em__queue_html_gaef257858d1fa660524f198dba20fa9eb"><div class="ttname"><a href="../../de/d3c/group__em__queue.html#gaef257858d1fa660524f198dba20fa9eb">em_queue_create</a></div><div class="ttdeci">em_queue_t em_queue_create(const char *name, em_queue_type_t type, em_queue_prio_t prio, em_queue_group_t group, const em_queue_conf_t *conf)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dba/event__machine__queue_8c_source.html#l00041">event_machine_queue.c:41</a></div></div>
<div class="ttc" id="agroup__em__queue_html_gafb697c252066500fffb19390b455c76a"><div class="ttname"><a href="../../de/d3c/group__em__queue.html#gafb697c252066500fffb19390b455c76a">em_queue_current</a></div><div class="ttdeci">em_queue_t em_queue_current(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dba/event__machine__queue_8c_source.html#l00302">event_machine_queue.c:302</a></div></div>
<div class="ttc" id="agroup__em__scheduler_html_ga35b0afc1114a49aa78ea56a2b64bb024"><div class="ttname"><a href="../../dd/d1b/group__em__scheduler.html#ga35b0afc1114a49aa78ea56a2b64bb024">em_sched_context_type_current</a></div><div class="ttdeci">em_sched_context_type_t em_sched_context_type_current(em_queue_t *queue)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d1f/event__machine__scheduler_8c_source.html#l00089">event_machine_scheduler.c:89</a></div></div>
<div class="ttc" id="agroup__em__scheduler_html_gaf80e7173968f134ff3a9df6509c17009"><div class="ttname"><a href="../../dd/d1b/group__em__scheduler.html#gaf80e7173968f134ff3a9df6509c17009">em_atomic_processing_end</a></div><div class="ttdeci">void em_atomic_processing_end(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d1f/event__machine__scheduler_8c_source.html#l00034">event_machine_scheduler.c:34</a></div></div>
<div class="ttc" id="astructem__eo__conf__t_html"><div class="ttname"><a href="../../de/dc0/structem__eo__conf__t.html">em_eo_conf_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/event__machine__types_8h_source.html#l00242">event_machine_types.h:242</a></div></div>
<div class="ttc" id="astructem__event__uarea__info__t_html"><div class="ttname"><a href="../../db/d19/structem__event__uarea__info__t.html">em_event_uarea_info_t</a></div><div class="ttdoc">Event user area information filled by em_event_uarea_info()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2e/event__machine__event_8h_source.html#l00881">event_machine_event.h:881</a></div></div>
<div class="ttc" id="astructem__event__uarea__info__t_html_a665001c80073f8683c58dcf8bdfd8940"><div class="ttname"><a href="../../db/d19/structem__event__uarea__info__t.html#a665001c80073f8683c58dcf8bdfd8940">em_event_uarea_info_t::value</a></div><div class="ttdeci">uint16_t value</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2e/event__machine__event_8h_source.html#l00895">event_machine_event.h:895</a></div></div>
<div class="ttc" id="astructem__event__uarea__info__t_html_ab3bcbba479359a9718d135a17b0acaf0"><div class="ttname"><a href="../../db/d19/structem__event__uarea__info__t.html#ab3bcbba479359a9718d135a17b0acaf0">em_event_uarea_info_t::id</a></div><div class="ttdeci">struct em_event_uarea_info_t::@1 id</div></div>
<div class="ttc" id="astructem__event__uarea__info__t_html_af9b4b1241c55eae1c2ed624b1cb144db"><div class="ttname"><a href="../../db/d19/structem__event__uarea__info__t.html#af9b4b1241c55eae1c2ed624b1cb144db">em_event_uarea_info_t::uarea</a></div><div class="ttdeci">void * uarea</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d2e/event__machine__event_8h_source.html#l00883">event_machine_event.h:883</a></div></div>
<div class="ttc" id="astructem__pool__cfg__t_html"><div class="ttname"><a href="../../d2/db5/structem__pool__cfg__t.html">em_pool_cfg_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d8f/event__machine__pool_8h_source.html#l00141">event_machine_pool.h:141</a></div></div>
<div class="ttc" id="astructem__pool__cfg__t_html_a3929a4fcd68d78ef12347bb6f230fd3a"><div class="ttname"><a href="../../d2/db5/structem__pool__cfg__t.html#a3929a4fcd68d78ef12347bb6f230fd3a">em_pool_cfg_t::num_subpools</a></div><div class="ttdeci">int num_subpools</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d8f/event__machine__pool_8h_source.html#l00264">event_machine_pool.h:264</a></div></div>
<div class="ttc" id="astructem__pool__cfg__t_html_a3f8e331ebdc0f001c76e4b89b40124e6"><div class="ttname"><a href="../../d2/db5/structem__pool__cfg__t.html#a3f8e331ebdc0f001c76e4b89b40124e6">em_pool_cfg_t::num</a></div><div class="ttdeci">uint32_t num</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d8f/event__machine__pool_8h_source.html#l00281">event_machine_pool.h:281</a></div></div>
<div class="ttc" id="astructem__pool__cfg__t_html_a783e3e9dafe05be89ccfe13b3949842d"><div class="ttname"><a href="../../d2/db5/structem__pool__cfg__t.html#a783e3e9dafe05be89ccfe13b3949842d">em_pool_cfg_t::cache_size</a></div><div class="ttdeci">uint32_t cache_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d8f/event__machine__pool_8h_source.html#l00294">event_machine_pool.h:294</a></div></div>
<div class="ttc" id="astructem__pool__cfg__t_html_a8df13d5f2195860c030809996ca4f493"><div class="ttname"><a href="../../d2/db5/structem__pool__cfg__t.html#a8df13d5f2195860c030809996ca4f493">em_pool_cfg_t::event_type</a></div><div class="ttdeci">em_event_type_t event_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d8f/event__machine__pool_8h_source.html#l00156">event_machine_pool.h:156</a></div></div>
<div class="ttc" id="astructem__pool__cfg__t_html_aa67ebf1bba1e9239f2332030aaf39e2a"><div class="ttname"><a href="../../d2/db5/structem__pool__cfg__t.html#aa67ebf1bba1e9239f2332030aaf39e2a">em_pool_cfg_t::subpool</a></div><div class="ttdeci">struct em_pool_cfg_t::@11 subpool[EM_MAX_SUBPOOLS]</div></div>
<div class="ttc" id="astructem__pool__cfg__t_html_aa74d6a49cffa671532948eaac1dadfc2"><div class="ttname"><a href="../../d2/db5/structem__pool__cfg__t.html#aa74d6a49cffa671532948eaac1dadfc2">em_pool_cfg_t::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d8f/event__machine__pool_8h_source.html#l00224">event_machine_pool.h:224</a></div></div>
<div class="ttc" id="astructem__pool__cfg__t_html_aaf3a99d80aa7a7dfa9fb5b52144d3b33"><div class="ttname"><a href="../../d2/db5/structem__pool__cfg__t.html#aaf3a99d80aa7a7dfa9fb5b52144d3b33">em_pool_cfg_t::in_use</a></div><div class="ttdeci">bool in_use</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d8f/event__machine__pool_8h_source.html#l00185">event_machine_pool.h:185</a></div></div>
<div class="ttc" id="astructem__pool__cfg__t_html_af05251345624f789214a15dd627d0bba"><div class="ttname"><a href="../../d2/db5/structem__pool__cfg__t.html#af05251345624f789214a15dd627d0bba">em_pool_cfg_t::user_area</a></div><div class="ttdeci">struct em_pool_cfg_t::@9 user_area</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
  <div id="footer" class="tabs">
   <div class="headertitle"> 
     &copy; 2017 Nokia Networks
   </div>
  </div>
 </body>
</html>
