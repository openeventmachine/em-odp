<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EM-ODP: Packet events</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doc-stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EM-ODP
   &#160;<span id="projectnumber">3.8.0-1</span>
   </div>
   <div id="projectbrief">Event Machine on ODP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d8/dcf/group__em__packet.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Packet events</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1a578b67f283df97f1c55bafcb4009ef"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcf/group__em__packet.html#ga1a578b67f283df97f1c55bafcb4009ef">em_packet_pointer</a> (em_event_t pktev)</td></tr>
<tr class="separator:ga1a578b67f283df97f1c55bafcb4009ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab564d2ee3d09c36b722c78f6da7e8811"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcf/group__em__packet.html#gab564d2ee3d09c36b722c78f6da7e8811">em_packet_size</a> (em_event_t pktev)</td></tr>
<tr class="memdesc:gab564d2ee3d09c36b722c78f6da7e8811"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the packet size.  <a href="../../d8/dcf/group__em__packet.html#gab564d2ee3d09c36b722c78f6da7e8811">More...</a><br /></td></tr>
<tr class="separator:gab564d2ee3d09c36b722c78f6da7e8811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b8be1803d114000d614c47b457cf64d"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcf/group__em__packet.html#ga0b8be1803d114000d614c47b457cf64d">em_packet_pointer_and_size</a> (em_event_t pktev, uint32_t *size)</td></tr>
<tr class="memdesc:ga0b8be1803d114000d614c47b457cf64d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the packet event data pointer as well as the packet size.  <a href="../../d8/dcf/group__em__packet.html#ga0b8be1803d114000d614c47b457cf64d">More...</a><br /></td></tr>
<tr class="separator:ga0b8be1803d114000d614c47b457cf64d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea42b35b3c91bc8194ef5b2404d27549"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcf/group__em__packet.html#gaea42b35b3c91bc8194ef5b2404d27549">em_packet_resize</a> (em_event_t pktev, uint32_t size)</td></tr>
<tr class="memdesc:gaea42b35b3c91bc8194ef5b2404d27549"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resize a packet event.  <a href="../../d8/dcf/group__em__packet.html#gaea42b35b3c91bc8194ef5b2404d27549">More...</a><br /></td></tr>
<tr class="separator:gaea42b35b3c91bc8194ef5b2404d27549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88c730158070d1f632cf694363b0dae6"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcf/group__em__packet.html#ga88c730158070d1f632cf694363b0dae6">em_packet_headroom</a> (em_event_t pktev)</td></tr>
<tr class="memdesc:ga88c730158070d1f632cf694363b0dae6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet event headroom length.  <a href="../../d8/dcf/group__em__packet.html#ga88c730158070d1f632cf694363b0dae6">More...</a><br /></td></tr>
<tr class="separator:ga88c730158070d1f632cf694363b0dae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf073732f60dc905ab0cd82dfa45d7c29"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcf/group__em__packet.html#gaf073732f60dc905ab0cd82dfa45d7c29">em_packet_tailroom</a> (em_event_t pktev)</td></tr>
<tr class="memdesc:gaf073732f60dc905ab0cd82dfa45d7c29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet event tailroom length.  <a href="../../d8/dcf/group__em__packet.html#gaf073732f60dc905ab0cd82dfa45d7c29">More...</a><br /></td></tr>
<tr class="separator:gaf073732f60dc905ab0cd82dfa45d7c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16c1e164cb9176eb5f2316e6b53b0cd9"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcf/group__em__packet.html#ga16c1e164cb9176eb5f2316e6b53b0cd9">em_packet_push_head</a> (em_event_t pktev, uint32_t len)</td></tr>
<tr class="memdesc:ga16c1e164cb9176eb5f2316e6b53b0cd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push out the beginning of the packet into the headroom.  <a href="../../d8/dcf/group__em__packet.html#ga16c1e164cb9176eb5f2316e6b53b0cd9">More...</a><br /></td></tr>
<tr class="separator:ga16c1e164cb9176eb5f2316e6b53b0cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1faa686152a02ce4e93d8197789c40c"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcf/group__em__packet.html#gaa1faa686152a02ce4e93d8197789c40c">em_packet_pull_head</a> (em_event_t pktev, uint32_t len)</td></tr>
<tr class="memdesc:gaa1faa686152a02ce4e93d8197789c40c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pull in the beginning of the packet from the headroom.  <a href="../../d8/dcf/group__em__packet.html#gaa1faa686152a02ce4e93d8197789c40c">More...</a><br /></td></tr>
<tr class="separator:gaa1faa686152a02ce4e93d8197789c40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga404a05b4ef0552c77cfe2ec7303f309a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcf/group__em__packet.html#ga404a05b4ef0552c77cfe2ec7303f309a">em_packet_push_tail</a> (em_event_t pktev, uint32_t len)</td></tr>
<tr class="memdesc:ga404a05b4ef0552c77cfe2ec7303f309a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push out the end of the packet into the tailroom.  <a href="../../d8/dcf/group__em__packet.html#ga404a05b4ef0552c77cfe2ec7303f309a">More...</a><br /></td></tr>
<tr class="separator:ga404a05b4ef0552c77cfe2ec7303f309a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga577f002a37238116f37e3f07815e58e4"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcf/group__em__packet.html#ga577f002a37238116f37e3f07815e58e4">em_packet_pull_tail</a> (em_event_t pktev, uint32_t len)</td></tr>
<tr class="separator:ga577f002a37238116f37e3f07815e58e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e90a7a359de58f399928404f08265ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcf/group__em__packet.html#ga7e90a7a359de58f399928404f08265ca">em_packet_reset</a> (em_event_t pktev, uint32_t size)</td></tr>
<tr class="separator:ga7e90a7a359de58f399928404f08265ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Operations on packet events.</p>
<h3>Packet events</h3>
<p>Event (major) Type: EM_EVENT_TYPE_PACKET</p>
<p>EM APIs for basic manipulation of packet events (i.e. events allocated from EM pools created with event type EM_EVENT_TYPE_PACKET). More advanced packet manipulation should be done via ODP APIs by first converting the EM event to an ODP packet (see <a class="el" href="../../d5/dbf/event__machine__odp__ext_8h.html">include/event_machine/platform/event_machine_odp_ext.h</a>).</p>
<p>Packet events contain a certain amount of headroom before the start of the actual packet data. The headroom allows new data, e.g. additional protocol headers, to be inserted before the start of the existing packet data. The amount of headroom available for newly allocated packets can be configured globally via the EM config file or, specifically for a pool via the <a class="el" href="../../d2/db5/structem__pool__cfg__t.html">em_pool_cfg_t</a> struct passed to <a class="el" href="../../d1/d85/group__em__pool.html#ga05acc37c035cef81910e8ea77e5db158">em_pool_create()</a>. Similarly, the packet may contain a certain amount of tailroom that can be used to extend the payload with additional data. The tailroom is located after the end of the packet payload until the end of the packet buffer. Pushing out the head/tail via APIs is required to include head- or tailroom into the packet data, see below.</p>
<p>The start of the packet data area can be modified by "pushing out" the head into the headroom or "pulling in" the head from the headroom. Similarly, the end of the packet data area can be modified by "pushing out" or "pulling in" the tail. Pushing out the head of the packet increases the packet data area from the beginning. This allows for e.g. insertion of new packet headers (prepend). Pulling in the head of the packet allows for e.g. dropping of packet headers from the beginning of the packet data. Pushing out the tail of the packet increases the packet data area at the end of the packet. This allows for extending the packet with new data (append). Pulling in the tail can be used to trim the end of unwanted data or set the packet size exactly so no extra data is present (avoids extra data over packet I/O). </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga88c730158070d1f632cf694363b0dae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88c730158070d1f632cf694363b0dae6">&#9670;&nbsp;</a></span>em_packet_headroom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t em_packet_headroom </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>pktev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Packet event headroom length. </p>
<p>Returns the current length of the packet headroom.</p>
<p>Only events allocated from EM pools created with event type EM_EVENT_TYPE_PACKET can be used with this API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pktev</td><td>Packet event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Headroom length </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if no headroom, but also on error (e.g. if the event isn't a packet) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html#l00135">135</a> of file <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html">event_machine_packet.c</a>.</p>

</div>
</div>
<a id="ga1a578b67f283df97f1c55bafcb4009ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a578b67f283df97f1c55bafcb4009ef">&#9670;&nbsp;</a></span>em_packet_pointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* em_packet_pointer </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>pktev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the packet event data pointer</p>
<p>Returns a pointer to the first byte of the packet data.</p>
<p>The data pointer can be adjusted with em_packet_push/pull_head().</p>
<p>Only events allocated from EM pools created with event type EM_EVENT_TYPE_PACKET can be used with this API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pktev</td><td>Packet event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the beginning of the packet data area </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>on error</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d5/d33/group__em__event.html#ga8f701c3a5901fc81d922b9d1d02691e3">em_event_pointer()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html#l00042">42</a> of file <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html">event_machine_packet.c</a>.</p>

</div>
</div>
<a id="ga0b8be1803d114000d614c47b457cf64d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b8be1803d114000d614c47b457cf64d">&#9670;&nbsp;</a></span>em_packet_pointer_and_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* em_packet_pointer_and_size </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>pktev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the packet event data pointer as well as the packet size. </p>
<p>Returns a pointer to the first byte of the packet data and optionally outputs the packet payload size.</p>
<p>This API is a combination of <a class="el" href="../../d8/dcf/group__em__packet.html#ga1a578b67f283df97f1c55bafcb4009ef">em_packet_pointer()</a> and <a class="el" href="../../d8/dcf/group__em__packet.html#gab564d2ee3d09c36b722c78f6da7e8811" title="Get the packet size.">em_packet_size()</a> since both are often needed at the same time.</p>
<p>Only events allocated from EM pools created with event type EM_EVENT_TYPE_PACKET can be used with this API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">pktev</td><td>Packet event handle </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">size</td><td>Optional output arg into which the packet event payload size (in bytes) is stored. Use 'size=NULL' if no size information is needed. Only set by the function when no errors occurred.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the beginning of the packet data area </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>on error ('size' not touched)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d8/dcf/group__em__packet.html#ga1a578b67f283df97f1c55bafcb4009ef">em_packet_pointer()</a>, <a class="el" href="../../d8/dcf/group__em__packet.html#gab564d2ee3d09c36b722c78f6da7e8811" title="Get the packet size.">em_packet_size()</a> </dd>
<dd>
<a class="el" href="../../d5/d33/group__em__event.html#ga8f701c3a5901fc81d922b9d1d02691e3">em_event_pointer()</a>, <a class="el" href="../../d5/d33/group__em__event.html#gada9a8dda15cfef5cee0f99e4b6e63ba3">em_event_get_size()</a>, <a class="el" href="../../d5/d33/group__em__event.html#ga1c50f52f58029a31accc7e54c90a0bd1" title="Get a pointer to the event structure/data as well as the event size.">em_event_pointer_and_size()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html#l00075">75</a> of file <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html">event_machine_packet.c</a>.</p>

</div>
</div>
<a id="gaa1faa686152a02ce4e93d8197789c40c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1faa686152a02ce4e93d8197789c40c">&#9670;&nbsp;</a></span>em_packet_pull_head()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* em_packet_pull_head </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>pktev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pull in the beginning of the packet from the headroom. </p>
<p>Decrease the packet data length by removing data from the beginning (head) of the packet. The packet headroom is increased by the same amount. The packet head may be pulled in until only 1 byte of the packet data remains. The packet is not modified if there's not enough data.</p>
<p>Only events allocated from EM pools created with event type EM_EVENT_TYPE_PACKET can be used with this API.</p>
<p>The event is not modified on error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pktev</td><td>Packet event handle </td></tr>
    <tr><td class="paramname">len</td><td>The number of bytes to pull in the head with (0 ... packet data len - 1)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the new beginning of the decreased packet data area </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>on unsupported event type, invalid length or other error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html#l00190">190</a> of file <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html">event_machine_packet.c</a>.</p>

</div>
</div>
<a id="ga577f002a37238116f37e3f07815e58e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga577f002a37238116f37e3f07815e58e4">&#9670;&nbsp;</a></span>em_packet_pull_tail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* em_packet_pull_tail </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>pktev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pull in the end of the packet from the tailroom.</p>
<p>Decrease the packet data length by removing data from the end (tail) of the packet. The packet tailroom is increased by the same amount. The packet tail may be pulled in until only 1 byte of the packet data remains. The packet is not modified if there's not enough data.</p>
<p>Only events allocated from EM pools created with event type EM_EVENT_TYPE_PACKET can be used with this API.</p>
<p>The event is not modified on error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pktev</td><td>Packet event handle </td></tr>
    <tr><td class="paramname">len</td><td>The number of bytes to pull in the tail with (0 ... packet data len - 1)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the end of the packet </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>on unsupported event type, invalid length or other error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html#l00236">236</a> of file <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html">event_machine_packet.c</a>.</p>

</div>
</div>
<a id="ga16c1e164cb9176eb5f2316e6b53b0cd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16c1e164cb9176eb5f2316e6b53b0cd9">&#9670;&nbsp;</a></span>em_packet_push_head()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* em_packet_push_head </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>pktev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push out the beginning of the packet into the headroom. </p>
<p>Increase the packet data length by moving the beginning (head) of the packet into the packet headroom. The packet headroom is decreased by the same amount. The packet head may be pushed out by up to 'headroom' bytes. The packet is not modified if there's not enough space in the headroom.</p>
<p>Only events allocated from EM pools created with event type EM_EVENT_TYPE_PACKET can be used with this API.</p>
<p>The event is not modified on error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pktev</td><td>Packet event handle </td></tr>
    <tr><td class="paramname">len</td><td>The number of bytes to push out the head (0 ... headroom)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the new beginning of the increased packet data area </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>on unsupported event type, invalid length or other error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html#l00167">167</a> of file <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html">event_machine_packet.c</a>.</p>

</div>
</div>
<a id="ga404a05b4ef0552c77cfe2ec7303f309a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga404a05b4ef0552c77cfe2ec7303f309a">&#9670;&nbsp;</a></span>em_packet_push_tail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* em_packet_push_tail </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>pktev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push out the end of the packet into the tailroom. </p>
<p>Increase the packet data length by moving the end (tail) of the packet into the packet tailroom. The packet tailroom is decreased by the same amount. The packet tail may be pushed out by up to 'tailroom' bytes. The packet is not modified if there's not enough space in the tailroom.</p>
<p>Only events allocated from EM pools created with event type EM_EVENT_TYPE_PACKET can be used with this API.</p>
<p>The event is not modified on error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pktev</td><td>Packet event handle </td></tr>
    <tr><td class="paramname">len</td><td>The number of bytes to push out the tail (0 ... tailroom)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the start of the newly added data at the end of the packet </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>on unsupported event type or other error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html#l00213">213</a> of file <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html">event_machine_packet.c</a>.</p>

</div>
</div>
<a id="ga7e90a7a359de58f399928404f08265ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e90a7a359de58f399928404f08265ca">&#9670;&nbsp;</a></span>em_packet_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d11/event__machine__types_8h.html#adddd88868f7aa0d32b3e40245eb4ef8f">em_status_t</a> em_packet_reset </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>pktev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset a packet event</p>
<p>Resets packet event metadata and adjusts the start of the packet data back to pool (and subpool) defaults. The packet data size is set to 'size' and must fit the used subpool sizing.</p>
<p>The event type, set by em_alloc...() (or <a class="el" href="../../d5/d33/group__em__event.html#ga91a1f77b8cd188c0d37cb1941a55f1b1">em_event_set_type()</a>) is untouched by the reset-operation.</p>
<p>The event user area metadata is reset, i.e. the user area id is unset but the actual user area content is untouched.</p>
<p>Logically, this reset operation is similar to freeing the event and then allocating the same event again with a given 'size' and the same type (but without any actual free &amp; alloc via the event pool being done).</p>
<p>This function must not be called for events with references.</p>
<p>Only events allocated from EM pools created with event type EM_EVENT_TYPE_PACKET can be used with this API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pktev</td><td>Packet event handle </td></tr>
    <tr><td class="paramname">size</td><td>Packet data size</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EM_OK when successful or an EM error code on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html#l00259">259</a> of file <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html">event_machine_packet.c</a>.</p>

</div>
</div>
<a id="gaea42b35b3c91bc8194ef5b2404d27549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea42b35b3c91bc8194ef5b2404d27549">&#9670;&nbsp;</a></span>em_packet_resize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* em_packet_resize </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>pktev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resize a packet event. </p>
<p>Set a new size for a packet, by adjusting the end of the packet via the packet tailroom. Only the end (tail) of the packet is modified to change the size, the beginning (head) is untouched.</p>
<p>The packet can be enlarged with max '<a class="el" href="../../d8/dcf/group__em__packet.html#gaf073732f60dc905ab0cd82dfa45d7c29" title="Packet event tailroom length.">em_packet_tailroom()</a>' bytes or reduced to min one (1) byte: 1 &lt;= 'size' &lt;= (<a class="el" href="../../d8/dcf/group__em__packet.html#gab564d2ee3d09c36b722c78f6da7e8811" title="Get the packet size.">em_packet_size()</a> + <a class="el" href="../../d8/dcf/group__em__packet.html#gaf073732f60dc905ab0cd82dfa45d7c29" title="Packet event tailroom length.">em_packet_tailroom()</a>)</p>
<p>Only events allocated from EM pools created with event type EM_EVENT_TYPE_PACKET can be used with this API.</p>
<p>The event is not modified on error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pktev</td><td>Packet event handle </td></tr>
    <tr><td class="paramname">size</td><td>New size of the packet event (1 ... current-size + tailroom)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the beginning of the packet data </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>on unsupported event type, invalid size or other error</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d8/dcf/group__em__packet.html#ga404a05b4ef0552c77cfe2ec7303f309a" title="Push out the end of the packet into the tailroom.">em_packet_push_tail()</a>, <a class="el" href="../../d8/dcf/group__em__packet.html#ga577f002a37238116f37e3f07815e58e4">em_packet_pull_tail()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html#l00098">98</a> of file <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html">event_machine_packet.c</a>.</p>

</div>
</div>
<a id="gab564d2ee3d09c36b722c78f6da7e8811"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab564d2ee3d09c36b722c78f6da7e8811">&#9670;&nbsp;</a></span>em_packet_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t em_packet_size </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>pktev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the packet size. </p>
<p>Returns the number of linearly accessible data bytes that follows after the current packet data pointer position.</p>
<p>Only events allocated from EM pools created with event type EM_EVENT_TYPE_PACKET can be used with this API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pktev</td><td>Packet event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Packet data size in bytes following <a class="el" href="../../d8/dcf/group__em__packet.html#ga1a578b67f283df97f1c55bafcb4009ef">em_packet_pointer()</a> </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html#l00058">58</a> of file <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html">event_machine_packet.c</a>.</p>

</div>
</div>
<a id="gaf073732f60dc905ab0cd82dfa45d7c29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf073732f60dc905ab0cd82dfa45d7c29">&#9670;&nbsp;</a></span>em_packet_tailroom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t em_packet_tailroom </td>
          <td>(</td>
          <td class="paramtype">em_event_t&#160;</td>
          <td class="paramname"><em>pktev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Packet event tailroom length. </p>
<p>Returns the current length of the packet tailroom.</p>
<p>Only events allocated from EM pools created with event type EM_EVENT_TYPE_PACKET can be used with this API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pktev</td><td>Packet event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Tailroom length </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if no tailroom, but also on error (e.g. if the event isn't a packet) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html#l00151">151</a> of file <a class="el" href="../../d5/d58/event__machine__packet_8c_source.html">event_machine_packet.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
  <div id="footer" class="tabs">
   <div class="headertitle"> 
     &copy; 2017 Nokia Networks
   </div>
  </div>
 </body>
</html>
